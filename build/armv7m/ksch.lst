ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ksch.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "arch/armv7m/kernel/src/ksch.c"
  18              		.section	.text.kInitStack_,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	kInitStack_:
  25              	.LVL0:
  26              	.LFB63:
   1:arch/armv7m/kernel/src/ksch.c **** /******************************************************************************
   2:arch/armv7m/kernel/src/ksch.c ****  *
   3:arch/armv7m/kernel/src/ksch.c ****  * RK0 - Real-Time Kernel '0'
   4:arch/armv7m/kernel/src/ksch.c ****  * Version  :   V0.4.0
   5:arch/armv7m/kernel/src/ksch.c ****  * Target   :   ARMv7m
   6:arch/armv7m/kernel/src/ksch.c ****  *
   7:arch/armv7m/kernel/src/ksch.c ****  * Copyright (c) 2025 Antonio Giacomelli
   8:arch/armv7m/kernel/src/ksch.c ****  *
   9:arch/armv7m/kernel/src/ksch.c ****  ******************************************************************************/
  10:arch/armv7m/kernel/src/ksch.c **** /******************************************************************************
  11:arch/armv7m/kernel/src/ksch.c ****  *
  12:arch/armv7m/kernel/src/ksch.c ****  * 	Module           :  HIGH-LEVEL SCHEDULER
  13:arch/armv7m/kernel/src/ksch.c ****  * 	Provides to      :  ALL
  14:arch/armv7m/kernel/src/ksch.c ****  *  Depends  on      :  LOW-LEVEL SCHEDULER
  15:arch/armv7m/kernel/src/ksch.c ****  *  Public API 		 :  YES
  16:arch/armv7m/kernel/src/ksch.c ****  *
  17:arch/armv7m/kernel/src/ksch.c ****  ******************************************************************************/
  18:arch/armv7m/kernel/src/ksch.c **** 
  19:arch/armv7m/kernel/src/ksch.c **** #define RK_CODE
  20:arch/armv7m/kernel/src/ksch.c **** 
  21:arch/armv7m/kernel/src/ksch.c **** #include "kexecutive.h"
  22:arch/armv7m/kernel/src/ksch.c **** 
  23:arch/armv7m/kernel/src/ksch.c **** /*****************************************************************************/
  24:arch/armv7m/kernel/src/ksch.c **** 
  25:arch/armv7m/kernel/src/ksch.c **** /* scheduler globals */
  26:arch/armv7m/kernel/src/ksch.c **** 
  27:arch/armv7m/kernel/src/ksch.c **** RK_TCBQ readyQueue[RK_CONF_MIN_PRIO + 2];
  28:arch/armv7m/kernel/src/ksch.c **** RK_TCB *runPtr;
  29:arch/armv7m/kernel/src/ksch.c **** RK_TCB tcbs[RK_NTHREADS];
  30:arch/armv7m/kernel/src/ksch.c **** RK_TASK_HANDLE timTaskHandle;
  31:arch/armv7m/kernel/src/ksch.c **** RK_TASK_HANDLE idleTaskHandle;
  32:arch/armv7m/kernel/src/ksch.c **** struct kRunTime runTime;
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 2


  33:arch/armv7m/kernel/src/ksch.c **** /* local globals  */
  34:arch/armv7m/kernel/src/ksch.c **** static RK_PRIO highestPrio = 0;
  35:arch/armv7m/kernel/src/ksch.c **** static RK_PRIO const lowestPrio = RK_CONF_MIN_PRIO;
  36:arch/armv7m/kernel/src/ksch.c **** static RK_PRIO nextTaskPrio = 0;
  37:arch/armv7m/kernel/src/ksch.c **** static RK_PRIO idleTaskPrio = RK_CONF_MIN_PRIO + 1;
  38:arch/armv7m/kernel/src/ksch.c **** static volatile ULONG readyQBitMask;
  39:arch/armv7m/kernel/src/ksch.c **** static volatile ULONG readyQRightMask;
  40:arch/armv7m/kernel/src/ksch.c **** static volatile ULONG version;
  41:arch/armv7m/kernel/src/ksch.c **** /* fwded private helpers */
  42:arch/armv7m/kernel/src/ksch.c **** static inline VOID kReadyRunningTask_( VOID);
  43:arch/armv7m/kernel/src/ksch.c **** static inline RK_PRIO kCalcNextTaskPrio_();
  44:arch/armv7m/kernel/src/ksch.c **** #if (RK_CONF_SCH_TSLICE == ON)
  45:arch/armv7m/kernel/src/ksch.c ****  static inline BOOL kIncTimeSlice_( VOID);
  46:arch/armv7m/kernel/src/ksch.c ****  
  47:arch/armv7m/kernel/src/ksch.c ****  #endif
  48:arch/armv7m/kernel/src/ksch.c **** 
  49:arch/armv7m/kernel/src/ksch.c **** /*******************************************************************************
  50:arch/armv7m/kernel/src/ksch.c ****  * YIELD
  51:arch/armv7m/kernel/src/ksch.c ****  *******************************************************************************/
  52:arch/armv7m/kernel/src/ksch.c **** 
  53:arch/armv7m/kernel/src/ksch.c **** VOID kYield( VOID)/*  <- USE THIS =) */
  54:arch/armv7m/kernel/src/ksch.c **** {
  55:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_AREA
  56:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_ENTER
  57:arch/armv7m/kernel/src/ksch.c **** 	kReadyRunningTask_();
  58:arch/armv7m/kernel/src/ksch.c **** 	RK_PEND_CTXTSWTCH
  59:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_EXIT
  60:arch/armv7m/kernel/src/ksch.c **** 
  61:arch/armv7m/kernel/src/ksch.c **** }
  62:arch/armv7m/kernel/src/ksch.c **** 
  63:arch/armv7m/kernel/src/ksch.c **** /*******************************************************************************
  64:arch/armv7m/kernel/src/ksch.c ****  TASK QUEUE MANAGEMENT
  65:arch/armv7m/kernel/src/ksch.c ****  *******************************************************************************/
  66:arch/armv7m/kernel/src/ksch.c **** 
  67:arch/armv7m/kernel/src/ksch.c **** RK_ERR kTCBQInit( RK_TCBQ *const kobj, CHAR *listName)
  68:arch/armv7m/kernel/src/ksch.c **** {
  69:arch/armv7m/kernel/src/ksch.c **** 	if (RK_IS_NULL_PTR( kobj))
  70:arch/armv7m/kernel/src/ksch.c **** 	{
  71:arch/armv7m/kernel/src/ksch.c **** 		kErrHandler( RK_FAULT_OBJ_NULL);
  72:arch/armv7m/kernel/src/ksch.c **** 		return (RK_ERR_OBJ_NULL);
  73:arch/armv7m/kernel/src/ksch.c **** 	}
  74:arch/armv7m/kernel/src/ksch.c **** 	return (kListInit( kobj, listName));
  75:arch/armv7m/kernel/src/ksch.c **** }
  76:arch/armv7m/kernel/src/ksch.c **** 
  77:arch/armv7m/kernel/src/ksch.c **** RK_ERR kTCBQEnq( RK_TCBQ *const kobj, RK_TCB *const tcbPtr)
  78:arch/armv7m/kernel/src/ksch.c **** {
  79:arch/armv7m/kernel/src/ksch.c **** 
  80:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_AREA
  81:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_ENTER
  82:arch/armv7m/kernel/src/ksch.c **** 	if (kobj == NULL || tcbPtr == NULL)
  83:arch/armv7m/kernel/src/ksch.c **** 	{
  84:arch/armv7m/kernel/src/ksch.c **** 		kErrHandler( RK_FAULT_OBJ_NULL);
  85:arch/armv7m/kernel/src/ksch.c **** 	}
  86:arch/armv7m/kernel/src/ksch.c **** 	RK_ERR err = kListAddTail( kobj, &(tcbPtr->tcbNode));
  87:arch/armv7m/kernel/src/ksch.c **** 	if (err == 0)
  88:arch/armv7m/kernel/src/ksch.c **** 	{
  89:arch/armv7m/kernel/src/ksch.c **** 		if (kobj == &readyQueue[tcbPtr->priority])
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 3


  90:arch/armv7m/kernel/src/ksch.c **** 			readyQBitMask |= 1 << tcbPtr->priority;
  91:arch/armv7m/kernel/src/ksch.c **** 	}
  92:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_EXIT
  93:arch/armv7m/kernel/src/ksch.c **** 	return (err);
  94:arch/armv7m/kernel/src/ksch.c **** }
  95:arch/armv7m/kernel/src/ksch.c **** 
  96:arch/armv7m/kernel/src/ksch.c **** RK_ERR kTCBQDeq( RK_TCBQ *const kobj, RK_TCB **const tcbPPtr)
  97:arch/armv7m/kernel/src/ksch.c **** {
  98:arch/armv7m/kernel/src/ksch.c **** 	if (kobj == NULL)
  99:arch/armv7m/kernel/src/ksch.c **** 	{
 100:arch/armv7m/kernel/src/ksch.c **** 		kErrHandler( RK_FAULT_OBJ_NULL);
 101:arch/armv7m/kernel/src/ksch.c **** 	}
 102:arch/armv7m/kernel/src/ksch.c **** 	RK_NODE *dequeuedNodePtr = NULL;
 103:arch/armv7m/kernel/src/ksch.c **** 	RK_ERR err = kListRemoveHead( kobj, &dequeuedNodePtr);
 104:arch/armv7m/kernel/src/ksch.c **** 
 105:arch/armv7m/kernel/src/ksch.c **** 	if (err != RK_SUCCESS)
 106:arch/armv7m/kernel/src/ksch.c **** 	{
 107:arch/armv7m/kernel/src/ksch.c **** 		return (err);
 108:arch/armv7m/kernel/src/ksch.c **** 	}
 109:arch/armv7m/kernel/src/ksch.c **** 	*tcbPPtr = RK_LIST_GET_TCB_NODE( dequeuedNodePtr, RK_TCB);
 110:arch/armv7m/kernel/src/ksch.c **** 
 111:arch/armv7m/kernel/src/ksch.c **** 	if (*tcbPPtr == NULL)
 112:arch/armv7m/kernel/src/ksch.c **** 	{
 113:arch/armv7m/kernel/src/ksch.c **** 		kErrHandler( RK_FAULT_OBJ_NULL);
 114:arch/armv7m/kernel/src/ksch.c **** 		return (RK_ERR_OBJ_NULL);
 115:arch/armv7m/kernel/src/ksch.c **** 	}
 116:arch/armv7m/kernel/src/ksch.c **** 	RK_TCB *tcbPtr_ = *tcbPPtr;
 117:arch/armv7m/kernel/src/ksch.c **** 	RK_PRIO prio_ = tcbPtr_->priority;
 118:arch/armv7m/kernel/src/ksch.c **** 	if ((kobj == &readyQueue[prio_]) && (kobj->size == 0))
 119:arch/armv7m/kernel/src/ksch.c **** 		readyQBitMask &= ~(1U << prio_);
 120:arch/armv7m/kernel/src/ksch.c **** 	return (RK_SUCCESS);
 121:arch/armv7m/kernel/src/ksch.c **** }
 122:arch/armv7m/kernel/src/ksch.c **** 
 123:arch/armv7m/kernel/src/ksch.c **** RK_ERR kTCBQRem( RK_TCBQ *const kobj, RK_TCB **const tcbPPtr)
 124:arch/armv7m/kernel/src/ksch.c **** {
 125:arch/armv7m/kernel/src/ksch.c **** 	if (kobj == NULL || tcbPPtr == NULL)
 126:arch/armv7m/kernel/src/ksch.c **** 	{
 127:arch/armv7m/kernel/src/ksch.c **** 		kErrHandler( RK_FAULT_OBJ_NULL);
 128:arch/armv7m/kernel/src/ksch.c **** 	}
 129:arch/armv7m/kernel/src/ksch.c **** 	RK_NODE *dequeuedNodePtr = &((*tcbPPtr)->tcbNode);
 130:arch/armv7m/kernel/src/ksch.c **** 	RK_ERR err = kListRemove( kobj, dequeuedNodePtr);
 131:arch/armv7m/kernel/src/ksch.c **** 	if (err != RK_SUCCESS)
 132:arch/armv7m/kernel/src/ksch.c **** 	{
 133:arch/armv7m/kernel/src/ksch.c **** 		return (err);
 134:arch/armv7m/kernel/src/ksch.c **** 	}
 135:arch/armv7m/kernel/src/ksch.c **** 	*tcbPPtr = RK_LIST_GET_TCB_NODE( dequeuedNodePtr, RK_TCB);
 136:arch/armv7m/kernel/src/ksch.c **** 	if (*tcbPPtr == NULL)
 137:arch/armv7m/kernel/src/ksch.c **** 	{
 138:arch/armv7m/kernel/src/ksch.c **** 		kErrHandler( RK_FAULT_OBJ_NULL);
 139:arch/armv7m/kernel/src/ksch.c **** 	}
 140:arch/armv7m/kernel/src/ksch.c **** 	RK_TCB *tcbPtr_ = *tcbPPtr;
 141:arch/armv7m/kernel/src/ksch.c **** 	RK_PRIO prio_ = tcbPtr_->priority;
 142:arch/armv7m/kernel/src/ksch.c **** 	if ((kobj == &readyQueue[prio_]) && (kobj->size == 0))
 143:arch/armv7m/kernel/src/ksch.c **** 		readyQBitMask &= ~(1U << prio_);
 144:arch/armv7m/kernel/src/ksch.c **** 	return (RK_SUCCESS);
 145:arch/armv7m/kernel/src/ksch.c **** }
 146:arch/armv7m/kernel/src/ksch.c **** 
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 4


 147:arch/armv7m/kernel/src/ksch.c **** RK_TCB* kTCBQPeek( RK_TCBQ *const kobj)
 148:arch/armv7m/kernel/src/ksch.c **** {
 149:arch/armv7m/kernel/src/ksch.c **** 	if (kobj == NULL)
 150:arch/armv7m/kernel/src/ksch.c **** 	{
 151:arch/armv7m/kernel/src/ksch.c **** 		kErrHandler( RK_FAULT_OBJ_NULL);
 152:arch/armv7m/kernel/src/ksch.c **** 	}
 153:arch/armv7m/kernel/src/ksch.c **** 	RK_NODE *nodePtr = kobj->listDummy.nextPtr;
 154:arch/armv7m/kernel/src/ksch.c **** 	return (RK_GET_CONTAINER_ADDR( nodePtr, RK_TCB, tcbNode));
 155:arch/armv7m/kernel/src/ksch.c **** }
 156:arch/armv7m/kernel/src/ksch.c **** 
 157:arch/armv7m/kernel/src/ksch.c **** RK_ERR kTCBQEnqByPrio( RK_TCBQ *const kobj, RK_TCB *const tcbPtr)
 158:arch/armv7m/kernel/src/ksch.c **** {
 159:arch/armv7m/kernel/src/ksch.c **** 	RK_ERR err;
 160:arch/armv7m/kernel/src/ksch.c **** 	if (kobj == NULL || tcbPtr == NULL)
 161:arch/armv7m/kernel/src/ksch.c **** 	{
 162:arch/armv7m/kernel/src/ksch.c **** 		kErrHandler( RK_FAULT_OBJ_NULL);
 163:arch/armv7m/kernel/src/ksch.c **** 	}
 164:arch/armv7m/kernel/src/ksch.c **** 	if (kobj->size == 0)
 165:arch/armv7m/kernel/src/ksch.c **** 	{
 166:arch/armv7m/kernel/src/ksch.c **** 		/* enq on tail */
 167:arch/armv7m/kernel/src/ksch.c **** 		err = kTCBQEnq( kobj, tcbPtr);
 168:arch/armv7m/kernel/src/ksch.c **** 		return (err);
 169:arch/armv7m/kernel/src/ksch.c **** 	}
 170:arch/armv7m/kernel/src/ksch.c **** 	/* start on the tail and traverse with >= cond,    */
 171:arch/armv7m/kernel/src/ksch.c **** 	/*  so we use a single insertafter.                */
 172:arch/armv7m/kernel/src/ksch.c **** 	RK_NODE *currNodePtr = kobj->listDummy.prevPtr;
 173:arch/armv7m/kernel/src/ksch.c **** 	RK_TCB *currTcbPtr = RK_LIST_GET_TCB_NODE( currNodePtr, RK_TCB);
 174:arch/armv7m/kernel/src/ksch.c **** 	while (currTcbPtr->priority >= tcbPtr->priority)
 175:arch/armv7m/kernel/src/ksch.c **** 	{
 176:arch/armv7m/kernel/src/ksch.c **** 		currNodePtr = currNodePtr->nextPtr;
 177:arch/armv7m/kernel/src/ksch.c **** 		/* list end */
 178:arch/armv7m/kernel/src/ksch.c **** 		if (currNodePtr == &(kobj->listDummy))
 179:arch/armv7m/kernel/src/ksch.c **** 		{
 180:arch/armv7m/kernel/src/ksch.c **** 			break;
 181:arch/armv7m/kernel/src/ksch.c **** 		}
 182:arch/armv7m/kernel/src/ksch.c **** 		currTcbPtr = RK_LIST_GET_TCB_NODE( currNodePtr, RK_TCB);
 183:arch/armv7m/kernel/src/ksch.c **** 	}
 184:arch/armv7m/kernel/src/ksch.c **** 	err = kListInsertAfter( kobj, currNodePtr, &(tcbPtr->tcbNode));
 185:arch/armv7m/kernel/src/ksch.c **** 	kassert( err == 0);
 186:arch/armv7m/kernel/src/ksch.c **** 	return (err);
 187:arch/armv7m/kernel/src/ksch.c **** }
 188:arch/armv7m/kernel/src/ksch.c **** 
 189:arch/armv7m/kernel/src/ksch.c **** #define INSTANT_PREEMPT_LOWER_PRIO
 190:arch/armv7m/kernel/src/ksch.c **** /* this function enq ready and pend ctxt swtch if ready > running */
 191:arch/armv7m/kernel/src/ksch.c **** RK_ERR kReadyCtxtSwtch( RK_TCB *const tcbPtr)
 192:arch/armv7m/kernel/src/ksch.c **** {
 193:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_AREA
 194:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_ENTER
 195:arch/armv7m/kernel/src/ksch.c **** 	if (RK_IS_NULL_PTR( tcbPtr))
 196:arch/armv7m/kernel/src/ksch.c **** 	{
 197:arch/armv7m/kernel/src/ksch.c **** 		kErrHandler( RK_FAULT_OBJ_NULL);
 198:arch/armv7m/kernel/src/ksch.c **** 		RK_CR_EXIT
 199:arch/armv7m/kernel/src/ksch.c **** 		return (RK_ERR_OBJ_NULL);
 200:arch/armv7m/kernel/src/ksch.c **** 	}
 201:arch/armv7m/kernel/src/ksch.c **** 	if (kTCBQEnq( &readyQueue[tcbPtr->priority], tcbPtr) == RK_SUCCESS)
 202:arch/armv7m/kernel/src/ksch.c **** 	{
 203:arch/armv7m/kernel/src/ksch.c **** 		tcbPtr->status = RK_READY;
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 5


 204:arch/armv7m/kernel/src/ksch.c **** #ifdef INSTANT_PREEMPT_LOWER_PRIO
 205:arch/armv7m/kernel/src/ksch.c **** 		if (RK_READY_HIGHER_PRIO( tcbPtr))
 206:arch/armv7m/kernel/src/ksch.c **** 		{
 207:arch/armv7m/kernel/src/ksch.c **** 			kassert( !kTCBQEnq( &readyQueue[runPtr->priority], runPtr));
 208:arch/armv7m/kernel/src/ksch.c **** 			runPtr->status = RK_READY;
 209:arch/armv7m/kernel/src/ksch.c **** 			RK_PEND_CTXTSWTCH
 210:arch/armv7m/kernel/src/ksch.c **** 		}
 211:arch/armv7m/kernel/src/ksch.c **** #endif
 212:arch/armv7m/kernel/src/ksch.c **** 	}
 213:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_EXIT
 214:arch/armv7m/kernel/src/ksch.c **** 	return (RK_SUCCESS);
 215:arch/armv7m/kernel/src/ksch.c **** }
 216:arch/armv7m/kernel/src/ksch.c **** 
 217:arch/armv7m/kernel/src/ksch.c **** RK_ERR kReadyQDeq( RK_TCB **const tcbPPtr, RK_PRIO priority)
 218:arch/armv7m/kernel/src/ksch.c **** {
 219:arch/armv7m/kernel/src/ksch.c **** 
 220:arch/armv7m/kernel/src/ksch.c **** 	RK_ERR err = kTCBQDeq( &readyQueue[priority], tcbPPtr);
 221:arch/armv7m/kernel/src/ksch.c **** 	kassert( err == 0);
 222:arch/armv7m/kernel/src/ksch.c **** 	return (err);
 223:arch/armv7m/kernel/src/ksch.c **** }
 224:arch/armv7m/kernel/src/ksch.c **** 
 225:arch/armv7m/kernel/src/ksch.c **** /*******************************************************************************
 226:arch/armv7m/kernel/src/ksch.c ****  * Task Control Block Management
 227:arch/armv7m/kernel/src/ksch.c ****  *******************************************************************************/
 228:arch/armv7m/kernel/src/ksch.c **** 
 229:arch/armv7m/kernel/src/ksch.c **** static RK_PID pPid = 0;/** system pid for each task   */
 230:arch/armv7m/kernel/src/ksch.c **** 
 231:arch/armv7m/kernel/src/ksch.c **** static RK_ERR kInitStack_( INT *const stackAddrPtr, UINT const stackSize,
 232:arch/armv7m/kernel/src/ksch.c **** 		RK_TASKENTRY const taskFuncPtr, VOID *argsPtr)
 233:arch/armv7m/kernel/src/ksch.c **** {
  27              		.loc 1 233 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
 234:arch/armv7m/kernel/src/ksch.c **** 
 235:arch/armv7m/kernel/src/ksch.c **** 	if (stackAddrPtr == NULL || stackSize == 0 || taskFuncPtr == NULL)
  32              		.loc 1 235 2 view .LVU1
  33              		.loc 1 235 5 is_stmt 0 view .LVU2
  34 0000 0028     		cmp	r0, #0
  35 0002 6CD0     		beq	.L5
  36 0004 8446     		mov	ip, r0
  37              		.loc 1 235 27 discriminator 1 view .LVU3
  38 0006 0029     		cmp	r1, #0
  39 0008 6CD0     		beq	.L6
  40              		.loc 1 235 45 discriminator 2 view .LVU4
  41 000a 002A     		cmp	r2, #0
  42 000c 6DD0     		beq	.L7
 233:arch/armv7m/kernel/src/ksch.c **** 
  43              		.loc 1 233 1 view .LVU5
  44 000e 10B4     		push	{r4}
  45              		.cfi_def_cfa_offset 4
  46              		.cfi_offset 4, -4
 236:arch/armv7m/kernel/src/ksch.c **** 	{
 237:arch/armv7m/kernel/src/ksch.c **** 		return (RK_ERROR);
 238:arch/armv7m/kernel/src/ksch.c **** 	}
 239:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[stackSize - PSR_OFFSET] = 0x01000000;
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 6


  47              		.loc 1 239 2 is_stmt 1 view .LVU6
  48              		.loc 1 239 14 is_stmt 0 view .LVU7
  49 0010 01F18040 		add	r0, r1, #1073741824
  50              	.LVL1:
  51              		.loc 1 239 14 view .LVU8
  52 0014 0138     		subs	r0, r0, #1
  53              		.loc 1 239 39 view .LVU9
  54 0016 4FF08074 		mov	r4, #16777216
  55 001a 4CF82040 		str	r4, [ip, r0, lsl #2]
 240:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[stackSize - PC_OFFSET] = (INT) taskFuncPtr;
  56              		.loc 1 240 2 is_stmt 1 view .LVU10
  57              		.loc 1 240 14 is_stmt 0 view .LVU11
  58 001e 01F18040 		add	r0, r1, #1073741824
  59 0022 841E     		subs	r4, r0, #2
  60              		.loc 1 240 38 view .LVU12
  61 0024 4CF82420 		str	r2, [ip, r4, lsl #2]
 241:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[stackSize - LR_OFFSET] = 0x14141414;
  62              		.loc 1 241 2 is_stmt 1 view .LVU13
  63              		.loc 1 241 14 is_stmt 0 view .LVU14
  64 0028 C21E     		subs	r2, r0, #3
  65              	.LVL2:
  66              		.loc 1 241 38 view .LVU15
  67 002a 4FF01434 		mov	r4, #336860180
  68              	.LVL3:
  69              		.loc 1 241 38 view .LVU16
  70 002e 4CF82240 		str	r4, [ip, r2, lsl #2]
 242:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[stackSize - R12_OFFSET] = 0x12121212;
  71              		.loc 1 242 2 is_stmt 1 view .LVU17
  72              		.loc 1 242 14 is_stmt 0 view .LVU18
  73 0032 021F     		subs	r2, r0, #4
  74              		.loc 1 242 39 view .LVU19
  75 0034 4FF01234 		mov	r4, #303174162
  76 0038 4CF82240 		str	r4, [ip, r2, lsl #2]
 243:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[stackSize - R3_OFFSET] = 0x03030303;
  77              		.loc 1 243 2 is_stmt 1 view .LVU20
  78              		.loc 1 243 14 is_stmt 0 view .LVU21
  79 003c 421F     		subs	r2, r0, #5
  80              		.loc 1 243 38 view .LVU22
  81 003e 4FF00334 		mov	r4, #50529027
  82 0042 4CF82240 		str	r4, [ip, r2, lsl #2]
 244:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[stackSize - R2_OFFSET] = 0x02020202;
  83              		.loc 1 244 2 is_stmt 1 view .LVU23
  84              		.loc 1 244 14 is_stmt 0 view .LVU24
  85 0046 821F     		subs	r2, r0, #6
  86              		.loc 1 244 38 view .LVU25
  87 0048 4FF00234 		mov	r4, #33686018
  88 004c 4CF82240 		str	r4, [ip, r2, lsl #2]
 245:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[stackSize - R1_OFFSET] = 0x01010101;
  89              		.loc 1 245 2 is_stmt 1 view .LVU26
  90              		.loc 1 245 14 is_stmt 0 view .LVU27
  91 0050 C21F     		subs	r2, r0, #7
  92              		.loc 1 245 38 view .LVU28
  93 0052 4FF00134 		mov	r4, #16843009
  94 0056 4CF82240 		str	r4, [ip, r2, lsl #2]
 246:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[stackSize - R0_OFFSET] = (INT) (argsPtr);
  95              		.loc 1 246 2 is_stmt 1 view .LVU29
  96              		.loc 1 246 14 is_stmt 0 view .LVU30
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 7


  97 005a A0F10802 		sub	r2, r0, #8
  98              		.loc 1 246 38 view .LVU31
  99 005e 4CF82230 		str	r3, [ip, r2, lsl #2]
 247:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[stackSize - R11_OFFSET] = 0x11111111;
 100              		.loc 1 247 2 is_stmt 1 view .LVU32
 101              		.loc 1 247 14 is_stmt 0 view .LVU33
 102 0062 A0F10903 		sub	r3, r0, #9
 103              	.LVL4:
 104              		.loc 1 247 39 view .LVU34
 105 0066 4FF01132 		mov	r2, #286331153
 106              	.LVL5:
 107              		.loc 1 247 39 view .LVU35
 108 006a 4CF82320 		str	r2, [ip, r3, lsl #2]
 248:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[stackSize - R10_OFFSET] = 0x10101010;
 109              		.loc 1 248 2 is_stmt 1 view .LVU36
 110              		.loc 1 248 14 is_stmt 0 view .LVU37
 111 006e A0F10A03 		sub	r3, r0, #10
 112              		.loc 1 248 39 view .LVU38
 113 0072 4FF01032 		mov	r2, #269488144
 114 0076 4CF82320 		str	r2, [ip, r3, lsl #2]
 249:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[stackSize - R9_OFFSET] = 0x09090909;
 115              		.loc 1 249 2 is_stmt 1 view .LVU39
 116              		.loc 1 249 14 is_stmt 0 view .LVU40
 117 007a A0F10B03 		sub	r3, r0, #11
 118              		.loc 1 249 38 view .LVU41
 119 007e 4FF00932 		mov	r2, #151587081
 120 0082 4CF82320 		str	r2, [ip, r3, lsl #2]
 250:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[stackSize - R8_OFFSET] = 0x08080808;
 121              		.loc 1 250 2 is_stmt 1 view .LVU42
 122              		.loc 1 250 14 is_stmt 0 view .LVU43
 123 0086 A0F10C03 		sub	r3, r0, #12
 124              		.loc 1 250 38 view .LVU44
 125 008a 4FF00832 		mov	r2, #134744072
 126 008e 4CF82320 		str	r2, [ip, r3, lsl #2]
 251:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[stackSize - R7_OFFSET] = 0x07070707;
 127              		.loc 1 251 2 is_stmt 1 view .LVU45
 128              		.loc 1 251 14 is_stmt 0 view .LVU46
 129 0092 A0F10D03 		sub	r3, r0, #13
 130              		.loc 1 251 38 view .LVU47
 131 0096 4FF00732 		mov	r2, #117901063
 132 009a 4CF82320 		str	r2, [ip, r3, lsl #2]
 252:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[stackSize - R6_OFFSET] = 0x06060606;
 133              		.loc 1 252 2 is_stmt 1 view .LVU48
 134              		.loc 1 252 14 is_stmt 0 view .LVU49
 135 009e A0F10E03 		sub	r3, r0, #14
 136              		.loc 1 252 38 view .LVU50
 137 00a2 4FF00632 		mov	r2, #101058054
 138 00a6 4CF82320 		str	r2, [ip, r3, lsl #2]
 253:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[stackSize - R5_OFFSET] = 0x05050505;
 139              		.loc 1 253 2 is_stmt 1 view .LVU51
 140              		.loc 1 253 14 is_stmt 0 view .LVU52
 141 00aa A0F10F03 		sub	r3, r0, #15
 142              		.loc 1 253 38 view .LVU53
 143 00ae 4FF00532 		mov	r2, #84215045
 144 00b2 4CF82320 		str	r2, [ip, r3, lsl #2]
 254:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[stackSize - R4_OFFSET] = 0x04040404;
 145              		.loc 1 254 2 is_stmt 1 view .LVU54
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 8


 146              		.loc 1 254 14 is_stmt 0 view .LVU55
 147 00b6 1038     		subs	r0, r0, #16
 148              	.LVL6:
 149              		.loc 1 254 38 view .LVU56
 150 00b8 4FF00433 		mov	r3, #67372036
 151 00bc 4CF82030 		str	r3, [ip, r0, lsl #2]
 255:arch/armv7m/kernel/src/ksch.c **** 	/*stack painting*/
 256:arch/armv7m/kernel/src/ksch.c **** 	for (ULONG j = 17; j < stackSize; j++)
 152              		.loc 1 256 2 is_stmt 1 view .LVU57
 153              	.LBB24:
 154              		.loc 1 256 7 view .LVU58
 155              	.LVL7:
 156              		.loc 1 256 13 is_stmt 0 view .LVU59
 157 00c0 1123     		movs	r3, #17
 158              		.loc 1 256 2 view .LVU60
 159 00c2 04E0     		b	.L3
 160              	.LVL8:
 161              	.L4:
 257:arch/armv7m/kernel/src/ksch.c **** 	{
 258:arch/armv7m/kernel/src/ksch.c **** 		stackAddrPtr[stackSize - j] = (INT) 0xBADC0FFE;
 162              		.loc 1 258 3 is_stmt 1 discriminator 3 view .LVU61
 163              		.loc 1 258 26 is_stmt 0 discriminator 3 view .LVU62
 164 00c4 CA1A     		subs	r2, r1, r3
 165              		.loc 1 258 31 discriminator 3 view .LVU63
 166 00c6 0A48     		ldr	r0, .L12
 167 00c8 4CF82200 		str	r0, [ip, r2, lsl #2]
 256:arch/armv7m/kernel/src/ksch.c **** 	{
 168              		.loc 1 256 37 is_stmt 1 discriminator 3 view .LVU64
 169 00cc 0133     		adds	r3, r3, #1
 170              	.LVL9:
 171              	.L3:
 256:arch/armv7m/kernel/src/ksch.c **** 	{
 172              		.loc 1 256 23 discriminator 1 view .LVU65
 173 00ce 8B42     		cmp	r3, r1
 174 00d0 F8D3     		bcc	.L4
 175              	.LBE24:
 259:arch/armv7m/kernel/src/ksch.c **** 	}
 260:arch/armv7m/kernel/src/ksch.c **** 	stackAddrPtr[0] = 0x0BADC0DE;
 176              		.loc 1 260 2 view .LVU66
 177              		.loc 1 260 18 is_stmt 0 view .LVU67
 178 00d2 084B     		ldr	r3, .L12+4
 179              	.LVL10:
 180              		.loc 1 260 18 view .LVU68
 181 00d4 CCF80030 		str	r3, [ip]
 261:arch/armv7m/kernel/src/ksch.c **** 	return (RK_SUCCESS);
 182              		.loc 1 261 2 is_stmt 1 view .LVU69
 183              		.loc 1 261 9 is_stmt 0 view .LVU70
 184 00d8 0020     		movs	r0, #0
 262:arch/armv7m/kernel/src/ksch.c **** }
 185              		.loc 1 262 1 view .LVU71
 186 00da 10BC     		pop	{r4}
 187              		.cfi_restore 4
 188              		.cfi_def_cfa_offset 0
 189 00dc 7047     		bx	lr
 190              	.LVL11:
 191              	.L5:
 237:arch/armv7m/kernel/src/ksch.c **** 	}
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 9


 192              		.loc 1 237 10 view .LVU72
 193 00de 4FF0FF30 		mov	r0, #-1
 194              	.LVL12:
 237:arch/armv7m/kernel/src/ksch.c **** 	}
 195              		.loc 1 237 10 view .LVU73
 196 00e2 7047     		bx	lr
 197              	.LVL13:
 198              	.L6:
 237:arch/armv7m/kernel/src/ksch.c **** 	}
 199              		.loc 1 237 10 view .LVU74
 200 00e4 4FF0FF30 		mov	r0, #-1
 201              	.LVL14:
 237:arch/armv7m/kernel/src/ksch.c **** 	}
 202              		.loc 1 237 10 view .LVU75
 203 00e8 7047     		bx	lr
 204              	.LVL15:
 205              	.L7:
 237:arch/armv7m/kernel/src/ksch.c **** 	}
 206              		.loc 1 237 10 view .LVU76
 207 00ea 4FF0FF30 		mov	r0, #-1
 208              	.LVL16:
 209              		.loc 1 262 1 view .LVU77
 210 00ee 7047     		bx	lr
 211              	.L13:
 212              		.align	2
 213              	.L12:
 214 00f0 FE0FDCBA 		.word	-1159983106
 215 00f4 DEC0AD0B 		.word	195936478
 216              		.cfi_endproc
 217              	.LFE63:
 219              		.section	.text.kInitTcb_,"ax",%progbits
 220              		.align	1
 221              		.syntax unified
 222              		.thumb
 223              		.thumb_func
 225              	kInitTcb_:
 226              	.LVL17:
 227              	.LFB64:
 263:arch/armv7m/kernel/src/ksch.c **** 
 264:arch/armv7m/kernel/src/ksch.c **** static RK_ERR kInitTcb_( RK_TASKENTRY const taskFuncPtr, VOID *argsPtr,
 265:arch/armv7m/kernel/src/ksch.c **** 		INT *const stackAddrPtr, UINT const stackSize)
 266:arch/armv7m/kernel/src/ksch.c **** {
 228              		.loc 1 266 1 is_stmt 1 view -0
 229              		.cfi_startproc
 230              		@ args = 0, pretend = 0, frame = 0
 231              		@ frame_needed = 0, uses_anonymous_args = 0
 232              		.loc 1 266 1 is_stmt 0 view .LVU79
 233 0000 70B5     		push	{r4, r5, r6, lr}
 234              		.cfi_def_cfa_offset 16
 235              		.cfi_offset 4, -16
 236              		.cfi_offset 5, -12
 237              		.cfi_offset 6, -8
 238              		.cfi_offset 14, -4
 239 0002 1446     		mov	r4, r2
 240 0004 1D46     		mov	r5, r3
 267:arch/armv7m/kernel/src/ksch.c **** 	if (kInitStack_( stackAddrPtr, stackSize, taskFuncPtr,
 241              		.loc 1 267 2 is_stmt 1 view .LVU80
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 10


 242              		.loc 1 267 6 is_stmt 0 view .LVU81
 243 0006 0B46     		mov	r3, r1
 244              	.LVL18:
 245              		.loc 1 267 6 view .LVU82
 246 0008 0246     		mov	r2, r0
 247              	.LVL19:
 248              		.loc 1 267 6 view .LVU83
 249 000a 2946     		mov	r1, r5
 250              	.LVL20:
 251              		.loc 1 267 6 view .LVU84
 252 000c 2046     		mov	r0, r4
 253              	.LVL21:
 254              		.loc 1 267 6 view .LVU85
 255 000e FFF7FEFF 		bl	kInitStack_
 256              	.LVL22:
 257              		.loc 1 267 5 view .LVU86
 258 0012 B8B9     		cbnz	r0, .L16
 268:arch/armv7m/kernel/src/ksch.c **** 			argsPtr) == RK_SUCCESS)
 269:arch/armv7m/kernel/src/ksch.c **** 	{
 270:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].stackAddrPtr = stackAddrPtr;
 259              		.loc 1 270 3 is_stmt 1 view .LVU87
 260              		.loc 1 270 13 is_stmt 0 view .LVU88
 261 0014 0D4B     		ldr	r3, .L18
 262 0016 93F800C0 		ldrb	ip, [r3]	@ zero_extendqisi2
 263              		.loc 1 270 27 view .LVU89
 264 001a 0D4E     		ldr	r6, .L18+4
 265 001c 6422     		movs	r2, #100
 266 001e 02FB0CF2 		mul	r2, r2, ip
 267 0022 B318     		adds	r3, r6, r2
 268 0024 5C61     		str	r4, [r3, #20]
 271:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].sp = &stackAddrPtr[stackSize - R4_OFFSET];
 269              		.loc 1 271 3 is_stmt 1 view .LVU90
 270              		.loc 1 271 32 is_stmt 0 view .LVU91
 271 0026 05F18041 		add	r1, r5, #1073741824
 272 002a 1039     		subs	r1, r1, #16
 273              		.loc 1 271 19 view .LVU92
 274 002c 04EB8104 		add	r4, r4, r1, lsl #2
 275              	.LVL23:
 276              		.loc 1 271 17 view .LVU93
 277 0030 B450     		str	r4, [r6, r2]
 272:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].stackSize = stackSize;
 278              		.loc 1 272 3 is_stmt 1 view .LVU94
 279              		.loc 1 272 24 is_stmt 0 view .LVU95
 280 0032 9D61     		str	r5, [r3, #24]
 273:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].status = RK_READY;
 281              		.loc 1 273 3 is_stmt 1 view .LVU96
 282              		.loc 1 273 21 is_stmt 0 view .LVU97
 283 0034 1022     		movs	r2, #16
 284 0036 5A60     		str	r2, [r3, #4]
 274:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].pid = pPid;
 285              		.loc 1 274 3 is_stmt 1 view .LVU98
 286              		.loc 1 274 18 is_stmt 0 view .LVU99
 287 0038 83F81CC0 		strb	ip, [r3, #28]
 275:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].savedLR = 0xFFFFFFFD;
 288              		.loc 1 275 3 is_stmt 1 view .LVU100
 289              		.loc 1 275 22 is_stmt 0 view .LVU101
 290 003c 6FF00202 		mvn	r2, #2
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 11


 291 0040 DA60     		str	r2, [r3, #12]
 276:arch/armv7m/kernel/src/ksch.c **** 		return (RK_SUCCESS);
 292              		.loc 1 276 3 is_stmt 1 view .LVU102
 293              	.LVL24:
 294              	.L14:
 277:arch/armv7m/kernel/src/ksch.c **** 	}
 278:arch/armv7m/kernel/src/ksch.c **** 	return (RK_ERROR);
 279:arch/armv7m/kernel/src/ksch.c **** }
 295              		.loc 1 279 1 is_stmt 0 view .LVU103
 296 0042 70BD     		pop	{r4, r5, r6, pc}
 297              	.LVL25:
 298              	.L16:
 278:arch/armv7m/kernel/src/ksch.c **** }
 299              		.loc 1 278 9 view .LVU104
 300 0044 4FF0FF30 		mov	r0, #-1
 301 0048 FBE7     		b	.L14
 302              	.L19:
 303 004a 00BF     		.align	2
 304              	.L18:
 305 004c 00000000 		.word	pPid
 306 0050 00000000 		.word	tcbs
 307              		.cfi_endproc
 308              	.LFE64:
 310              		.section	.text.kInitRunTime_,"ax",%progbits
 311              		.align	1
 312              		.syntax unified
 313              		.thumb
 314              		.thumb_func
 316              	kInitRunTime_:
 317              	.LFB68:
 280:arch/armv7m/kernel/src/ksch.c **** 
 281:arch/armv7m/kernel/src/ksch.c **** RK_ERR kCreateTask( RK_TASK_HANDLE *taskHandlePtr,
 282:arch/armv7m/kernel/src/ksch.c **** 		const RK_TASKENTRY taskFuncPtr, CHAR *const taskName,
 283:arch/armv7m/kernel/src/ksch.c **** 		INT *const stackAddrPtr, const UINT stackSize, VOID *argsPtr,
 284:arch/armv7m/kernel/src/ksch.c **** #if(RK_CONF_SCH_TSLICE==ON)
 285:arch/armv7m/kernel/src/ksch.c ****     const RK_TICK timeSlice,
 286:arch/armv7m/kernel/src/ksch.c **** #endif
 287:arch/armv7m/kernel/src/ksch.c **** 		const RK_PRIO priority, const BOOL runToCompl)
 288:arch/armv7m/kernel/src/ksch.c **** {
 289:arch/armv7m/kernel/src/ksch.c **** 
 290:arch/armv7m/kernel/src/ksch.c **** #if (RK_CONF_SCH_TSLICE==ON)
 291:arch/armv7m/kernel/src/ksch.c ****      if (timeSlice == 0UL)
 292:arch/armv7m/kernel/src/ksch.c ****          return (RK_ERR_INVALID_PARAM);
 293:arch/armv7m/kernel/src/ksch.c ****  #endif
 294:arch/armv7m/kernel/src/ksch.c **** 	/* if private PID is 0, system tasks hasn't been started yet */
 295:arch/armv7m/kernel/src/ksch.c **** 	if (pPid == 0)
 296:arch/armv7m/kernel/src/ksch.c **** 	{
 297:arch/armv7m/kernel/src/ksch.c **** 		/* initialise IDLE TASK */
 298:arch/armv7m/kernel/src/ksch.c **** 		kassert(
 299:arch/armv7m/kernel/src/ksch.c **** 				kInitTcb_(IdleTask, argsPtr, idleStack, RK_CONF_IDLE_STACKSIZE) == RK_SUCCESS);
 300:arch/armv7m/kernel/src/ksch.c **** 
 301:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].priority = idleTaskPrio;
 302:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].realPrio = idleTaskPrio;
 303:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].taskName = "IdleTask";
 304:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].runToCompl = FALSE;
 305:arch/armv7m/kernel/src/ksch.c **** #if(RK_CONF_SCH_TSLICE==ON)
 306:arch/armv7m/kernel/src/ksch.c ****  
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 12


 307:arch/armv7m/kernel/src/ksch.c ****          tcbs[pPid].timeSlice = 0;
 308:arch/armv7m/kernel/src/ksch.c ****  #endif
 309:arch/armv7m/kernel/src/ksch.c **** 		idleTaskHandle = &tcbs[pPid];
 310:arch/armv7m/kernel/src/ksch.c **** 		pPid += 1;
 311:arch/armv7m/kernel/src/ksch.c **** 
 312:arch/armv7m/kernel/src/ksch.c **** 		/* initialise TIMER HANDLER TASK */
 313:arch/armv7m/kernel/src/ksch.c **** 		kassert(
 314:arch/armv7m/kernel/src/ksch.c **** 				kInitTcb_(TimerHandlerTask, argsPtr, timerHandlerStack, RK_CONF_TIMHANDLER_STACKSIZE) == RK_SUC
 315:arch/armv7m/kernel/src/ksch.c **** 
 316:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].priority = 0;
 317:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].realPrio = 0;
 318:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].taskName = "TimHandlerTask";
 319:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].runToCompl = TRUE;
 320:arch/armv7m/kernel/src/ksch.c **** #if(RK_CONF_SCH_TSLICE==ON)
 321:arch/armv7m/kernel/src/ksch.c ****  
 322:arch/armv7m/kernel/src/ksch.c ****          tcbs[pPid].timeSlice = 0;
 323:arch/armv7m/kernel/src/ksch.c ****  #endif
 324:arch/armv7m/kernel/src/ksch.c **** 		timTaskHandle = &tcbs[pPid];
 325:arch/armv7m/kernel/src/ksch.c **** 		pPid += 1;
 326:arch/armv7m/kernel/src/ksch.c **** 
 327:arch/armv7m/kernel/src/ksch.c **** 	}
 328:arch/armv7m/kernel/src/ksch.c **** 	/* initialise user tasks */
 329:arch/armv7m/kernel/src/ksch.c **** 	if (kInitTcb_( taskFuncPtr, argsPtr, stackAddrPtr, stackSize) == RK_SUCCESS)
 330:arch/armv7m/kernel/src/ksch.c **** 	{
 331:arch/armv7m/kernel/src/ksch.c **** 		if (priority > idleTaskPrio)
 332:arch/armv7m/kernel/src/ksch.c **** 		{
 333:arch/armv7m/kernel/src/ksch.c **** 			kErrHandler( RK_FAULT_TASK_INVALID_PRIO);
 334:arch/armv7m/kernel/src/ksch.c **** 		}
 335:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].priority = priority;
 336:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].realPrio = priority;
 337:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].taskName = taskName;
 338:arch/armv7m/kernel/src/ksch.c **** 
 339:arch/armv7m/kernel/src/ksch.c **** #if(RK_CONF_SCH_TSLICE==ON)
 340:arch/armv7m/kernel/src/ksch.c ****          tcbs[pPid].timeSlice = timeSlice;
 341:arch/armv7m/kernel/src/ksch.c ****          tcbs[pPid].timeSliceCnt = 0UL;
 342:arch/armv7m/kernel/src/ksch.c ****  #else
 343:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].lastWakeTime = 0;
 344:arch/armv7m/kernel/src/ksch.c **** #endif
 345:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].runToCompl = runToCompl;
 346:arch/armv7m/kernel/src/ksch.c **** 		*taskHandlePtr = &tcbs[pPid];
 347:arch/armv7m/kernel/src/ksch.c **** 		pPid += 1;
 348:arch/armv7m/kernel/src/ksch.c **** 		return (RK_SUCCESS);
 349:arch/armv7m/kernel/src/ksch.c **** 	}
 350:arch/armv7m/kernel/src/ksch.c **** 
 351:arch/armv7m/kernel/src/ksch.c **** 	return (RK_ERROR);
 352:arch/armv7m/kernel/src/ksch.c **** }
 353:arch/armv7m/kernel/src/ksch.c **** /*******************************************************************************
 354:arch/armv7m/kernel/src/ksch.c ****  * CRITICAL REGIONS
 355:arch/armv7m/kernel/src/ksch.c ****  *******************************************************************************/
 356:arch/armv7m/kernel/src/ksch.c **** 
 357:arch/armv7m/kernel/src/ksch.c **** UINT kEnterCR( VOID)
 358:arch/armv7m/kernel/src/ksch.c **** {
 359:arch/armv7m/kernel/src/ksch.c **** 	asm volatile("DSB");
 360:arch/armv7m/kernel/src/ksch.c **** 
 361:arch/armv7m/kernel/src/ksch.c **** 	UINT crState;
 362:arch/armv7m/kernel/src/ksch.c **** 
 363:arch/armv7m/kernel/src/ksch.c **** 	crState = __get_PRIMASK();
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 13


 364:arch/armv7m/kernel/src/ksch.c **** 	if (crState == 0)
 365:arch/armv7m/kernel/src/ksch.c **** 	{
 366:arch/armv7m/kernel/src/ksch.c **** 		asm volatile("DSB");
 367:arch/armv7m/kernel/src/ksch.c **** 		asm volatile ("CPSID I");
 368:arch/armv7m/kernel/src/ksch.c **** 		asm volatile("ISB");
 369:arch/armv7m/kernel/src/ksch.c **** 
 370:arch/armv7m/kernel/src/ksch.c **** 		return (crState);
 371:arch/armv7m/kernel/src/ksch.c **** 	}
 372:arch/armv7m/kernel/src/ksch.c **** 	asm volatile("DSB");
 373:arch/armv7m/kernel/src/ksch.c **** 	return (crState);
 374:arch/armv7m/kernel/src/ksch.c **** }
 375:arch/armv7m/kernel/src/ksch.c **** 
 376:arch/armv7m/kernel/src/ksch.c **** VOID kExitCR( UINT crState)
 377:arch/armv7m/kernel/src/ksch.c **** {
 378:arch/armv7m/kernel/src/ksch.c **** 	asm volatile("DSB");
 379:arch/armv7m/kernel/src/ksch.c **** 	__set_PRIMASK( crState);
 380:arch/armv7m/kernel/src/ksch.c **** 	asm volatile ("ISB");
 381:arch/armv7m/kernel/src/ksch.c **** 
 382:arch/armv7m/kernel/src/ksch.c **** }
 383:arch/armv7m/kernel/src/ksch.c **** 
 384:arch/armv7m/kernel/src/ksch.c **** #if (RK_CONF_FUNC_DYNAMIC_PRIO==(ON))
 385:arch/armv7m/kernel/src/ksch.c ****  RK_ERR kTaskChangePrio( RK_PRIO newPrio)
 386:arch/armv7m/kernel/src/ksch.c ****  {
 387:arch/armv7m/kernel/src/ksch.c ****      if (kIsISR())
 388:arch/armv7m/kernel/src/ksch.c ****          return (RK_ERR_INVALID_ISR_PRIMITIVE);
 389:arch/armv7m/kernel/src/ksch.c ****      RK_CR_AREA
 390:arch/armv7m/kernel/src/ksch.c ****      RK_CR_ENTER
 391:arch/armv7m/kernel/src/ksch.c ****      runPtr->priority = newPrio;
 392:arch/armv7m/kernel/src/ksch.c ****      RK_CR_EXIT
 393:arch/armv7m/kernel/src/ksch.c ****      return (RK_SUCCESS);
 394:arch/armv7m/kernel/src/ksch.c ****  }
 395:arch/armv7m/kernel/src/ksch.c ****  
 396:arch/armv7m/kernel/src/ksch.c ****  RK_ERR kTaskRestorePrio( VOID)
 397:arch/armv7m/kernel/src/ksch.c ****  {
 398:arch/armv7m/kernel/src/ksch.c ****      if (kIsISR())
 399:arch/armv7m/kernel/src/ksch.c ****          return (RK_ERR_INVALID_ISR_PRIMITIVE);
 400:arch/armv7m/kernel/src/ksch.c ****      RK_CR_AREA
 401:arch/armv7m/kernel/src/ksch.c ****      RK_CR_ENTER
 402:arch/armv7m/kernel/src/ksch.c ****      runPtr->priority = runPtr->realPrio;
 403:arch/armv7m/kernel/src/ksch.c ****      RK_CR_EXIT
 404:arch/armv7m/kernel/src/ksch.c ****      return (RK_SUCCESS);
 405:arch/armv7m/kernel/src/ksch.c ****  }
 406:arch/armv7m/kernel/src/ksch.c ****  #endif
 407:arch/armv7m/kernel/src/ksch.c **** 
 408:arch/armv7m/kernel/src/ksch.c **** /******************************************************************************
 409:arch/armv7m/kernel/src/ksch.c ****  * KERNEL INITIALISATION
 410:arch/armv7m/kernel/src/ksch.c ****  *******************************************************************************/
 411:arch/armv7m/kernel/src/ksch.c **** 
 412:arch/armv7m/kernel/src/ksch.c **** static VOID kInitRunTime_( VOID)
 413:arch/armv7m/kernel/src/ksch.c **** {
 318              		.loc 1 413 1 is_stmt 1 view -0
 319              		.cfi_startproc
 320              		@ args = 0, pretend = 0, frame = 0
 321              		@ frame_needed = 0, uses_anonymous_args = 0
 322              		@ link register save eliminated.
 414:arch/armv7m/kernel/src/ksch.c **** 	runTime.globalTick = 0;
 323              		.loc 1 414 2 view .LVU106
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 14


 324              		.loc 1 414 21 is_stmt 0 view .LVU107
 325 0000 024B     		ldr	r3, .L21
 326 0002 0022     		movs	r2, #0
 327 0004 1A60     		str	r2, [r3]
 415:arch/armv7m/kernel/src/ksch.c **** 	runTime.nWraps = 0;
 328              		.loc 1 415 2 is_stmt 1 view .LVU108
 329              		.loc 1 415 17 is_stmt 0 view .LVU109
 330 0006 5A60     		str	r2, [r3, #4]
 416:arch/armv7m/kernel/src/ksch.c **** }
 331              		.loc 1 416 1 view .LVU110
 332 0008 7047     		bx	lr
 333              	.L22:
 334 000a 00BF     		.align	2
 335              	.L21:
 336 000c 00000000 		.word	runTime
 337              		.cfi_endproc
 338              	.LFE68:
 340              		.section	.text.kCalcNextTaskPrio_,"ax",%progbits
 341              		.align	1
 342              		.syntax unified
 343              		.thumb
 344              		.thumb_func
 346              	kCalcNextTaskPrio_:
 347              	.LFB71:
 417:arch/armv7m/kernel/src/ksch.c **** static RK_ERR kInitQueues_( VOID)
 418:arch/armv7m/kernel/src/ksch.c **** {
 419:arch/armv7m/kernel/src/ksch.c **** 	RK_ERR err = 0;
 420:arch/armv7m/kernel/src/ksch.c **** 	for (RK_PRIO prio = 0; prio < RK_NPRIO + 1; prio++)
 421:arch/armv7m/kernel/src/ksch.c **** 	{
 422:arch/armv7m/kernel/src/ksch.c **** 		err |= kTCBQInit( &readyQueue[prio], "ReadyQ");
 423:arch/armv7m/kernel/src/ksch.c **** 	}
 424:arch/armv7m/kernel/src/ksch.c **** 	kassert( err == 0);
 425:arch/armv7m/kernel/src/ksch.c **** 	return (err);
 426:arch/armv7m/kernel/src/ksch.c **** }
 427:arch/armv7m/kernel/src/ksch.c **** 
 428:arch/armv7m/kernel/src/ksch.c **** VOID kInit( VOID)
 429:arch/armv7m/kernel/src/ksch.c **** {
 430:arch/armv7m/kernel/src/ksch.c **** 
 431:arch/armv7m/kernel/src/ksch.c **** 	version = kGetVersion();
 432:arch/armv7m/kernel/src/ksch.c **** 	if (version != RK_VALID_VERSION)
 433:arch/armv7m/kernel/src/ksch.c **** 		kErrHandler( RK_FAULT_KERNEL_VERSION);
 434:arch/armv7m/kernel/src/ksch.c **** 	kInitQueues_();
 435:arch/armv7m/kernel/src/ksch.c **** 	kInitRunTime_();
 436:arch/armv7m/kernel/src/ksch.c **** 	highestPrio = tcbs[0].priority;
 437:arch/armv7m/kernel/src/ksch.c **** 	for (ULONG i = 0; i < RK_NTHREADS; i++)
 438:arch/armv7m/kernel/src/ksch.c **** 	{
 439:arch/armv7m/kernel/src/ksch.c **** 		if (tcbs[i].priority < highestPrio)
 440:arch/armv7m/kernel/src/ksch.c **** 		{
 441:arch/armv7m/kernel/src/ksch.c **** 			highestPrio = tcbs[i].priority;
 442:arch/armv7m/kernel/src/ksch.c **** 		}
 443:arch/armv7m/kernel/src/ksch.c **** 	}
 444:arch/armv7m/kernel/src/ksch.c **** 
 445:arch/armv7m/kernel/src/ksch.c **** 	for (ULONG i = 0; i < RK_NTHREADS; i++)
 446:arch/armv7m/kernel/src/ksch.c **** 	{
 447:arch/armv7m/kernel/src/ksch.c **** 		kTCBQEnq( &readyQueue[tcbs[i].priority], &tcbs[i]);
 448:arch/armv7m/kernel/src/ksch.c **** 	}
 449:arch/armv7m/kernel/src/ksch.c **** 
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 15


 450:arch/armv7m/kernel/src/ksch.c **** 	kReadyQDeq( &runPtr, highestPrio);
 451:arch/armv7m/kernel/src/ksch.c **** 	kassert( runPtr->status == RK_READY);
 452:arch/armv7m/kernel/src/ksch.c **** 	kassert( tcbs[RK_IDLETASK_ID].priority == lowestPrio+1);
 453:arch/armv7m/kernel/src/ksch.c **** 	kApplicationInit();
 454:arch/armv7m/kernel/src/ksch.c **** 	_RK_DSB
 455:arch/armv7m/kernel/src/ksch.c **** 	__enable_irq();
 456:arch/armv7m/kernel/src/ksch.c **** 	_RK_ISB
 457:arch/armv7m/kernel/src/ksch.c **** 	/* calls low-level scheduler for start-up */
 458:arch/armv7m/kernel/src/ksch.c **** 	_RK_STUP
 459:arch/armv7m/kernel/src/ksch.c **** 	while (1)
 460:arch/armv7m/kernel/src/ksch.c **** 		;
 461:arch/armv7m/kernel/src/ksch.c **** 
 462:arch/armv7m/kernel/src/ksch.c **** }
 463:arch/armv7m/kernel/src/ksch.c **** 
 464:arch/armv7m/kernel/src/ksch.c **** /*******************************************************************************
 465:arch/armv7m/kernel/src/ksch.c ****  TASK SWITCHING LOGIC
 466:arch/armv7m/kernel/src/ksch.c ****  *******************************************************************************/
 467:arch/armv7m/kernel/src/ksch.c **** static inline RK_PRIO kCalcNextTaskPrio_()
 468:arch/armv7m/kernel/src/ksch.c **** {
 348              		.loc 1 468 1 is_stmt 1 view -0
 349              		.cfi_startproc
 350              		@ args = 0, pretend = 0, frame = 0
 351              		@ frame_needed = 0, uses_anonymous_args = 0
 352 0000 08B5     		push	{r3, lr}
 353              		.cfi_def_cfa_offset 8
 354              		.cfi_offset 3, -8
 355              		.cfi_offset 14, -4
 469:arch/armv7m/kernel/src/ksch.c **** 	if (readyQBitMask == 0U)
 356              		.loc 1 469 2 view .LVU112
 357              		.loc 1 469 20 is_stmt 0 view .LVU113
 358 0002 084B     		ldr	r3, .L28
 359 0004 1B68     		ldr	r3, [r3]
 360              		.loc 1 469 5 view .LVU114
 361 0006 0BB9     		cbnz	r3, .L27
 470:arch/armv7m/kernel/src/ksch.c **** 	{
 471:arch/armv7m/kernel/src/ksch.c **** 		return (idleTaskPrio);
 362              		.loc 1 471 10 view .LVU115
 363 0008 0220     		movs	r0, #2
 364              	.L24:
 472:arch/armv7m/kernel/src/ksch.c **** 	}
 473:arch/armv7m/kernel/src/ksch.c **** 	readyQRightMask = readyQBitMask & -readyQBitMask;
 474:arch/armv7m/kernel/src/ksch.c **** 	RK_PRIO prio = (RK_PRIO) (__getReadyPrio( readyQRightMask));
 475:arch/armv7m/kernel/src/ksch.c **** 
 476:arch/armv7m/kernel/src/ksch.c **** 	return (prio);
 477:arch/armv7m/kernel/src/ksch.c **** }
 365              		.loc 1 477 1 view .LVU116
 366 000a 08BD     		pop	{r3, pc}
 367              	.L27:
 473:arch/armv7m/kernel/src/ksch.c **** 	RK_PRIO prio = (RK_PRIO) (__getReadyPrio( readyQRightMask));
 368              		.loc 1 473 2 is_stmt 1 view .LVU117
 473:arch/armv7m/kernel/src/ksch.c **** 	RK_PRIO prio = (RK_PRIO) (__getReadyPrio( readyQRightMask));
 369              		.loc 1 473 36 is_stmt 0 view .LVU118
 370 000c 054A     		ldr	r2, .L28
 371 000e 1368     		ldr	r3, [r2]
 372 0010 5B42     		rsbs	r3, r3, #0
 473:arch/armv7m/kernel/src/ksch.c **** 	RK_PRIO prio = (RK_PRIO) (__getReadyPrio( readyQRightMask));
 373              		.loc 1 473 34 view .LVU119
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 16


 374 0012 1268     		ldr	r2, [r2]
 375 0014 1340     		ands	r3, r3, r2
 473:arch/armv7m/kernel/src/ksch.c **** 	RK_PRIO prio = (RK_PRIO) (__getReadyPrio( readyQRightMask));
 376              		.loc 1 473 18 view .LVU120
 377 0016 044A     		ldr	r2, .L28+4
 378 0018 1360     		str	r3, [r2]
 474:arch/armv7m/kernel/src/ksch.c **** 
 379              		.loc 1 474 2 is_stmt 1 view .LVU121
 474:arch/armv7m/kernel/src/ksch.c **** 
 380              		.loc 1 474 28 is_stmt 0 view .LVU122
 381 001a 1068     		ldr	r0, [r2]
 382 001c FFF7FEFF 		bl	__getReadyPrio
 383              	.LVL26:
 474:arch/armv7m/kernel/src/ksch.c **** 
 384              		.loc 1 474 10 view .LVU123
 385 0020 C0B2     		uxtb	r0, r0
 386              	.LVL27:
 476:arch/armv7m/kernel/src/ksch.c **** }
 387              		.loc 1 476 2 is_stmt 1 view .LVU124
 476:arch/armv7m/kernel/src/ksch.c **** }
 388              		.loc 1 476 9 is_stmt 0 view .LVU125
 389 0022 F2E7     		b	.L24
 390              	.L29:
 391              		.align	2
 392              	.L28:
 393 0024 00000000 		.word	readyQBitMask
 394 0028 00000000 		.word	readyQRightMask
 395              		.cfi_endproc
 396              	.LFE71:
 398              		.section	.text.kTCBQInit,"ax",%progbits
 399              		.align	1
 400              		.global	kTCBQInit
 401              		.syntax unified
 402              		.thumb
 403              		.thumb_func
 405              	kTCBQInit:
 406              	.LVL28:
 407              	.LFB55:
  68:arch/armv7m/kernel/src/ksch.c **** 	if (RK_IS_NULL_PTR( kobj))
 408              		.loc 1 68 1 is_stmt 1 view -0
 409              		.cfi_startproc
 410              		@ args = 0, pretend = 0, frame = 0
 411              		@ frame_needed = 0, uses_anonymous_args = 0
  68:arch/armv7m/kernel/src/ksch.c **** 	if (RK_IS_NULL_PTR( kobj))
 412              		.loc 1 68 1 is_stmt 0 view .LVU127
 413 0000 08B5     		push	{r3, lr}
 414              		.cfi_def_cfa_offset 8
 415              		.cfi_offset 3, -8
 416              		.cfi_offset 14, -4
  69:arch/armv7m/kernel/src/ksch.c **** 	{
 417              		.loc 1 69 2 is_stmt 1 view .LVU128
  69:arch/armv7m/kernel/src/ksch.c **** 	{
 418              		.loc 1 69 5 is_stmt 0 view .LVU129
 419 0002 50B1     		cbz	r0, .L34
 420 0004 0346     		mov	r3, r0
  74:arch/armv7m/kernel/src/ksch.c **** }
 421              		.loc 1 74 2 is_stmt 1 view .LVU130
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 17


 422              	.LVL29:
 423              	.LBB25:
 424              	.LBI25:
 425              		.file 2 "arch/armv7m/kernel/inc/ksch.h"
   1:arch/armv7m/kernel/inc/ksch.h **** /******************************************************************************
   2:arch/armv7m/kernel/inc/ksch.h ****  *
   3:arch/armv7m/kernel/inc/ksch.h ****  *     [[RK0] | [VERSION: 0.4.0]]
   4:arch/armv7m/kernel/inc/ksch.h ****  *
   5:arch/armv7m/kernel/inc/ksch.h ****  ******************************************************************************
   6:arch/armv7m/kernel/inc/ksch.h ****  ******************************************************************************
   7:arch/armv7m/kernel/inc/ksch.h ****  *  In this header:
   8:arch/armv7m/kernel/inc/ksch.h ****  *                  o High-level scheduler kernel module.
   9:arch/armv7m/kernel/inc/ksch.h ****  *
  10:arch/armv7m/kernel/inc/ksch.h ****  *****************************************************************************/
  11:arch/armv7m/kernel/inc/ksch.h **** #ifndef RK_SCH_H
  12:arch/armv7m/kernel/inc/ksch.h **** #define RK_SCH_H
  13:arch/armv7m/kernel/inc/ksch.h **** #ifdef __cplusplus
  14:arch/armv7m/kernel/inc/ksch.h **** {
  15:arch/armv7m/kernel/inc/ksch.h **** #endif
  16:arch/armv7m/kernel/inc/ksch.h **** 
  17:arch/armv7m/kernel/inc/ksch.h **** /* shared data */
  18:arch/armv7m/kernel/inc/ksch.h **** extern RK_TCB* runPtr; /* Pointer to the running TCB */
  19:arch/armv7m/kernel/inc/ksch.h **** extern RK_TCB tcbs[RK_NTHREADS]; /* Pool of TCBs */
  20:arch/armv7m/kernel/inc/ksch.h **** extern volatile RK_FAULT faultID; /* Fault ID */
  21:arch/armv7m/kernel/inc/ksch.h **** extern INT idleStack[RK_CONF_IDLE_STACKSIZE]; /* Stack for idle task */
  22:arch/armv7m/kernel/inc/ksch.h **** extern INT timerHandlerStack[RK_CONF_TIMHANDLER_STACKSIZE];
  23:arch/armv7m/kernel/inc/ksch.h **** extern RK_TCBQ readyQueue[RK_CONF_MIN_PRIO + 2]; /* Table of ready queues */
  24:arch/armv7m/kernel/inc/ksch.h **** extern RK_TCBQ timeOutQueue;
  25:arch/armv7m/kernel/inc/ksch.h **** extern volatile BOOL lockScheduler;
  26:arch/armv7m/kernel/inc/ksch.h **** extern volatile ULONG idleTicks;
  27:arch/armv7m/kernel/inc/ksch.h **** BOOL kSchNeedReschedule(RK_TCB*);
  28:arch/armv7m/kernel/inc/ksch.h **** VOID kSchSwtch(VOID);
  29:arch/armv7m/kernel/inc/ksch.h **** UINT kEnterCR(VOID);
  30:arch/armv7m/kernel/inc/ksch.h **** VOID kExitCR(UINT);
  31:arch/armv7m/kernel/inc/ksch.h **** VOID kInit(VOID);
  32:arch/armv7m/kernel/inc/ksch.h **** VOID kYield(VOID);
  33:arch/armv7m/kernel/inc/ksch.h **** VOID kApplicationInit(VOID);
  34:arch/armv7m/kernel/inc/ksch.h **** extern unsigned __getReadyPrio(unsigned);
  35:arch/armv7m/kernel/inc/ksch.h **** RK_ERR kTCBQInit(RK_LIST* const, CHAR*);
  36:arch/armv7m/kernel/inc/ksch.h **** RK_ERR kTCBQEnq(RK_LIST* const, RK_TCB* const);
  37:arch/armv7m/kernel/inc/ksch.h **** RK_ERR kTCBQDeq(RK_TCBQ* const, RK_TCB** const);
  38:arch/armv7m/kernel/inc/ksch.h **** RK_ERR kTCBQRem(RK_TCBQ* const, RK_TCB** const);
  39:arch/armv7m/kernel/inc/ksch.h **** RK_ERR kReadyCtxtSwtch(RK_TCB* const);
  40:arch/armv7m/kernel/inc/ksch.h **** RK_ERR kReadyQDeq(RK_TCB** const, RK_PRIO);
  41:arch/armv7m/kernel/inc/ksch.h **** RK_TCB* kTCBQPeek(RK_TCBQ* const);
  42:arch/armv7m/kernel/inc/ksch.h **** RK_ERR kTCBQEnqByPrio(RK_TCBQ* const, RK_TCB* const);
  43:arch/armv7m/kernel/inc/ksch.h **** 
  44:arch/armv7m/kernel/inc/ksch.h **** /* Doubly Linked List ADT */
  45:arch/armv7m/kernel/inc/ksch.h **** 
  46:arch/armv7m/kernel/inc/ksch.h **** #define RK_LIST_GET_TCB_NODE(nodePtr, containerType) \
  47:arch/armv7m/kernel/inc/ksch.h ****     RK_GET_CONTAINER_ADDR(nodePtr, containerType, tcbNode)
  48:arch/armv7m/kernel/inc/ksch.h **** 
  49:arch/armv7m/kernel/inc/ksch.h **** #define KLISTNODEDEL(nodePtr) \
  50:arch/armv7m/kernel/inc/ksch.h ****     do \
  51:arch/armv7m/kernel/inc/ksch.h ****     \
  52:arch/armv7m/kernel/inc/ksch.h ****     { \
  53:arch/armv7m/kernel/inc/ksch.h ****     nodePtr->nextPtr->prevPtr = nodePtr->prevPtr; \
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 18


  54:arch/armv7m/kernel/inc/ksch.h ****     nodePtr->prevPtr->nextPtr = nodePtr->nextPtr; \
  55:arch/armv7m/kernel/inc/ksch.h ****     nodePtr->prevPtr=NULL; \
  56:arch/armv7m/kernel/inc/ksch.h ****     nodePtr->nextPtr=NULL; \
  57:arch/armv7m/kernel/inc/ksch.h ****     \
  58:arch/armv7m/kernel/inc/ksch.h ****     }while(0U)
  59:arch/armv7m/kernel/inc/ksch.h **** 
  60:arch/armv7m/kernel/inc/ksch.h **** __attribute__((always_inline)) static inline RK_ERR kListInit(RK_LIST* const kobj,
 426              		.loc 2 60 53 view .LVU131
 427              	.LBB26:
  61:arch/armv7m/kernel/inc/ksch.h ****         CHAR* listName)
  62:arch/armv7m/kernel/inc/ksch.h **** {
  63:arch/armv7m/kernel/inc/ksch.h ****     if (kobj == NULL)
 428              		.loc 2 63 5 view .LVU132
  64:arch/armv7m/kernel/inc/ksch.h ****     {
  65:arch/armv7m/kernel/inc/ksch.h ****         return (RK_ERR_OBJ_NULL);
  66:arch/armv7m/kernel/inc/ksch.h ****     }
  67:arch/armv7m/kernel/inc/ksch.h ****     kobj->listDummy.nextPtr = & (kobj->listDummy);
 429              		.loc 2 67 5 view .LVU133
 430              		.loc 2 67 29 is_stmt 0 view .LVU134
 431 0006 0060     		str	r0, [r0]
  68:arch/armv7m/kernel/inc/ksch.h ****     kobj->listDummy.prevPtr = & (kobj->listDummy);
 432              		.loc 2 68 5 is_stmt 1 view .LVU135
 433              		.loc 2 68 29 is_stmt 0 view .LVU136
 434 0008 4060     		str	r0, [r0, #4]
  69:arch/armv7m/kernel/inc/ksch.h ****     kobj->listName = listName;
 435              		.loc 2 69 5 is_stmt 1 view .LVU137
 436              		.loc 2 69 20 is_stmt 0 view .LVU138
 437 000a 8160     		str	r1, [r0, #8]
  70:arch/armv7m/kernel/inc/ksch.h ****     kobj->size = 0U;
 438              		.loc 2 70 5 is_stmt 1 view .LVU139
 439              		.loc 2 70 16 is_stmt 0 view .LVU140
 440 000c 0020     		movs	r0, #0
 441              	.LVL30:
 442              		.loc 2 70 16 view .LVU141
 443 000e D860     		str	r0, [r3, #12]
  71:arch/armv7m/kernel/inc/ksch.h ****     kobj->init=TRUE;
 444              		.loc 2 71 5 is_stmt 1 view .LVU142
 445              		.loc 2 71 15 is_stmt 0 view .LVU143
 446 0010 0122     		movs	r2, #1
 447 0012 1A61     		str	r2, [r3, #16]
  72:arch/armv7m/kernel/inc/ksch.h ****     _RK_DMB/*guarantee data is updated before going*/
 448              		.loc 2 72 5 is_stmt 1 view .LVU144
 449              		.syntax unified
 450              	@ 72 "arch/armv7m/kernel/inc/ksch.h" 1
 451 0014 BFF35F8F 		dmb 0xF
 452              	@ 0 "" 2
  73:arch/armv7m/kernel/inc/ksch.h ****     return (RK_SUCCESS);
 453              		.loc 2 73 5 view .LVU145
 454              	.LVL31:
 455              		.thumb
 456              		.syntax unified
 457              	.L30:
 458              		.loc 2 73 5 is_stmt 0 view .LVU146
 459              	.LBE26:
 460              	.LBE25:
  75:arch/armv7m/kernel/src/ksch.c **** 
 461              		.loc 1 75 1 view .LVU147
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 19


 462 0018 08BD     		pop	{r3, pc}
 463              	.LVL32:
 464              	.L34:
  71:arch/armv7m/kernel/src/ksch.c **** 		return (RK_ERR_OBJ_NULL);
 465              		.loc 1 71 3 is_stmt 1 view .LVU148
 466 001a 6FF06300 		mvn	r0, #99
 467              	.LVL33:
  71:arch/armv7m/kernel/src/ksch.c **** 		return (RK_ERR_OBJ_NULL);
 468              		.loc 1 71 3 is_stmt 0 view .LVU149
 469 001e FFF7FEFF 		bl	kErrHandler
 470              	.LVL34:
  72:arch/armv7m/kernel/src/ksch.c **** 	}
 471              		.loc 1 72 3 is_stmt 1 view .LVU150
  72:arch/armv7m/kernel/src/ksch.c **** 	}
 472              		.loc 1 72 10 is_stmt 0 view .LVU151
 473 0022 6FF06300 		mvn	r0, #99
 474 0026 F7E7     		b	.L30
 475              		.cfi_endproc
 476              	.LFE55:
 478              		.section	.rodata.kInitQueues_.str1.4,"aMS",%progbits,1
 479              		.align	2
 480              	.LC0:
 481 0000 52656164 		.ascii	"ReadyQ\000"
 481      795100
 482              		.section	.text.kInitQueues_,"ax",%progbits
 483              		.align	1
 484              		.syntax unified
 485              		.thumb
 486              		.thumb_func
 488              	kInitQueues_:
 489              	.LFB69:
 418:arch/armv7m/kernel/src/ksch.c **** 	RK_ERR err = 0;
 490              		.loc 1 418 1 is_stmt 1 view -0
 491              		.cfi_startproc
 492              		@ args = 0, pretend = 0, frame = 0
 493              		@ frame_needed = 0, uses_anonymous_args = 0
 494 0000 38B5     		push	{r3, r4, r5, lr}
 495              		.cfi_def_cfa_offset 16
 496              		.cfi_offset 3, -16
 497              		.cfi_offset 4, -12
 498              		.cfi_offset 5, -8
 499              		.cfi_offset 14, -4
 419:arch/armv7m/kernel/src/ksch.c **** 	for (RK_PRIO prio = 0; prio < RK_NPRIO + 1; prio++)
 500              		.loc 1 419 2 view .LVU153
 501              	.LVL35:
 420:arch/armv7m/kernel/src/ksch.c **** 	{
 502              		.loc 1 420 2 view .LVU154
 503              	.LBB27:
 420:arch/armv7m/kernel/src/ksch.c **** 	{
 504              		.loc 1 420 7 view .LVU155
 420:arch/armv7m/kernel/src/ksch.c **** 	{
 505              		.loc 1 420 15 is_stmt 0 view .LVU156
 506 0002 0024     		movs	r4, #0
 507              	.LBE27:
 419:arch/armv7m/kernel/src/ksch.c **** 	for (RK_PRIO prio = 0; prio < RK_NPRIO + 1; prio++)
 508              		.loc 1 419 9 view .LVU157
 509 0004 2546     		mov	r5, r4
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 20


 510              	.LBB28:
 420:arch/armv7m/kernel/src/ksch.c **** 	{
 511              		.loc 1 420 2 view .LVU158
 512 0006 0AE0     		b	.L36
 513              	.LVL36:
 514              	.L37:
 422:arch/armv7m/kernel/src/ksch.c **** 	}
 515              		.loc 1 422 3 is_stmt 1 discriminator 3 view .LVU159
 422:arch/armv7m/kernel/src/ksch.c **** 	}
 516              		.loc 1 422 21 is_stmt 0 discriminator 3 view .LVU160
 517 0008 04EB8400 		add	r0, r4, r4, lsl #2
 422:arch/armv7m/kernel/src/ksch.c **** 	}
 518              		.loc 1 422 10 discriminator 3 view .LVU161
 519 000c 0849     		ldr	r1, .L41
 520 000e 094B     		ldr	r3, .L41+4
 521 0010 03EB8000 		add	r0, r3, r0, lsl #2
 522 0014 FFF7FEFF 		bl	kTCBQInit
 523              	.LVL37:
 422:arch/armv7m/kernel/src/ksch.c **** 	}
 524              		.loc 1 422 7 discriminator 3 view .LVU162
 525 0018 0543     		orrs	r5, r5, r0
 526              	.LVL38:
 420:arch/armv7m/kernel/src/ksch.c **** 	{
 527              		.loc 1 420 50 is_stmt 1 discriminator 3 view .LVU163
 528 001a 0134     		adds	r4, r4, #1
 529              	.LVL39:
 420:arch/armv7m/kernel/src/ksch.c **** 	{
 530              		.loc 1 420 50 is_stmt 0 discriminator 3 view .LVU164
 531 001c E4B2     		uxtb	r4, r4
 532              	.LVL40:
 533              	.L36:
 420:arch/armv7m/kernel/src/ksch.c **** 	{
 534              		.loc 1 420 30 is_stmt 1 discriminator 1 view .LVU165
 535 001e 022C     		cmp	r4, #2
 536 0020 F2D9     		bls	.L37
 537              	.LBE28:
 424:arch/armv7m/kernel/src/ksch.c **** 	return (err);
 538              		.loc 1 424 2 view .LVU166
 539 0022 0DB9     		cbnz	r5, .L40
 540              	.L35:
 426:arch/armv7m/kernel/src/ksch.c **** 
 541              		.loc 1 426 1 is_stmt 0 view .LVU167
 542 0024 2846     		mov	r0, r5
 543 0026 38BD     		pop	{r3, r4, r5, pc}
 544              	.LVL41:
 545              	.L40:
 424:arch/armv7m/kernel/src/ksch.c **** 	return (err);
 546              		.loc 1 424 2 discriminator 1 view .LVU168
 547 0028 0020     		movs	r0, #0
 548 002a FFF7FEFF 		bl	kErrHandler
 549              	.LVL42:
 425:arch/armv7m/kernel/src/ksch.c **** }
 550              		.loc 1 425 2 is_stmt 1 discriminator 1 view .LVU169
 425:arch/armv7m/kernel/src/ksch.c **** }
 551              		.loc 1 425 9 is_stmt 0 discriminator 1 view .LVU170
 552 002e F9E7     		b	.L35
 553              	.L42:
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 21


 554              		.align	2
 555              	.L41:
 556 0030 00000000 		.word	.LC0
 557 0034 00000000 		.word	readyQueue
 558              		.cfi_endproc
 559              	.LFE69:
 561              		.section	.text.kTCBQDeq,"ax",%progbits
 562              		.align	1
 563              		.global	kTCBQDeq
 564              		.syntax unified
 565              		.thumb
 566              		.thumb_func
 568              	kTCBQDeq:
 569              	.LVL43:
 570              	.LFB57:
  97:arch/armv7m/kernel/src/ksch.c **** 	if (kobj == NULL)
 571              		.loc 1 97 1 is_stmt 1 view -0
 572              		.cfi_startproc
 573              		@ args = 0, pretend = 0, frame = 0
 574              		@ frame_needed = 0, uses_anonymous_args = 0
  97:arch/armv7m/kernel/src/ksch.c **** 	if (kobj == NULL)
 575              		.loc 1 97 1 is_stmt 0 view .LVU172
 576 0000 38B5     		push	{r3, r4, r5, lr}
 577              		.cfi_def_cfa_offset 16
 578              		.cfi_offset 3, -16
 579              		.cfi_offset 4, -12
 580              		.cfi_offset 5, -8
 581              		.cfi_offset 14, -4
 582 0002 0D46     		mov	r5, r1
  98:arch/armv7m/kernel/src/ksch.c **** 	{
 583              		.loc 1 98 2 is_stmt 1 view .LVU173
  98:arch/armv7m/kernel/src/ksch.c **** 	{
 584              		.loc 1 98 5 is_stmt 0 view .LVU174
 585 0004 0446     		mov	r4, r0
 586 0006 E8B1     		cbz	r0, .L51
 587              	.LVL44:
 588              	.L44:
 102:arch/armv7m/kernel/src/ksch.c **** 	RK_ERR err = kListRemoveHead( kobj, &dequeuedNodePtr);
 589              		.loc 1 102 2 is_stmt 1 view .LVU175
 103:arch/armv7m/kernel/src/ksch.c **** 
 590              		.loc 1 103 2 view .LVU176
 591              	.LBB29:
 592              	.LBI29:
  74:arch/armv7m/kernel/inc/ksch.h **** }
  75:arch/armv7m/kernel/inc/ksch.h **** __attribute__((always_inline))    static inline RK_ERR kListInsertAfter(
  76:arch/armv7m/kernel/inc/ksch.h ****         RK_LIST* const kobj, RK_NODE* const refNodePtr,
  77:arch/armv7m/kernel/inc/ksch.h ****         RK_NODE* const newNodePtr)
  78:arch/armv7m/kernel/inc/ksch.h **** {
  79:arch/armv7m/kernel/inc/ksch.h ****     if (kobj == NULL || newNodePtr == NULL || refNodePtr == NULL)
  80:arch/armv7m/kernel/inc/ksch.h ****     {
  81:arch/armv7m/kernel/inc/ksch.h ****         return (RK_ERR_OBJ_NULL);
  82:arch/armv7m/kernel/inc/ksch.h ****     }
  83:arch/armv7m/kernel/inc/ksch.h ****     newNodePtr->nextPtr = refNodePtr->nextPtr;
  84:arch/armv7m/kernel/inc/ksch.h ****     refNodePtr->nextPtr->prevPtr = newNodePtr;
  85:arch/armv7m/kernel/inc/ksch.h ****     newNodePtr->prevPtr = refNodePtr;
  86:arch/armv7m/kernel/inc/ksch.h ****     refNodePtr->nextPtr = newNodePtr;
  87:arch/armv7m/kernel/inc/ksch.h ****     kobj->size += 1U;
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 22


  88:arch/armv7m/kernel/inc/ksch.h **** 
  89:arch/armv7m/kernel/inc/ksch.h ****     _RK_DMB
  90:arch/armv7m/kernel/inc/ksch.h ****     return (RK_SUCCESS);
  91:arch/armv7m/kernel/inc/ksch.h **** }
  92:arch/armv7m/kernel/inc/ksch.h **** __attribute__((always_inline))    static inline RK_ERR kListRemove(RK_LIST* const kobj,
  93:arch/armv7m/kernel/inc/ksch.h ****         RK_NODE* const remNodePtr)
  94:arch/armv7m/kernel/inc/ksch.h **** {
  95:arch/armv7m/kernel/inc/ksch.h ****     if (kobj == NULL || remNodePtr == NULL)
  96:arch/armv7m/kernel/inc/ksch.h ****     {
  97:arch/armv7m/kernel/inc/ksch.h ****         return (RK_ERR_OBJ_NULL);
  98:arch/armv7m/kernel/inc/ksch.h ****     }
  99:arch/armv7m/kernel/inc/ksch.h ****     if (kobj->size == 0)
 100:arch/armv7m/kernel/inc/ksch.h ****     {
 101:arch/armv7m/kernel/inc/ksch.h ****         return (RK_ERR_LIST_EMPTY);
 102:arch/armv7m/kernel/inc/ksch.h ****     }
 103:arch/armv7m/kernel/inc/ksch.h ****     KLISTNODEDEL(remNodePtr);
 104:arch/armv7m/kernel/inc/ksch.h ****     kobj->size -= 1U;
 105:arch/armv7m/kernel/inc/ksch.h ****     _RK_DMB
 106:arch/armv7m/kernel/inc/ksch.h ****     return (RK_SUCCESS);
 107:arch/armv7m/kernel/inc/ksch.h **** }
 108:arch/armv7m/kernel/inc/ksch.h **** 
 109:arch/armv7m/kernel/inc/ksch.h **** __attribute__((always_inline))    static inline RK_ERR kListRemoveHead(
 593              		.loc 2 109 56 view .LVU177
 594              	.LBB30:
 110:arch/armv7m/kernel/inc/ksch.h ****         RK_LIST* const kobj, RK_NODE** const remNodePPtr)
 111:arch/armv7m/kernel/inc/ksch.h **** {
 112:arch/armv7m/kernel/inc/ksch.h **** 
 113:arch/armv7m/kernel/inc/ksch.h ****     if (kobj->size == 0)
 595              		.loc 2 113 5 view .LVU178
 596              		.loc 2 113 13 is_stmt 0 view .LVU179
 597 0008 E368     		ldr	r3, [r4, #12]
 598              		.loc 2 113 8 view .LVU180
 599 000a 002B     		cmp	r3, #0
 600 000c 32D0     		beq	.L47
 114:arch/armv7m/kernel/inc/ksch.h ****     {
 115:arch/armv7m/kernel/inc/ksch.h ****         return (RK_ERR_LIST_EMPTY);
 116:arch/armv7m/kernel/inc/ksch.h ****     }
 117:arch/armv7m/kernel/inc/ksch.h **** 
 118:arch/armv7m/kernel/inc/ksch.h ****     RK_NODE* currHeadPtr = kobj->listDummy.nextPtr;
 601              		.loc 2 118 5 is_stmt 1 view .LVU181
 602              		.loc 2 118 14 is_stmt 0 view .LVU182
 603 000e 2368     		ldr	r3, [r4]
 604              	.LVL45:
 119:arch/armv7m/kernel/inc/ksch.h ****     *remNodePPtr = currHeadPtr;
 605              		.loc 2 119 5 is_stmt 1 view .LVU183
 120:arch/armv7m/kernel/inc/ksch.h ****     KLISTNODEDEL(currHeadPtr);
 606              		.loc 2 120 5 view .LVU184
 607              		.loc 2 120 5 view .LVU185
 608 0010 1968     		ldr	r1, [r3]
 609 0012 5A68     		ldr	r2, [r3, #4]
 610 0014 4A60     		str	r2, [r1, #4]
 611              		.loc 2 120 5 view .LVU186
 612 0016 1968     		ldr	r1, [r3]
 613 0018 1160     		str	r1, [r2]
 614              		.loc 2 120 5 view .LVU187
 615 001a 0022     		movs	r2, #0
 616 001c 5A60     		str	r2, [r3, #4]
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 23


 617              		.loc 2 120 5 view .LVU188
 618 001e 43F85C29 		str	r2, [r3], #-92
 619              	.LVL46:
 620              		.loc 2 120 5 view .LVU189
 121:arch/armv7m/kernel/inc/ksch.h ****     kobj->size -= 1U;
 621              		.loc 2 121 5 view .LVU190
 622              		.loc 2 121 9 is_stmt 0 view .LVU191
 623 0022 E268     		ldr	r2, [r4, #12]
 624              		.loc 2 121 16 view .LVU192
 625 0024 013A     		subs	r2, r2, #1
 626 0026 E260     		str	r2, [r4, #12]
 122:arch/armv7m/kernel/inc/ksch.h ****     _RK_DMB
 627              		.loc 2 122 5 is_stmt 1 view .LVU193
 628              		.syntax unified
 629              	@ 122 "arch/armv7m/kernel/inc/ksch.h" 1
 630 0028 BFF35F8F 		dmb 0xF
 631              	@ 0 "" 2
 123:arch/armv7m/kernel/inc/ksch.h ****     return (RK_SUCCESS);
 632              		.loc 2 123 5 view .LVU194
 633              	.LVL47:
 634              		.loc 2 123 5 is_stmt 0 view .LVU195
 635              		.thumb
 636              		.syntax unified
 637              	.LBE30:
 638              	.LBE29:
 105:arch/armv7m/kernel/src/ksch.c **** 	{
 639              		.loc 1 105 2 is_stmt 1 view .LVU196
 109:arch/armv7m/kernel/src/ksch.c **** 
 640              		.loc 1 109 2 view .LVU197
 109:arch/armv7m/kernel/src/ksch.c **** 
 641              		.loc 1 109 11 is_stmt 0 view .LVU198
 642 002c 2B60     		str	r3, [r5]
 111:arch/armv7m/kernel/src/ksch.c **** 	{
 643              		.loc 1 111 2 is_stmt 1 view .LVU199
 111:arch/armv7m/kernel/src/ksch.c **** 	{
 644              		.loc 1 111 5 is_stmt 0 view .LVU200
 645 002e 73B1     		cbz	r3, .L52
 116:arch/armv7m/kernel/src/ksch.c **** 	RK_PRIO prio_ = tcbPtr_->priority;
 646              		.loc 1 116 2 is_stmt 1 view .LVU201
 647              	.LVL48:
 117:arch/armv7m/kernel/src/ksch.c **** 	if ((kobj == &readyQueue[prio_]) && (kobj->size == 0))
 648              		.loc 1 117 2 view .LVU202
 117:arch/armv7m/kernel/src/ksch.c **** 	if ((kobj == &readyQueue[prio_]) && (kobj->size == 0))
 649              		.loc 1 117 10 is_stmt 0 view .LVU203
 650 0030 5A7F     		ldrb	r2, [r3, #29]	@ zero_extendqisi2
 651              	.LVL49:
 118:arch/armv7m/kernel/src/ksch.c **** 		readyQBitMask &= ~(1U << prio_);
 652              		.loc 1 118 2 is_stmt 1 view .LVU204
 118:arch/armv7m/kernel/src/ksch.c **** 		readyQBitMask &= ~(1U << prio_);
 653              		.loc 1 118 15 is_stmt 0 view .LVU205
 654 0032 02EB8201 		add	r1, r2, r2, lsl #2
 655 0036 124B     		ldr	r3, .L54
 656              	.LVL50:
 118:arch/armv7m/kernel/src/ksch.c **** 		readyQBitMask &= ~(1U << prio_);
 657              		.loc 1 118 15 view .LVU206
 658 0038 03EB8103 		add	r3, r3, r1, lsl #2
 118:arch/armv7m/kernel/src/ksch.c **** 		readyQBitMask &= ~(1U << prio_);
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 24


 659              		.loc 1 118 5 view .LVU207
 660 003c A342     		cmp	r3, r4
 661 003e 0DD0     		beq	.L53
 120:arch/armv7m/kernel/src/ksch.c **** }
 662              		.loc 1 120 9 view .LVU208
 663 0040 0020     		movs	r0, #0
 664              	.LVL51:
 665              	.L43:
 121:arch/armv7m/kernel/src/ksch.c **** 
 666              		.loc 1 121 1 view .LVU209
 667 0042 38BD     		pop	{r3, r4, r5, pc}
 668              	.LVL52:
 669              	.L51:
 100:arch/armv7m/kernel/src/ksch.c **** 	}
 670              		.loc 1 100 3 is_stmt 1 view .LVU210
 671 0044 6FF06300 		mvn	r0, #99
 672              	.LVL53:
 100:arch/armv7m/kernel/src/ksch.c **** 	}
 673              		.loc 1 100 3 is_stmt 0 view .LVU211
 674 0048 FFF7FEFF 		bl	kErrHandler
 675              	.LVL54:
 100:arch/armv7m/kernel/src/ksch.c **** 	}
 676              		.loc 1 100 3 view .LVU212
 677 004c DCE7     		b	.L44
 678              	.LVL55:
 679              	.L52:
 113:arch/armv7m/kernel/src/ksch.c **** 		return (RK_ERR_OBJ_NULL);
 680              		.loc 1 113 3 is_stmt 1 view .LVU213
 681 004e 6FF06300 		mvn	r0, #99
 682 0052 FFF7FEFF 		bl	kErrHandler
 683              	.LVL56:
 114:arch/armv7m/kernel/src/ksch.c **** 	}
 684              		.loc 1 114 3 view .LVU214
 114:arch/armv7m/kernel/src/ksch.c **** 	}
 685              		.loc 1 114 10 is_stmt 0 view .LVU215
 686 0056 6FF06300 		mvn	r0, #99
 687 005a F2E7     		b	.L43
 688              	.LVL57:
 689              	.L53:
 118:arch/armv7m/kernel/src/ksch.c **** 		readyQBitMask &= ~(1U << prio_);
 690              		.loc 1 118 43 discriminator 1 view .LVU216
 691 005c E368     		ldr	r3, [r4, #12]
 118:arch/armv7m/kernel/src/ksch.c **** 		readyQBitMask &= ~(1U << prio_);
 692              		.loc 1 118 35 discriminator 1 view .LVU217
 693 005e 63B9     		cbnz	r3, .L49
 119:arch/armv7m/kernel/src/ksch.c **** 	return (RK_SUCCESS);
 694              		.loc 1 119 3 is_stmt 1 view .LVU218
 119:arch/armv7m/kernel/src/ksch.c **** 	return (RK_SUCCESS);
 695              		.loc 1 119 25 is_stmt 0 view .LVU219
 696 0060 0123     		movs	r3, #1
 697 0062 03FA02F2 		lsl	r2, r3, r2
 698              	.LVL58:
 119:arch/armv7m/kernel/src/ksch.c **** 	return (RK_SUCCESS);
 699              		.loc 1 119 17 view .LVU220
 700 0066 0749     		ldr	r1, .L54+4
 701 0068 0B68     		ldr	r3, [r1]
 702 006a 23EA0203 		bic	r3, r3, r2
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 25


 703 006e 0B60     		str	r3, [r1]
 120:arch/armv7m/kernel/src/ksch.c **** }
 704              		.loc 1 120 9 view .LVU221
 705 0070 0020     		movs	r0, #0
 706 0072 E6E7     		b	.L43
 707              	.LVL59:
 708              	.L47:
 709              	.LBB32:
 710              	.LBB31:
 115:arch/armv7m/kernel/inc/ksch.h ****     }
 711              		.loc 2 115 16 view .LVU222
 712 0074 6FF06500 		mvn	r0, #101
 713 0078 E3E7     		b	.L43
 714              	.LVL60:
 715              	.L49:
 115:arch/armv7m/kernel/inc/ksch.h ****     }
 716              		.loc 2 115 16 view .LVU223
 717              	.LBE31:
 718              	.LBE32:
 120:arch/armv7m/kernel/src/ksch.c **** }
 719              		.loc 1 120 9 view .LVU224
 720 007a 0020     		movs	r0, #0
 721              	.LVL61:
 120:arch/armv7m/kernel/src/ksch.c **** }
 722              		.loc 1 120 9 view .LVU225
 723 007c E1E7     		b	.L43
 724              	.L55:
 725 007e 00BF     		.align	2
 726              	.L54:
 727 0080 00000000 		.word	readyQueue
 728 0084 00000000 		.word	readyQBitMask
 729              		.cfi_endproc
 730              	.LFE57:
 732              		.section	.text.kTCBQRem,"ax",%progbits
 733              		.align	1
 734              		.global	kTCBQRem
 735              		.syntax unified
 736              		.thumb
 737              		.thumb_func
 739              	kTCBQRem:
 740              	.LVL62:
 741              	.LFB58:
 124:arch/armv7m/kernel/src/ksch.c **** 	if (kobj == NULL || tcbPPtr == NULL)
 742              		.loc 1 124 1 is_stmt 1 view -0
 743              		.cfi_startproc
 744              		@ args = 0, pretend = 0, frame = 0
 745              		@ frame_needed = 0, uses_anonymous_args = 0
 124:arch/armv7m/kernel/src/ksch.c **** 	if (kobj == NULL || tcbPPtr == NULL)
 746              		.loc 1 124 1 is_stmt 0 view .LVU227
 747 0000 38B5     		push	{r3, r4, r5, lr}
 748              		.cfi_def_cfa_offset 16
 749              		.cfi_offset 3, -16
 750              		.cfi_offset 4, -12
 751              		.cfi_offset 5, -8
 752              		.cfi_offset 14, -4
 753 0002 0C46     		mov	r4, r1
 125:arch/armv7m/kernel/src/ksch.c **** 	{
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 26


 754              		.loc 1 125 2 is_stmt 1 view .LVU228
 125:arch/armv7m/kernel/src/ksch.c **** 	{
 755              		.loc 1 125 5 is_stmt 0 view .LVU229
 756 0004 0546     		mov	r5, r0
 757 0006 F0B1     		cbz	r0, .L57
 125:arch/armv7m/kernel/src/ksch.c **** 	{
 758              		.loc 1 125 19 discriminator 1 view .LVU230
 759 0008 E9B1     		cbz	r1, .L57
 760              	.LVL63:
 761              	.L58:
 129:arch/armv7m/kernel/src/ksch.c **** 	RK_ERR err = kListRemove( kobj, dequeuedNodePtr);
 762              		.loc 1 129 2 is_stmt 1 view .LVU231
 129:arch/armv7m/kernel/src/ksch.c **** 	RK_ERR err = kListRemove( kobj, dequeuedNodePtr);
 763              		.loc 1 129 32 is_stmt 0 view .LVU232
 764 000a 2368     		ldr	r3, [r4]
 765              	.LVL64:
 130:arch/armv7m/kernel/src/ksch.c **** 	if (err != RK_SUCCESS)
 766              		.loc 1 130 2 is_stmt 1 view .LVU233
 767              	.LBB33:
 768              	.LBI33:
  92:arch/armv7m/kernel/inc/ksch.h ****         RK_NODE* const remNodePtr)
 769              		.loc 2 92 56 view .LVU234
 770              	.LBB34:
  95:arch/armv7m/kernel/inc/ksch.h ****     {
 771              		.loc 2 95 5 view .LVU235
  95:arch/armv7m/kernel/inc/ksch.h ****     {
 772              		.loc 2 95 8 is_stmt 0 view .LVU236
 773 000c 05B3     		cbz	r5, .L63
  99:arch/armv7m/kernel/inc/ksch.h ****     {
 774              		.loc 2 99 5 is_stmt 1 view .LVU237
  99:arch/armv7m/kernel/inc/ksch.h ****     {
 775              		.loc 2 99 13 is_stmt 0 view .LVU238
 776 000e EA68     		ldr	r2, [r5, #12]
  99:arch/armv7m/kernel/inc/ksch.h ****     {
 777              		.loc 2 99 8 view .LVU239
 778 0010 0AB3     		cbz	r2, .L64
 103:arch/armv7m/kernel/inc/ksch.h ****     kobj->size -= 1U;
 779              		.loc 2 103 5 is_stmt 1 view .LVU240
 103:arch/armv7m/kernel/inc/ksch.h ****     kobj->size -= 1U;
 780              		.loc 2 103 5 view .LVU241
 781 0012 D96D     		ldr	r1, [r3, #92]
 782 0014 1A6E     		ldr	r2, [r3, #96]
 783 0016 4A60     		str	r2, [r1, #4]
 103:arch/armv7m/kernel/inc/ksch.h ****     kobj->size -= 1U;
 784              		.loc 2 103 5 view .LVU242
 785 0018 D96D     		ldr	r1, [r3, #92]
 786 001a 1160     		str	r1, [r2]
 103:arch/armv7m/kernel/inc/ksch.h ****     kobj->size -= 1U;
 787              		.loc 2 103 5 view .LVU243
 788 001c 0022     		movs	r2, #0
 789 001e 1A66     		str	r2, [r3, #96]
 103:arch/armv7m/kernel/inc/ksch.h ****     kobj->size -= 1U;
 790              		.loc 2 103 5 view .LVU244
 791 0020 DA65     		str	r2, [r3, #92]
 103:arch/armv7m/kernel/inc/ksch.h ****     kobj->size -= 1U;
 792              		.loc 2 103 5 view .LVU245
 104:arch/armv7m/kernel/inc/ksch.h ****     _RK_DMB
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 27


 793              		.loc 2 104 5 view .LVU246
 104:arch/armv7m/kernel/inc/ksch.h ****     _RK_DMB
 794              		.loc 2 104 9 is_stmt 0 view .LVU247
 795 0022 EA68     		ldr	r2, [r5, #12]
 104:arch/armv7m/kernel/inc/ksch.h ****     _RK_DMB
 796              		.loc 2 104 16 view .LVU248
 797 0024 013A     		subs	r2, r2, #1
 798 0026 EA60     		str	r2, [r5, #12]
 105:arch/armv7m/kernel/inc/ksch.h ****     return (RK_SUCCESS);
 799              		.loc 2 105 5 is_stmt 1 view .LVU249
 800              		.syntax unified
 801              	@ 105 "arch/armv7m/kernel/inc/ksch.h" 1
 802 0028 BFF35F8F 		dmb 0xF
 803              	@ 0 "" 2
 106:arch/armv7m/kernel/inc/ksch.h **** }
 804              		.loc 2 106 5 view .LVU250
 805              	.LVL65:
 106:arch/armv7m/kernel/inc/ksch.h **** }
 806              		.loc 2 106 5 is_stmt 0 view .LVU251
 807              		.thumb
 808              		.syntax unified
 809              	.LBE34:
 810              	.LBE33:
 131:arch/armv7m/kernel/src/ksch.c **** 	{
 811              		.loc 1 131 2 is_stmt 1 view .LVU252
 135:arch/armv7m/kernel/src/ksch.c **** 	if (*tcbPPtr == NULL)
 812              		.loc 1 135 2 view .LVU253
 135:arch/armv7m/kernel/src/ksch.c **** 	if (*tcbPPtr == NULL)
 813              		.loc 1 135 11 is_stmt 0 view .LVU254
 814 002c 2360     		str	r3, [r4]
 136:arch/armv7m/kernel/src/ksch.c **** 	{
 815              		.loc 1 136 2 is_stmt 1 view .LVU255
 136:arch/armv7m/kernel/src/ksch.c **** 	{
 816              		.loc 1 136 5 is_stmt 0 view .LVU256
 817 002e ABB1     		cbz	r3, .L68
 818              	.LVL66:
 819              	.L61:
 140:arch/armv7m/kernel/src/ksch.c **** 	RK_PRIO prio_ = tcbPtr_->priority;
 820              		.loc 1 140 2 is_stmt 1 view .LVU257
 140:arch/armv7m/kernel/src/ksch.c **** 	RK_PRIO prio_ = tcbPtr_->priority;
 821              		.loc 1 140 10 is_stmt 0 view .LVU258
 822 0030 2368     		ldr	r3, [r4]
 823              	.LVL67:
 141:arch/armv7m/kernel/src/ksch.c **** 	if ((kobj == &readyQueue[prio_]) && (kobj->size == 0))
 824              		.loc 1 141 2 is_stmt 1 view .LVU259
 141:arch/armv7m/kernel/src/ksch.c **** 	if ((kobj == &readyQueue[prio_]) && (kobj->size == 0))
 825              		.loc 1 141 10 is_stmt 0 view .LVU260
 826 0032 5A7F     		ldrb	r2, [r3, #29]	@ zero_extendqisi2
 827              	.LVL68:
 142:arch/armv7m/kernel/src/ksch.c **** 		readyQBitMask &= ~(1U << prio_);
 828              		.loc 1 142 2 is_stmt 1 view .LVU261
 142:arch/armv7m/kernel/src/ksch.c **** 		readyQBitMask &= ~(1U << prio_);
 829              		.loc 1 142 15 is_stmt 0 view .LVU262
 830 0034 02EB8201 		add	r1, r2, r2, lsl #2
 831 0038 124B     		ldr	r3, .L70
 832              	.LVL69:
 142:arch/armv7m/kernel/src/ksch.c **** 		readyQBitMask &= ~(1U << prio_);
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 28


 833              		.loc 1 142 15 view .LVU263
 834 003a 03EB8103 		add	r3, r3, r1, lsl #2
 142:arch/armv7m/kernel/src/ksch.c **** 		readyQBitMask &= ~(1U << prio_);
 835              		.loc 1 142 5 view .LVU264
 836 003e AB42     		cmp	r3, r5
 837 0040 11D0     		beq	.L69
 144:arch/armv7m/kernel/src/ksch.c **** }
 838              		.loc 1 144 9 view .LVU265
 839 0042 0020     		movs	r0, #0
 840              	.LVL70:
 841              	.L56:
 145:arch/armv7m/kernel/src/ksch.c **** 
 842              		.loc 1 145 1 view .LVU266
 843 0044 38BD     		pop	{r3, r4, r5, pc}
 844              	.LVL71:
 845              	.L57:
 127:arch/armv7m/kernel/src/ksch.c **** 	}
 846              		.loc 1 127 3 is_stmt 1 view .LVU267
 847 0046 6FF06300 		mvn	r0, #99
 848              	.LVL72:
 127:arch/armv7m/kernel/src/ksch.c **** 	}
 849              		.loc 1 127 3 is_stmt 0 view .LVU268
 850 004a FFF7FEFF 		bl	kErrHandler
 851              	.LVL73:
 127:arch/armv7m/kernel/src/ksch.c **** 	}
 852              		.loc 1 127 3 view .LVU269
 853 004e DCE7     		b	.L58
 854              	.LVL74:
 855              	.L63:
 856              	.LBB36:
 857              	.LBB35:
  97:arch/armv7m/kernel/inc/ksch.h ****     }
 858              		.loc 2 97 16 view .LVU270
 859 0050 6FF06300 		mvn	r0, #99
 860 0054 F6E7     		b	.L56
 861              	.L64:
 101:arch/armv7m/kernel/inc/ksch.h ****     }
 862              		.loc 2 101 16 view .LVU271
 863 0056 6FF06500 		mvn	r0, #101
 864              	.LVL75:
 101:arch/armv7m/kernel/inc/ksch.h ****     }
 865              		.loc 2 101 16 view .LVU272
 866              	.LBE35:
 867              	.LBE36:
 133:arch/armv7m/kernel/src/ksch.c **** 	}
 868              		.loc 1 133 3 is_stmt 1 view .LVU273
 133:arch/armv7m/kernel/src/ksch.c **** 	}
 869              		.loc 1 133 10 is_stmt 0 view .LVU274
 870 005a F3E7     		b	.L56
 871              	.LVL76:
 872              	.L68:
 138:arch/armv7m/kernel/src/ksch.c **** 	}
 873              		.loc 1 138 3 is_stmt 1 view .LVU275
 874 005c 6FF06300 		mvn	r0, #99
 875 0060 FFF7FEFF 		bl	kErrHandler
 876              	.LVL77:
 138:arch/armv7m/kernel/src/ksch.c **** 	}
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 29


 877              		.loc 1 138 3 is_stmt 0 view .LVU276
 878 0064 E4E7     		b	.L61
 879              	.LVL78:
 880              	.L69:
 142:arch/armv7m/kernel/src/ksch.c **** 		readyQBitMask &= ~(1U << prio_);
 881              		.loc 1 142 43 discriminator 1 view .LVU277
 882 0066 EB68     		ldr	r3, [r5, #12]
 142:arch/armv7m/kernel/src/ksch.c **** 		readyQBitMask &= ~(1U << prio_);
 883              		.loc 1 142 35 discriminator 1 view .LVU278
 884 0068 4BB9     		cbnz	r3, .L66
 143:arch/armv7m/kernel/src/ksch.c **** 	return (RK_SUCCESS);
 885              		.loc 1 143 3 is_stmt 1 view .LVU279
 143:arch/armv7m/kernel/src/ksch.c **** 	return (RK_SUCCESS);
 886              		.loc 1 143 25 is_stmt 0 view .LVU280
 887 006a 0123     		movs	r3, #1
 888 006c 03FA02F2 		lsl	r2, r3, r2
 889              	.LVL79:
 143:arch/armv7m/kernel/src/ksch.c **** 	return (RK_SUCCESS);
 890              		.loc 1 143 17 view .LVU281
 891 0070 0549     		ldr	r1, .L70+4
 892 0072 0B68     		ldr	r3, [r1]
 893 0074 23EA0203 		bic	r3, r3, r2
 894 0078 0B60     		str	r3, [r1]
 144:arch/armv7m/kernel/src/ksch.c **** }
 895              		.loc 1 144 9 view .LVU282
 896 007a 0020     		movs	r0, #0
 897 007c E2E7     		b	.L56
 898              	.LVL80:
 899              	.L66:
 144:arch/armv7m/kernel/src/ksch.c **** }
 900              		.loc 1 144 9 view .LVU283
 901 007e 0020     		movs	r0, #0
 902 0080 E0E7     		b	.L56
 903              	.L71:
 904 0082 00BF     		.align	2
 905              	.L70:
 906 0084 00000000 		.word	readyQueue
 907 0088 00000000 		.word	readyQBitMask
 908              		.cfi_endproc
 909              	.LFE58:
 911              		.section	.text.kTCBQPeek,"ax",%progbits
 912              		.align	1
 913              		.global	kTCBQPeek
 914              		.syntax unified
 915              		.thumb
 916              		.thumb_func
 918              	kTCBQPeek:
 919              	.LVL81:
 920              	.LFB59:
 148:arch/armv7m/kernel/src/ksch.c **** 	if (kobj == NULL)
 921              		.loc 1 148 1 is_stmt 1 view -0
 922              		.cfi_startproc
 923              		@ args = 0, pretend = 0, frame = 0
 924              		@ frame_needed = 0, uses_anonymous_args = 0
 148:arch/armv7m/kernel/src/ksch.c **** 	if (kobj == NULL)
 925              		.loc 1 148 1 is_stmt 0 view .LVU285
 926 0000 10B5     		push	{r4, lr}
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 30


 927              		.cfi_def_cfa_offset 8
 928              		.cfi_offset 4, -8
 929              		.cfi_offset 14, -4
 149:arch/armv7m/kernel/src/ksch.c **** 	{
 930              		.loc 1 149 2 is_stmt 1 view .LVU286
 149:arch/armv7m/kernel/src/ksch.c **** 	{
 931              		.loc 1 149 5 is_stmt 0 view .LVU287
 932 0002 0446     		mov	r4, r0
 933 0004 10B1     		cbz	r0, .L75
 934              	.LVL82:
 935              	.L73:
 153:arch/armv7m/kernel/src/ksch.c **** 	return (RK_GET_CONTAINER_ADDR( nodePtr, RK_TCB, tcbNode));
 936              		.loc 1 153 2 is_stmt 1 view .LVU288
 153:arch/armv7m/kernel/src/ksch.c **** 	return (RK_GET_CONTAINER_ADDR( nodePtr, RK_TCB, tcbNode));
 937              		.loc 1 153 11 is_stmt 0 view .LVU289
 938 0006 2068     		ldr	r0, [r4]
 939              	.LVL83:
 154:arch/armv7m/kernel/src/ksch.c **** }
 940              		.loc 1 154 2 is_stmt 1 view .LVU290
 155:arch/armv7m/kernel/src/ksch.c **** 
 941              		.loc 1 155 1 is_stmt 0 view .LVU291
 942 0008 5C38     		subs	r0, r0, #92
 943              	.LVL84:
 155:arch/armv7m/kernel/src/ksch.c **** 
 944              		.loc 1 155 1 view .LVU292
 945 000a 10BD     		pop	{r4, pc}
 946              	.LVL85:
 947              	.L75:
 151:arch/armv7m/kernel/src/ksch.c **** 	}
 948              		.loc 1 151 3 is_stmt 1 view .LVU293
 949 000c 6FF06300 		mvn	r0, #99
 950              	.LVL86:
 151:arch/armv7m/kernel/src/ksch.c **** 	}
 951              		.loc 1 151 3 is_stmt 0 view .LVU294
 952 0010 FFF7FEFF 		bl	kErrHandler
 953              	.LVL87:
 954 0014 F7E7     		b	.L73
 955              		.cfi_endproc
 956              	.LFE59:
 958              		.section	.text.kReadyQDeq,"ax",%progbits
 959              		.align	1
 960              		.global	kReadyQDeq
 961              		.syntax unified
 962              		.thumb
 963              		.thumb_func
 965              	kReadyQDeq:
 966              	.LVL88:
 967              	.LFB62:
 218:arch/armv7m/kernel/src/ksch.c **** 
 968              		.loc 1 218 1 is_stmt 1 view -0
 969              		.cfi_startproc
 970              		@ args = 0, pretend = 0, frame = 0
 971              		@ frame_needed = 0, uses_anonymous_args = 0
 218:arch/armv7m/kernel/src/ksch.c **** 
 972              		.loc 1 218 1 is_stmt 0 view .LVU296
 973 0000 10B5     		push	{r4, lr}
 974              		.cfi_def_cfa_offset 8
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 31


 975              		.cfi_offset 4, -8
 976              		.cfi_offset 14, -4
 220:arch/armv7m/kernel/src/ksch.c **** 	kassert( err == 0);
 977              		.loc 1 220 2 is_stmt 1 view .LVU297
 220:arch/armv7m/kernel/src/ksch.c **** 	kassert( err == 0);
 978              		.loc 1 220 15 is_stmt 0 view .LVU298
 979 0002 01EB8103 		add	r3, r1, r1, lsl #2
 980 0006 0146     		mov	r1, r0
 981              	.LVL89:
 220:arch/armv7m/kernel/src/ksch.c **** 	kassert( err == 0);
 982              		.loc 1 220 15 view .LVU299
 983 0008 0648     		ldr	r0, .L80
 984              	.LVL90:
 220:arch/armv7m/kernel/src/ksch.c **** 	kassert( err == 0);
 985              		.loc 1 220 15 view .LVU300
 986 000a 00EB8300 		add	r0, r0, r3, lsl #2
 987 000e FFF7FEFF 		bl	kTCBQDeq
 988              	.LVL91:
 221:arch/armv7m/kernel/src/ksch.c **** 	return (err);
 989              		.loc 1 221 2 is_stmt 1 view .LVU301
 990 0012 0446     		mov	r4, r0
 991 0014 08B9     		cbnz	r0, .L79
 992              	.LVL92:
 993              	.L76:
 223:arch/armv7m/kernel/src/ksch.c **** 
 994              		.loc 1 223 1 is_stmt 0 view .LVU302
 995 0016 2046     		mov	r0, r4
 996 0018 10BD     		pop	{r4, pc}
 997              	.LVL93:
 998              	.L79:
 221:arch/armv7m/kernel/src/ksch.c **** 	return (err);
 999              		.loc 1 221 2 discriminator 1 view .LVU303
 1000 001a 0020     		movs	r0, #0
 1001              	.LVL94:
 221:arch/armv7m/kernel/src/ksch.c **** 	return (err);
 1002              		.loc 1 221 2 discriminator 1 view .LVU304
 1003 001c FFF7FEFF 		bl	kErrHandler
 1004              	.LVL95:
 222:arch/armv7m/kernel/src/ksch.c **** }
 1005              		.loc 1 222 2 is_stmt 1 discriminator 1 view .LVU305
 222:arch/armv7m/kernel/src/ksch.c **** }
 1006              		.loc 1 222 9 is_stmt 0 discriminator 1 view .LVU306
 1007 0020 F9E7     		b	.L76
 1008              	.L81:
 1009 0022 00BF     		.align	2
 1010              	.L80:
 1011 0024 00000000 		.word	readyQueue
 1012              		.cfi_endproc
 1013              	.LFE62:
 1015              		.section	.rodata.kCreateTask.str1.4,"aMS",%progbits,1
 1016              		.align	2
 1017              	.LC1:
 1018 0000 49646C65 		.ascii	"IdleTask\000"
 1018      5461736B 
 1018      00
 1019 0009 000000   		.align	2
 1020              	.LC2:
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 32


 1021 000c 54696D48 		.ascii	"TimHandlerTask\000"
 1021      616E646C 
 1021      65725461 
 1021      736B00
 1022              		.section	.text.kCreateTask,"ax",%progbits
 1023              		.align	1
 1024              		.global	kCreateTask
 1025              		.syntax unified
 1026              		.thumb
 1027              		.thumb_func
 1029              	kCreateTask:
 1030              	.LVL96:
 1031              	.LFB65:
 288:arch/armv7m/kernel/src/ksch.c **** 
 1032              		.loc 1 288 1 is_stmt 1 view -0
 1033              		.cfi_startproc
 1034              		@ args = 16, pretend = 0, frame = 0
 1035              		@ frame_needed = 0, uses_anonymous_args = 0
 288:arch/armv7m/kernel/src/ksch.c **** 
 1036              		.loc 1 288 1 is_stmt 0 view .LVU308
 1037 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1038              		.cfi_def_cfa_offset 32
 1039              		.cfi_offset 3, -32
 1040              		.cfi_offset 4, -28
 1041              		.cfi_offset 5, -24
 1042              		.cfi_offset 6, -20
 1043              		.cfi_offset 7, -16
 1044              		.cfi_offset 8, -12
 1045              		.cfi_offset 9, -8
 1046              		.cfi_offset 14, -4
 1047 0004 0646     		mov	r6, r0
 1048 0006 0C46     		mov	r4, r1
 1049 0008 1746     		mov	r7, r2
 1050 000a 1D46     		mov	r5, r3
 1051 000c DDF82490 		ldr	r9, [sp, #36]
 1052 0010 9DF82880 		ldrb	r8, [sp, #40]	@ zero_extendqisi2
 295:arch/armv7m/kernel/src/ksch.c **** 	{
 1053              		.loc 1 295 2 is_stmt 1 view .LVU309
 295:arch/armv7m/kernel/src/ksch.c **** 	{
 1054              		.loc 1 295 11 is_stmt 0 view .LVU310
 1055 0014 324B     		ldr	r3, .L94
 1056              	.LVL97:
 295:arch/armv7m/kernel/src/ksch.c **** 	{
 1057              		.loc 1 295 11 view .LVU311
 1058 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 295:arch/armv7m/kernel/src/ksch.c **** 	{
 1059              		.loc 1 295 5 view .LVU312
 1060 0018 03B3     		cbz	r3, .L90
 1061              	.LVL98:
 1062              	.L83:
 329:arch/armv7m/kernel/src/ksch.c **** 	{
 1063              		.loc 1 329 2 is_stmt 1 view .LVU313
 329:arch/armv7m/kernel/src/ksch.c **** 	{
 1064              		.loc 1 329 6 is_stmt 0 view .LVU314
 1065 001a 089B     		ldr	r3, [sp, #32]
 1066 001c 2A46     		mov	r2, r5
 1067 001e 4946     		mov	r1, r9
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 33


 1068 0020 2046     		mov	r0, r4
 1069 0022 FFF7FEFF 		bl	kInitTcb_
 1070              	.LVL99:
 329:arch/armv7m/kernel/src/ksch.c **** 	{
 1071              		.loc 1 329 5 view .LVU315
 1072 0026 0446     		mov	r4, r0
 1073              	.LVL100:
 329:arch/armv7m/kernel/src/ksch.c **** 	{
 1074              		.loc 1 329 5 view .LVU316
 1075 0028 0028     		cmp	r0, #0
 1076 002a 55D1     		bne	.L88
 331:arch/armv7m/kernel/src/ksch.c **** 		{
 1077              		.loc 1 331 3 is_stmt 1 view .LVU317
 331:arch/armv7m/kernel/src/ksch.c **** 		{
 1078              		.loc 1 331 6 is_stmt 0 view .LVU318
 1079 002c B8F1020F 		cmp	r8, #2
 1080 0030 4DD8     		bhi	.L91
 1081              	.L87:
 335:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].realPrio = priority;
 1082              		.loc 1 335 3 is_stmt 1 view .LVU319
 335:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].realPrio = priority;
 1083              		.loc 1 335 13 is_stmt 0 view .LVU320
 1084 0032 2B4A     		ldr	r2, .L94
 1085 0034 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 335:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].realPrio = priority;
 1086              		.loc 1 335 23 view .LVU321
 1087 0036 2B4B     		ldr	r3, .L94+4
 1088 0038 6420     		movs	r0, #100
 1089 003a 00FB0133 		mla	r3, r0, r1, r3
 1090 003e 83F81D80 		strb	r8, [r3, #29]
 336:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].taskName = taskName;
 1091              		.loc 1 336 3 is_stmt 1 view .LVU322
 336:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].taskName = taskName;
 1092              		.loc 1 336 23 is_stmt 0 view .LVU323
 1093 0042 83F81E80 		strb	r8, [r3, #30]
 337:arch/armv7m/kernel/src/ksch.c **** 
 1094              		.loc 1 337 3 is_stmt 1 view .LVU324
 337:arch/armv7m/kernel/src/ksch.c **** 
 1095              		.loc 1 337 23 is_stmt 0 view .LVU325
 1096 0046 1F61     		str	r7, [r3, #16]
 343:arch/armv7m/kernel/src/ksch.c **** #endif
 1097              		.loc 1 343 3 is_stmt 1 view .LVU326
 343:arch/armv7m/kernel/src/ksch.c **** #endif
 1098              		.loc 1 343 27 is_stmt 0 view .LVU327
 1099 0048 0020     		movs	r0, #0
 1100 004a 1863     		str	r0, [r3, #48]
 345:arch/armv7m/kernel/src/ksch.c **** 		*taskHandlePtr = &tcbs[pPid];
 1101              		.loc 1 345 3 is_stmt 1 view .LVU328
 345:arch/armv7m/kernel/src/ksch.c **** 		*taskHandlePtr = &tcbs[pPid];
 1102              		.loc 1 345 25 is_stmt 0 view .LVU329
 1103 004c 0B98     		ldr	r0, [sp, #44]
 1104 004e 5863     		str	r0, [r3, #52]
 346:arch/armv7m/kernel/src/ksch.c **** 		pPid += 1;
 1105              		.loc 1 346 3 is_stmt 1 view .LVU330
 346:arch/armv7m/kernel/src/ksch.c **** 		pPid += 1;
 1106              		.loc 1 346 18 is_stmt 0 view .LVU331
 1107 0050 3360     		str	r3, [r6]
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 34


 347:arch/armv7m/kernel/src/ksch.c **** 		return (RK_SUCCESS);
 1108              		.loc 1 347 3 is_stmt 1 view .LVU332
 347:arch/armv7m/kernel/src/ksch.c **** 		return (RK_SUCCESS);
 1109              		.loc 1 347 8 is_stmt 0 view .LVU333
 1110 0052 0131     		adds	r1, r1, #1
 1111 0054 1170     		strb	r1, [r2]
 348:arch/armv7m/kernel/src/ksch.c **** 	}
 1112              		.loc 1 348 3 is_stmt 1 view .LVU334
 1113              	.L82:
 352:arch/armv7m/kernel/src/ksch.c **** /*******************************************************************************
 1114              		.loc 1 352 1 is_stmt 0 view .LVU335
 1115 0056 2046     		mov	r0, r4
 1116 0058 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1117              	.LVL101:
 1118              	.L90:
 298:arch/armv7m/kernel/src/ksch.c **** 				kInitTcb_(IdleTask, argsPtr, idleStack, RK_CONF_IDLE_STACKSIZE) == RK_SUCCESS);
 1119              		.loc 1 298 3 is_stmt 1 view .LVU336
 1120 005c 4023     		movs	r3, #64
 1121 005e 224A     		ldr	r2, .L94+8
 1122              	.LVL102:
 298:arch/armv7m/kernel/src/ksch.c **** 				kInitTcb_(IdleTask, argsPtr, idleStack, RK_CONF_IDLE_STACKSIZE) == RK_SUCCESS);
 1123              		.loc 1 298 3 is_stmt 0 view .LVU337
 1124 0060 4946     		mov	r1, r9
 1125              	.LVL103:
 298:arch/armv7m/kernel/src/ksch.c **** 				kInitTcb_(IdleTask, argsPtr, idleStack, RK_CONF_IDLE_STACKSIZE) == RK_SUCCESS);
 1126              		.loc 1 298 3 view .LVU338
 1127 0062 2248     		ldr	r0, .L94+12
 1128              	.LVL104:
 298:arch/armv7m/kernel/src/ksch.c **** 				kInitTcb_(IdleTask, argsPtr, idleStack, RK_CONF_IDLE_STACKSIZE) == RK_SUCCESS);
 1129              		.loc 1 298 3 view .LVU339
 1130 0064 FFF7FEFF 		bl	kInitTcb_
 1131              	.LVL105:
 1132 0068 48BB     		cbnz	r0, .L92
 1133              	.L84:
 301:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].realPrio = idleTaskPrio;
 1134              		.loc 1 301 3 is_stmt 1 view .LVU340
 301:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].realPrio = idleTaskPrio;
 1135              		.loc 1 301 13 is_stmt 0 view .LVU341
 1136 006a 1D49     		ldr	r1, .L94
 1137 006c 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 301:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].realPrio = idleTaskPrio;
 1138              		.loc 1 301 23 view .LVU342
 1139 006e 1D4B     		ldr	r3, .L94+4
 1140 0070 6420     		movs	r0, #100
 1141 0072 00FB0233 		mla	r3, r0, r2, r3
 1142 0076 0220     		movs	r0, #2
 1143 0078 5877     		strb	r0, [r3, #29]
 302:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].taskName = "IdleTask";
 1144              		.loc 1 302 3 is_stmt 1 view .LVU343
 302:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].taskName = "IdleTask";
 1145              		.loc 1 302 23 is_stmt 0 view .LVU344
 1146 007a 9877     		strb	r0, [r3, #30]
 303:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].runToCompl = FALSE;
 1147              		.loc 1 303 3 is_stmt 1 view .LVU345
 303:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].runToCompl = FALSE;
 1148              		.loc 1 303 23 is_stmt 0 view .LVU346
 1149 007c 1C48     		ldr	r0, .L94+16
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 35


 1150 007e 1861     		str	r0, [r3, #16]
 304:arch/armv7m/kernel/src/ksch.c **** #if(RK_CONF_SCH_TSLICE==ON)
 1151              		.loc 1 304 3 is_stmt 1 view .LVU347
 304:arch/armv7m/kernel/src/ksch.c **** #if(RK_CONF_SCH_TSLICE==ON)
 1152              		.loc 1 304 25 is_stmt 0 view .LVU348
 1153 0080 0020     		movs	r0, #0
 1154 0082 5863     		str	r0, [r3, #52]
 309:arch/armv7m/kernel/src/ksch.c **** 		pPid += 1;
 1155              		.loc 1 309 3 is_stmt 1 view .LVU349
 309:arch/armv7m/kernel/src/ksch.c **** 		pPid += 1;
 1156              		.loc 1 309 18 is_stmt 0 view .LVU350
 1157 0084 1B48     		ldr	r0, .L94+20
 1158 0086 0360     		str	r3, [r0]
 310:arch/armv7m/kernel/src/ksch.c **** 
 1159              		.loc 1 310 3 is_stmt 1 view .LVU351
 310:arch/armv7m/kernel/src/ksch.c **** 
 1160              		.loc 1 310 8 is_stmt 0 view .LVU352
 1161 0088 0132     		adds	r2, r2, #1
 1162 008a 0A70     		strb	r2, [r1]
 313:arch/armv7m/kernel/src/ksch.c **** 				kInitTcb_(TimerHandlerTask, argsPtr, timerHandlerStack, RK_CONF_TIMHANDLER_STACKSIZE) == RK_SUC
 1163              		.loc 1 313 3 is_stmt 1 view .LVU353
 1164 008c 4023     		movs	r3, #64
 1165 008e 1A4A     		ldr	r2, .L94+24
 1166 0090 4946     		mov	r1, r9
 1167 0092 1A48     		ldr	r0, .L94+28
 1168 0094 FFF7FEFF 		bl	kInitTcb_
 1169              	.LVL106:
 1170 0098 A8B9     		cbnz	r0, .L93
 1171              	.L85:
 316:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].realPrio = 0;
 1172              		.loc 1 316 3 view .LVU354
 316:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].realPrio = 0;
 1173              		.loc 1 316 13 is_stmt 0 view .LVU355
 1174 009a 1149     		ldr	r1, .L94
 1175 009c 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 316:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].realPrio = 0;
 1176              		.loc 1 316 23 view .LVU356
 1177 009e 114B     		ldr	r3, .L94+4
 1178 00a0 6420     		movs	r0, #100
 1179 00a2 00FB0233 		mla	r3, r0, r2, r3
 1180 00a6 0020     		movs	r0, #0
 1181 00a8 5877     		strb	r0, [r3, #29]
 317:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].taskName = "TimHandlerTask";
 1182              		.loc 1 317 3 is_stmt 1 view .LVU357
 317:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].taskName = "TimHandlerTask";
 1183              		.loc 1 317 23 is_stmt 0 view .LVU358
 1184 00aa 9877     		strb	r0, [r3, #30]
 318:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].runToCompl = TRUE;
 1185              		.loc 1 318 3 is_stmt 1 view .LVU359
 318:arch/armv7m/kernel/src/ksch.c **** 		tcbs[pPid].runToCompl = TRUE;
 1186              		.loc 1 318 23 is_stmt 0 view .LVU360
 1187 00ac 1448     		ldr	r0, .L94+32
 1188 00ae 1861     		str	r0, [r3, #16]
 319:arch/armv7m/kernel/src/ksch.c **** #if(RK_CONF_SCH_TSLICE==ON)
 1189              		.loc 1 319 3 is_stmt 1 view .LVU361
 319:arch/armv7m/kernel/src/ksch.c **** #if(RK_CONF_SCH_TSLICE==ON)
 1190              		.loc 1 319 25 is_stmt 0 view .LVU362
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 36


 1191 00b0 0120     		movs	r0, #1
 1192 00b2 5863     		str	r0, [r3, #52]
 324:arch/armv7m/kernel/src/ksch.c **** 		pPid += 1;
 1193              		.loc 1 324 3 is_stmt 1 view .LVU363
 324:arch/armv7m/kernel/src/ksch.c **** 		pPid += 1;
 1194              		.loc 1 324 17 is_stmt 0 view .LVU364
 1195 00b4 1348     		ldr	r0, .L94+36
 1196 00b6 0360     		str	r3, [r0]
 325:arch/armv7m/kernel/src/ksch.c **** 
 1197              		.loc 1 325 3 is_stmt 1 view .LVU365
 325:arch/armv7m/kernel/src/ksch.c **** 
 1198              		.loc 1 325 8 is_stmt 0 view .LVU366
 1199 00b8 0132     		adds	r2, r2, #1
 1200 00ba 0A70     		strb	r2, [r1]
 1201 00bc ADE7     		b	.L83
 1202              	.L92:
 298:arch/armv7m/kernel/src/ksch.c **** 				kInitTcb_(IdleTask, argsPtr, idleStack, RK_CONF_IDLE_STACKSIZE) == RK_SUCCESS);
 1203              		.loc 1 298 3 discriminator 1 view .LVU367
 1204 00be 0020     		movs	r0, #0
 1205 00c0 FFF7FEFF 		bl	kErrHandler
 1206              	.LVL107:
 1207 00c4 D1E7     		b	.L84
 1208              	.L93:
 313:arch/armv7m/kernel/src/ksch.c **** 				kInitTcb_(TimerHandlerTask, argsPtr, timerHandlerStack, RK_CONF_TIMHANDLER_STACKSIZE) == RK_SUC
 1209              		.loc 1 313 3 discriminator 1 view .LVU368
 1210 00c6 0020     		movs	r0, #0
 1211 00c8 FFF7FEFF 		bl	kErrHandler
 1212              	.LVL108:
 1213 00cc E5E7     		b	.L85
 1214              	.LVL109:
 1215              	.L91:
 333:arch/armv7m/kernel/src/ksch.c **** 		}
 1216              		.loc 1 333 4 is_stmt 1 view .LVU369
 1217 00ce 6FF06800 		mvn	r0, #104
 1218 00d2 FFF7FEFF 		bl	kErrHandler
 1219              	.LVL110:
 1220 00d6 ACE7     		b	.L87
 1221              	.L88:
 351:arch/armv7m/kernel/src/ksch.c **** }
 1222              		.loc 1 351 9 is_stmt 0 view .LVU370
 1223 00d8 4FF0FF34 		mov	r4, #-1
 1224 00dc BBE7     		b	.L82
 1225              	.L95:
 1226 00de 00BF     		.align	2
 1227              	.L94:
 1228 00e0 00000000 		.word	pPid
 1229 00e4 00000000 		.word	tcbs
 1230 00e8 00000000 		.word	idleStack
 1231 00ec 00000000 		.word	IdleTask
 1232 00f0 00000000 		.word	.LC1
 1233 00f4 00000000 		.word	idleTaskHandle
 1234 00f8 00000000 		.word	timerHandlerStack
 1235 00fc 00000000 		.word	TimerHandlerTask
 1236 0100 0C000000 		.word	.LC2
 1237 0104 00000000 		.word	timTaskHandle
 1238              		.cfi_endproc
 1239              	.LFE65:
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 37


 1241              		.section	.text.kEnterCR,"ax",%progbits
 1242              		.align	1
 1243              		.global	kEnterCR
 1244              		.syntax unified
 1245              		.thumb
 1246              		.thumb_func
 1248              	kEnterCR:
 1249              	.LFB66:
 358:arch/armv7m/kernel/src/ksch.c **** 	asm volatile("DSB");
 1250              		.loc 1 358 1 is_stmt 1 view -0
 1251              		.cfi_startproc
 1252              		@ args = 0, pretend = 0, frame = 0
 1253              		@ frame_needed = 0, uses_anonymous_args = 0
 1254              		@ link register save eliminated.
 359:arch/armv7m/kernel/src/ksch.c **** 
 1255              		.loc 1 359 2 view .LVU372
 1256              		.syntax unified
 1257              	@ 359 "arch/armv7m/kernel/src/ksch.c" 1
 1258 0000 BFF34F8F 		DSB
 1259              	@ 0 "" 2
 361:arch/armv7m/kernel/src/ksch.c **** 
 1260              		.loc 1 361 2 view .LVU373
 363:arch/armv7m/kernel/src/ksch.c **** 	if (crState == 0)
 1261              		.loc 1 363 2 view .LVU374
 1262              		.thumb
 1263              		.syntax unified
 1264              	.LBB37:
 1265              	.LBI37:
 1266              		.file 3 "core/inc/cmsis_gcc.h"
   1:core/inc/cmsis_gcc.h **** /**************************************************************************//**
   2:core/inc/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:core/inc/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:core/inc/cmsis_gcc.h ****  * @version  V5.4.1
   5:core/inc/cmsis_gcc.h ****  * @date     27. May 2021
   6:core/inc/cmsis_gcc.h ****  ******************************************************************************/
   7:core/inc/cmsis_gcc.h **** /*
   8:core/inc/cmsis_gcc.h ****  * Copyright (c) 2009-2021 Arm Limited. All rights reserved.
   9:core/inc/cmsis_gcc.h ****  *
  10:core/inc/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:core/inc/cmsis_gcc.h ****  *
  12:core/inc/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:core/inc/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:core/inc/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:core/inc/cmsis_gcc.h ****  *
  16:core/inc/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:core/inc/cmsis_gcc.h ****  *
  18:core/inc/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:core/inc/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:core/inc/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:core/inc/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:core/inc/cmsis_gcc.h ****  * limitations under the License.
  23:core/inc/cmsis_gcc.h ****  */
  24:core/inc/cmsis_gcc.h **** 
  25:core/inc/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:core/inc/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:core/inc/cmsis_gcc.h **** 
  28:core/inc/cmsis_gcc.h **** /* ignore some GCC warnings */
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 38


  29:core/inc/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:core/inc/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:core/inc/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:core/inc/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:core/inc/cmsis_gcc.h **** 
  34:core/inc/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:core/inc/cmsis_gcc.h **** #ifndef __has_builtin
  36:core/inc/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:core/inc/cmsis_gcc.h **** #endif
  38:core/inc/cmsis_gcc.h **** 
  39:core/inc/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:core/inc/cmsis_gcc.h **** #ifndef   __ASM
  41:core/inc/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:core/inc/cmsis_gcc.h **** #endif
  43:core/inc/cmsis_gcc.h **** #ifndef   __INLINE
  44:core/inc/cmsis_gcc.h ****   #define __INLINE                               inline
  45:core/inc/cmsis_gcc.h **** #endif
  46:core/inc/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:core/inc/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:core/inc/cmsis_gcc.h **** #endif
  49:core/inc/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE
  50:core/inc/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:core/inc/cmsis_gcc.h **** #endif
  52:core/inc/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:core/inc/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:core/inc/cmsis_gcc.h **** #endif
  55:core/inc/cmsis_gcc.h **** #ifndef   __USED
  56:core/inc/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:core/inc/cmsis_gcc.h **** #endif
  58:core/inc/cmsis_gcc.h **** #ifndef   __WEAK
  59:core/inc/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:core/inc/cmsis_gcc.h **** #endif
  61:core/inc/cmsis_gcc.h **** #ifndef   __PACKED
  62:core/inc/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:core/inc/cmsis_gcc.h **** #endif
  64:core/inc/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:core/inc/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:core/inc/cmsis_gcc.h **** #endif
  67:core/inc/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:core/inc/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:core/inc/cmsis_gcc.h **** #endif
  70:core/inc/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:core/inc/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:core/inc/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:core/inc/cmsis_gcc.h **** #endif
  78:core/inc/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:core/inc/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:core/inc/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:core/inc/cmsis_gcc.h **** #endif
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 39


  86:core/inc/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:core/inc/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:core/inc/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:core/inc/cmsis_gcc.h **** #endif
  94:core/inc/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:core/inc/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:core/inc/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:core/inc/cmsis_gcc.h **** #endif
 102:core/inc/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:core/inc/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:core/inc/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:core/inc/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:core/inc/cmsis_gcc.h **** #endif
 110:core/inc/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:core/inc/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:core/inc/cmsis_gcc.h **** #endif
 113:core/inc/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:core/inc/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:core/inc/cmsis_gcc.h **** #endif
 116:core/inc/cmsis_gcc.h **** #ifndef   __COMPILER_BARRIER
 117:core/inc/cmsis_gcc.h ****   #define __COMPILER_BARRIER()                   __ASM volatile("":::"memory")
 118:core/inc/cmsis_gcc.h **** #endif
 119:core/inc/cmsis_gcc.h **** 
 120:core/inc/cmsis_gcc.h **** /* #########################  Startup and Lowlevel Init  ######################## */
 121:core/inc/cmsis_gcc.h **** 
 122:core/inc/cmsis_gcc.h **** #ifndef __PROGRAM_START
 123:core/inc/cmsis_gcc.h **** 
 124:core/inc/cmsis_gcc.h **** /**
 125:core/inc/cmsis_gcc.h ****   \brief   Initializes data and bss sections
 126:core/inc/cmsis_gcc.h ****   \details This default implementations initialized all data and additional bss
 127:core/inc/cmsis_gcc.h ****            sections relying on .copy.table and .zero.table specified properly
 128:core/inc/cmsis_gcc.h ****            in the used linker script.
 129:core/inc/cmsis_gcc.h **** 
 130:core/inc/cmsis_gcc.h ****  */
 131:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE __NO_RETURN void __cmsis_start(void)
 132:core/inc/cmsis_gcc.h **** {
 133:core/inc/cmsis_gcc.h ****   extern void _start(void) __NO_RETURN;
 134:core/inc/cmsis_gcc.h **** 
 135:core/inc/cmsis_gcc.h ****   typedef struct {
 136:core/inc/cmsis_gcc.h ****     uint32_t const* src;
 137:core/inc/cmsis_gcc.h ****     uint32_t* dest;
 138:core/inc/cmsis_gcc.h ****     uint32_t  wlen;
 139:core/inc/cmsis_gcc.h ****   } __copy_table_t;
 140:core/inc/cmsis_gcc.h **** 
 141:core/inc/cmsis_gcc.h ****   typedef struct {
 142:core/inc/cmsis_gcc.h ****     uint32_t* dest;
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 40


 143:core/inc/cmsis_gcc.h ****     uint32_t  wlen;
 144:core/inc/cmsis_gcc.h ****   } __zero_table_t;
 145:core/inc/cmsis_gcc.h **** 
 146:core/inc/cmsis_gcc.h ****   extern const __copy_table_t __copy_table_start__;
 147:core/inc/cmsis_gcc.h ****   extern const __copy_table_t __copy_table_end__;
 148:core/inc/cmsis_gcc.h ****   extern const __zero_table_t __zero_table_start__;
 149:core/inc/cmsis_gcc.h ****   extern const __zero_table_t __zero_table_end__;
 150:core/inc/cmsis_gcc.h **** 
 151:core/inc/cmsis_gcc.h ****   for (__copy_table_t const* pTable = &__copy_table_start__; pTable < &__copy_table_end__; ++pTable
 152:core/inc/cmsis_gcc.h ****     for(uint32_t i=0u; i<pTable->wlen; ++i) {
 153:core/inc/cmsis_gcc.h ****       pTable->dest[i] = pTable->src[i];
 154:core/inc/cmsis_gcc.h ****     }
 155:core/inc/cmsis_gcc.h ****   }
 156:core/inc/cmsis_gcc.h **** 
 157:core/inc/cmsis_gcc.h ****   for (__zero_table_t const* pTable = &__zero_table_start__; pTable < &__zero_table_end__; ++pTable
 158:core/inc/cmsis_gcc.h ****     for(uint32_t i=0u; i<pTable->wlen; ++i) {
 159:core/inc/cmsis_gcc.h ****       pTable->dest[i] = 0u;
 160:core/inc/cmsis_gcc.h ****     }
 161:core/inc/cmsis_gcc.h ****   }
 162:core/inc/cmsis_gcc.h **** 
 163:core/inc/cmsis_gcc.h ****   _start();
 164:core/inc/cmsis_gcc.h **** }
 165:core/inc/cmsis_gcc.h **** 
 166:core/inc/cmsis_gcc.h **** #define __PROGRAM_START           __cmsis_start
 167:core/inc/cmsis_gcc.h **** #endif
 168:core/inc/cmsis_gcc.h **** 
 169:core/inc/cmsis_gcc.h **** #ifndef __INITIAL_SP
 170:core/inc/cmsis_gcc.h **** #define __INITIAL_SP              __StackTop
 171:core/inc/cmsis_gcc.h **** #endif
 172:core/inc/cmsis_gcc.h **** 
 173:core/inc/cmsis_gcc.h **** #ifndef __STACK_LIMIT
 174:core/inc/cmsis_gcc.h **** #define __STACK_LIMIT             __StackLimit
 175:core/inc/cmsis_gcc.h **** #endif
 176:core/inc/cmsis_gcc.h **** 
 177:core/inc/cmsis_gcc.h **** #ifndef __VECTOR_TABLE
 178:core/inc/cmsis_gcc.h **** #define __VECTOR_TABLE            __Vectors
 179:core/inc/cmsis_gcc.h **** #endif
 180:core/inc/cmsis_gcc.h **** 
 181:core/inc/cmsis_gcc.h **** #ifndef __VECTOR_TABLE_ATTRIBUTE
 182:core/inc/cmsis_gcc.h **** #define __VECTOR_TABLE_ATTRIBUTE  __attribute__((used, section(".vectors")))
 183:core/inc/cmsis_gcc.h **** #endif
 184:core/inc/cmsis_gcc.h **** 
 185:core/inc/cmsis_gcc.h **** #if defined (__ARM_FEATURE_CMSE) && (__ARM_FEATURE_CMSE == 3U)
 186:core/inc/cmsis_gcc.h **** #ifndef __STACK_SEAL
 187:core/inc/cmsis_gcc.h **** #define __STACK_SEAL              __StackSeal
 188:core/inc/cmsis_gcc.h **** #endif
 189:core/inc/cmsis_gcc.h **** 
 190:core/inc/cmsis_gcc.h **** #ifndef __TZ_STACK_SEAL_SIZE
 191:core/inc/cmsis_gcc.h **** #define __TZ_STACK_SEAL_SIZE      8U
 192:core/inc/cmsis_gcc.h **** #endif
 193:core/inc/cmsis_gcc.h **** 
 194:core/inc/cmsis_gcc.h **** #ifndef __TZ_STACK_SEAL_VALUE
 195:core/inc/cmsis_gcc.h **** #define __TZ_STACK_SEAL_VALUE     0xFEF5EDA5FEF5EDA5ULL
 196:core/inc/cmsis_gcc.h **** #endif
 197:core/inc/cmsis_gcc.h **** 
 198:core/inc/cmsis_gcc.h **** 
 199:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_STACKSEAL_S (uint32_t* stackTop) {
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 41


 200:core/inc/cmsis_gcc.h ****   *((uint64_t *)stackTop) = __TZ_STACK_SEAL_VALUE;
 201:core/inc/cmsis_gcc.h **** }
 202:core/inc/cmsis_gcc.h **** #endif
 203:core/inc/cmsis_gcc.h **** 
 204:core/inc/cmsis_gcc.h **** 
 205:core/inc/cmsis_gcc.h **** /* ##########################  Core Instruction Access  ######################### */
 206:core/inc/cmsis_gcc.h **** /** \defgroup CMSIS_Core_InstructionInterface CMSIS Core Instruction Interface
 207:core/inc/cmsis_gcc.h ****   Access to dedicated instructions
 208:core/inc/cmsis_gcc.h ****   @{
 209:core/inc/cmsis_gcc.h **** */
 210:core/inc/cmsis_gcc.h **** 
 211:core/inc/cmsis_gcc.h **** /* Define macros for porting to both thumb1 and thumb2.
 212:core/inc/cmsis_gcc.h ****  * For thumb1, use low register (r0-r7), specified by constraint "l"
 213:core/inc/cmsis_gcc.h ****  * Otherwise, use general registers, specified by constraint "r" */
 214:core/inc/cmsis_gcc.h **** #if defined (__thumb__) && !defined (__thumb2__)
 215:core/inc/cmsis_gcc.h **** #define __CMSIS_GCC_OUT_REG(r) "=l" (r)
 216:core/inc/cmsis_gcc.h **** #define __CMSIS_GCC_RW_REG(r) "+l" (r)
 217:core/inc/cmsis_gcc.h **** #define __CMSIS_GCC_USE_REG(r) "l" (r)
 218:core/inc/cmsis_gcc.h **** #else
 219:core/inc/cmsis_gcc.h **** #define __CMSIS_GCC_OUT_REG(r) "=r" (r)
 220:core/inc/cmsis_gcc.h **** #define __CMSIS_GCC_RW_REG(r) "+r" (r)
 221:core/inc/cmsis_gcc.h **** #define __CMSIS_GCC_USE_REG(r) "r" (r)
 222:core/inc/cmsis_gcc.h **** #endif
 223:core/inc/cmsis_gcc.h **** 
 224:core/inc/cmsis_gcc.h **** /**
 225:core/inc/cmsis_gcc.h ****   \brief   No Operation
 226:core/inc/cmsis_gcc.h ****   \details No Operation does nothing. This instruction can be used for code alignment purposes.
 227:core/inc/cmsis_gcc.h ****  */
 228:core/inc/cmsis_gcc.h **** #define __NOP()                             __ASM volatile ("nop")
 229:core/inc/cmsis_gcc.h **** 
 230:core/inc/cmsis_gcc.h **** /**
 231:core/inc/cmsis_gcc.h ****   \brief   Wait For Interrupt
 232:core/inc/cmsis_gcc.h ****   \details Wait For Interrupt is a hint instruction that suspends execution until one of a number o
 233:core/inc/cmsis_gcc.h ****  */
 234:core/inc/cmsis_gcc.h **** #define __WFI()                             __ASM volatile ("wfi":::"memory")
 235:core/inc/cmsis_gcc.h **** 
 236:core/inc/cmsis_gcc.h **** 
 237:core/inc/cmsis_gcc.h **** /**
 238:core/inc/cmsis_gcc.h ****   \brief   Wait For Event
 239:core/inc/cmsis_gcc.h ****   \details Wait For Event is a hint instruction that permits the processor to enter
 240:core/inc/cmsis_gcc.h ****            a low-power state until one of a number of events occurs.
 241:core/inc/cmsis_gcc.h ****  */
 242:core/inc/cmsis_gcc.h **** #define __WFE()                             __ASM volatile ("wfe":::"memory")
 243:core/inc/cmsis_gcc.h **** 
 244:core/inc/cmsis_gcc.h **** 
 245:core/inc/cmsis_gcc.h **** /**
 246:core/inc/cmsis_gcc.h ****   \brief   Send Event
 247:core/inc/cmsis_gcc.h ****   \details Send Event is a hint instruction. It causes an event to be signaled to the CPU.
 248:core/inc/cmsis_gcc.h ****  */
 249:core/inc/cmsis_gcc.h **** #define __SEV()                             __ASM volatile ("sev")
 250:core/inc/cmsis_gcc.h **** 
 251:core/inc/cmsis_gcc.h **** 
 252:core/inc/cmsis_gcc.h **** /**
 253:core/inc/cmsis_gcc.h ****   \brief   Instruction Synchronization Barrier
 254:core/inc/cmsis_gcc.h ****   \details Instruction Synchronization Barrier flushes the pipeline in the processor,
 255:core/inc/cmsis_gcc.h ****            so that all instructions following the ISB are fetched from cache or memory,
 256:core/inc/cmsis_gcc.h ****            after the instruction has been completed.
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 42


 257:core/inc/cmsis_gcc.h ****  */
 258:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __ISB(void)
 259:core/inc/cmsis_gcc.h **** {
 260:core/inc/cmsis_gcc.h ****   __ASM volatile ("isb 0xF":::"memory");
 261:core/inc/cmsis_gcc.h **** }
 262:core/inc/cmsis_gcc.h **** 
 263:core/inc/cmsis_gcc.h **** 
 264:core/inc/cmsis_gcc.h **** /**
 265:core/inc/cmsis_gcc.h ****   \brief   Data Synchronization Barrier
 266:core/inc/cmsis_gcc.h ****   \details Acts as a special kind of Data Memory Barrier.
 267:core/inc/cmsis_gcc.h ****            It completes when all explicit memory accesses before this instruction complete.
 268:core/inc/cmsis_gcc.h ****  */
 269:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __DSB(void)
 270:core/inc/cmsis_gcc.h **** {
 271:core/inc/cmsis_gcc.h ****   __ASM volatile ("dsb 0xF":::"memory");
 272:core/inc/cmsis_gcc.h **** }
 273:core/inc/cmsis_gcc.h **** 
 274:core/inc/cmsis_gcc.h **** 
 275:core/inc/cmsis_gcc.h **** /**
 276:core/inc/cmsis_gcc.h ****   \brief   Data Memory Barrier
 277:core/inc/cmsis_gcc.h ****   \details Ensures the apparent order of the explicit memory operations before
 278:core/inc/cmsis_gcc.h ****            and after the instruction, without ensuring their completion.
 279:core/inc/cmsis_gcc.h ****  */
 280:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __DMB(void)
 281:core/inc/cmsis_gcc.h **** {
 282:core/inc/cmsis_gcc.h ****   __ASM volatile ("dmb 0xF":::"memory");
 283:core/inc/cmsis_gcc.h **** }
 284:core/inc/cmsis_gcc.h **** 
 285:core/inc/cmsis_gcc.h **** 
 286:core/inc/cmsis_gcc.h **** /**
 287:core/inc/cmsis_gcc.h ****   \brief   Reverse byte order (32 bit)
 288:core/inc/cmsis_gcc.h ****   \details Reverses the byte order in unsigned integer value. For example, 0x12345678 becomes 0x785
 289:core/inc/cmsis_gcc.h ****   \param [in]    value  Value to reverse
 290:core/inc/cmsis_gcc.h ****   \return               Reversed value
 291:core/inc/cmsis_gcc.h ****  */
 292:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __REV(uint32_t value)
 293:core/inc/cmsis_gcc.h **** {
 294:core/inc/cmsis_gcc.h **** #if (__GNUC__ > 4) || (__GNUC__ == 4 && __GNUC_MINOR__ >= 5)
 295:core/inc/cmsis_gcc.h ****   return __builtin_bswap32(value);
 296:core/inc/cmsis_gcc.h **** #else
 297:core/inc/cmsis_gcc.h ****   uint32_t result;
 298:core/inc/cmsis_gcc.h **** 
 299:core/inc/cmsis_gcc.h ****   __ASM ("rev %0, %1" : __CMSIS_GCC_OUT_REG (result) : __CMSIS_GCC_USE_REG (value) );
 300:core/inc/cmsis_gcc.h ****   return result;
 301:core/inc/cmsis_gcc.h **** #endif
 302:core/inc/cmsis_gcc.h **** }
 303:core/inc/cmsis_gcc.h **** 
 304:core/inc/cmsis_gcc.h **** 
 305:core/inc/cmsis_gcc.h **** /**
 306:core/inc/cmsis_gcc.h ****   \brief   Reverse byte order (16 bit)
 307:core/inc/cmsis_gcc.h ****   \details Reverses the byte order within each halfword of a word. For example, 0x12345678 becomes 
 308:core/inc/cmsis_gcc.h ****   \param [in]    value  Value to reverse
 309:core/inc/cmsis_gcc.h ****   \return               Reversed value
 310:core/inc/cmsis_gcc.h ****  */
 311:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __REV16(uint32_t value)
 312:core/inc/cmsis_gcc.h **** {
 313:core/inc/cmsis_gcc.h ****   uint32_t result;
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 43


 314:core/inc/cmsis_gcc.h **** 
 315:core/inc/cmsis_gcc.h ****   __ASM ("rev16 %0, %1" : __CMSIS_GCC_OUT_REG (result) : __CMSIS_GCC_USE_REG (value) );
 316:core/inc/cmsis_gcc.h ****   return result;
 317:core/inc/cmsis_gcc.h **** }
 318:core/inc/cmsis_gcc.h **** 
 319:core/inc/cmsis_gcc.h **** 
 320:core/inc/cmsis_gcc.h **** /**
 321:core/inc/cmsis_gcc.h ****   \brief   Reverse byte order (16 bit)
 322:core/inc/cmsis_gcc.h ****   \details Reverses the byte order in a 16-bit value and returns the signed 16-bit result. For exam
 323:core/inc/cmsis_gcc.h ****   \param [in]    value  Value to reverse
 324:core/inc/cmsis_gcc.h ****   \return               Reversed value
 325:core/inc/cmsis_gcc.h ****  */
 326:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE int16_t __REVSH(int16_t value)
 327:core/inc/cmsis_gcc.h **** {
 328:core/inc/cmsis_gcc.h **** #if (__GNUC__ > 4) || (__GNUC__ == 4 && __GNUC_MINOR__ >= 8)
 329:core/inc/cmsis_gcc.h ****   return (int16_t)__builtin_bswap16(value);
 330:core/inc/cmsis_gcc.h **** #else
 331:core/inc/cmsis_gcc.h ****   int16_t result;
 332:core/inc/cmsis_gcc.h **** 
 333:core/inc/cmsis_gcc.h ****   __ASM ("revsh %0, %1" : __CMSIS_GCC_OUT_REG (result) : __CMSIS_GCC_USE_REG (value) );
 334:core/inc/cmsis_gcc.h ****   return result;
 335:core/inc/cmsis_gcc.h **** #endif
 336:core/inc/cmsis_gcc.h **** }
 337:core/inc/cmsis_gcc.h **** 
 338:core/inc/cmsis_gcc.h **** 
 339:core/inc/cmsis_gcc.h **** /**
 340:core/inc/cmsis_gcc.h ****   \brief   Rotate Right in unsigned value (32 bit)
 341:core/inc/cmsis_gcc.h ****   \details Rotate Right (immediate) provides the value of the contents of a register rotated by a v
 342:core/inc/cmsis_gcc.h ****   \param [in]    op1  Value to rotate
 343:core/inc/cmsis_gcc.h ****   \param [in]    op2  Number of Bits to rotate
 344:core/inc/cmsis_gcc.h ****   \return               Rotated value
 345:core/inc/cmsis_gcc.h ****  */
 346:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __ROR(uint32_t op1, uint32_t op2)
 347:core/inc/cmsis_gcc.h **** {
 348:core/inc/cmsis_gcc.h ****   op2 %= 32U;
 349:core/inc/cmsis_gcc.h ****   if (op2 == 0U)
 350:core/inc/cmsis_gcc.h ****   {
 351:core/inc/cmsis_gcc.h ****     return op1;
 352:core/inc/cmsis_gcc.h ****   }
 353:core/inc/cmsis_gcc.h ****   return (op1 >> op2) | (op1 << (32U - op2));
 354:core/inc/cmsis_gcc.h **** }
 355:core/inc/cmsis_gcc.h **** 
 356:core/inc/cmsis_gcc.h **** 
 357:core/inc/cmsis_gcc.h **** /**
 358:core/inc/cmsis_gcc.h ****   \brief   Breakpoint
 359:core/inc/cmsis_gcc.h ****   \details Causes the processor to enter Debug state.
 360:core/inc/cmsis_gcc.h ****            Debug tools can use this to investigate system state when the instruction at a particula
 361:core/inc/cmsis_gcc.h ****   \param [in]    value  is ignored by the processor.
 362:core/inc/cmsis_gcc.h ****                  If required, a debugger can use it to store additional information about the break
 363:core/inc/cmsis_gcc.h ****  */
 364:core/inc/cmsis_gcc.h **** #define __BKPT(value)                       __ASM volatile ("bkpt "#value)
 365:core/inc/cmsis_gcc.h **** 
 366:core/inc/cmsis_gcc.h **** 
 367:core/inc/cmsis_gcc.h **** /**
 368:core/inc/cmsis_gcc.h ****   \brief   Reverse bit order of value
 369:core/inc/cmsis_gcc.h ****   \details Reverses the bit order of the given value.
 370:core/inc/cmsis_gcc.h ****   \param [in]    value  Value to reverse
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 44


 371:core/inc/cmsis_gcc.h ****   \return               Reversed value
 372:core/inc/cmsis_gcc.h ****  */
 373:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __RBIT(uint32_t value)
 374:core/inc/cmsis_gcc.h **** {
 375:core/inc/cmsis_gcc.h ****   uint32_t result;
 376:core/inc/cmsis_gcc.h **** 
 377:core/inc/cmsis_gcc.h **** #if ((defined (__ARM_ARCH_7M__      ) && (__ARM_ARCH_7M__      == 1)) || \
 378:core/inc/cmsis_gcc.h ****      (defined (__ARM_ARCH_7EM__     ) && (__ARM_ARCH_7EM__     == 1)) || \
 379:core/inc/cmsis_gcc.h ****      (defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1))    )
 380:core/inc/cmsis_gcc.h ****    __ASM ("rbit %0, %1" : "=r" (result) : "r" (value) );
 381:core/inc/cmsis_gcc.h **** #else
 382:core/inc/cmsis_gcc.h ****   uint32_t s = (4U /*sizeof(v)*/ * 8U) - 1U; /* extra shift needed at end */
 383:core/inc/cmsis_gcc.h **** 
 384:core/inc/cmsis_gcc.h ****   result = value;                      /* r will be reversed bits of v; first get LSB of v */
 385:core/inc/cmsis_gcc.h ****   for (value >>= 1U; value != 0U; value >>= 1U)
 386:core/inc/cmsis_gcc.h ****   {
 387:core/inc/cmsis_gcc.h ****     result <<= 1U;
 388:core/inc/cmsis_gcc.h ****     result |= value & 1U;
 389:core/inc/cmsis_gcc.h ****     s--;
 390:core/inc/cmsis_gcc.h ****   }
 391:core/inc/cmsis_gcc.h ****   result <<= s;                        /* shift when v's highest bits are zero */
 392:core/inc/cmsis_gcc.h **** #endif
 393:core/inc/cmsis_gcc.h ****   return result;
 394:core/inc/cmsis_gcc.h **** }
 395:core/inc/cmsis_gcc.h **** 
 396:core/inc/cmsis_gcc.h **** 
 397:core/inc/cmsis_gcc.h **** /**
 398:core/inc/cmsis_gcc.h ****   \brief   Count leading zeros
 399:core/inc/cmsis_gcc.h ****   \details Counts the number of leading zeros of a data value.
 400:core/inc/cmsis_gcc.h ****   \param [in]  value  Value to count the leading zeros
 401:core/inc/cmsis_gcc.h ****   \return             number of leading zeros in value
 402:core/inc/cmsis_gcc.h ****  */
 403:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint8_t __CLZ(uint32_t value)
 404:core/inc/cmsis_gcc.h **** {
 405:core/inc/cmsis_gcc.h ****   /* Even though __builtin_clz produces a CLZ instruction on ARM, formally
 406:core/inc/cmsis_gcc.h ****      __builtin_clz(0) is undefined behaviour, so handle this case specially.
 407:core/inc/cmsis_gcc.h ****      This guarantees ARM-compatible results if happening to compile on a non-ARM
 408:core/inc/cmsis_gcc.h ****      target, and ensures the compiler doesn't decide to activate any
 409:core/inc/cmsis_gcc.h ****      optimisations using the logic "value was passed to __builtin_clz, so it
 410:core/inc/cmsis_gcc.h ****      is non-zero".
 411:core/inc/cmsis_gcc.h ****      ARM GCC 7.3 and possibly earlier will optimise this test away, leaving a
 412:core/inc/cmsis_gcc.h ****      single CLZ instruction.
 413:core/inc/cmsis_gcc.h ****    */
 414:core/inc/cmsis_gcc.h ****   if (value == 0U)
 415:core/inc/cmsis_gcc.h ****   {
 416:core/inc/cmsis_gcc.h ****     return 32U;
 417:core/inc/cmsis_gcc.h ****   }
 418:core/inc/cmsis_gcc.h ****   return __builtin_clz(value);
 419:core/inc/cmsis_gcc.h **** }
 420:core/inc/cmsis_gcc.h **** 
 421:core/inc/cmsis_gcc.h **** 
 422:core/inc/cmsis_gcc.h **** #if ((defined (__ARM_ARCH_7M__      ) && (__ARM_ARCH_7M__      == 1)) || \
 423:core/inc/cmsis_gcc.h ****      (defined (__ARM_ARCH_7EM__     ) && (__ARM_ARCH_7EM__     == 1)) || \
 424:core/inc/cmsis_gcc.h ****      (defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)) || \
 425:core/inc/cmsis_gcc.h ****      (defined (__ARM_ARCH_8M_BASE__ ) && (__ARM_ARCH_8M_BASE__ == 1))    )
 426:core/inc/cmsis_gcc.h **** /**
 427:core/inc/cmsis_gcc.h ****   \brief   LDR Exclusive (8 bit)
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 45


 428:core/inc/cmsis_gcc.h ****   \details Executes a exclusive LDR instruction for 8 bit value.
 429:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 430:core/inc/cmsis_gcc.h ****   \return             value of type uint8_t at (*ptr)
 431:core/inc/cmsis_gcc.h ****  */
 432:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint8_t __LDREXB(volatile uint8_t *addr)
 433:core/inc/cmsis_gcc.h **** {
 434:core/inc/cmsis_gcc.h ****     uint32_t result;
 435:core/inc/cmsis_gcc.h **** 
 436:core/inc/cmsis_gcc.h **** #if (__GNUC__ > 4) || (__GNUC__ == 4 && __GNUC_MINOR__ >= 8)
 437:core/inc/cmsis_gcc.h ****    __ASM volatile ("ldrexb %0, %1" : "=r" (result) : "Q" (*addr) );
 438:core/inc/cmsis_gcc.h **** #else
 439:core/inc/cmsis_gcc.h ****     /* Prior to GCC 4.8, "Q" will be expanded to [rx, #0] which is not
 440:core/inc/cmsis_gcc.h ****        accepted by assembler. So has to use following less efficient pattern.
 441:core/inc/cmsis_gcc.h ****     */
 442:core/inc/cmsis_gcc.h ****    __ASM volatile ("ldrexb %0, [%1]" : "=r" (result) : "r" (addr) : "memory" );
 443:core/inc/cmsis_gcc.h **** #endif
 444:core/inc/cmsis_gcc.h ****    return ((uint8_t) result);    /* Add explicit type cast here */
 445:core/inc/cmsis_gcc.h **** }
 446:core/inc/cmsis_gcc.h **** 
 447:core/inc/cmsis_gcc.h **** 
 448:core/inc/cmsis_gcc.h **** /**
 449:core/inc/cmsis_gcc.h ****   \brief   LDR Exclusive (16 bit)
 450:core/inc/cmsis_gcc.h ****   \details Executes a exclusive LDR instruction for 16 bit values.
 451:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 452:core/inc/cmsis_gcc.h ****   \return        value of type uint16_t at (*ptr)
 453:core/inc/cmsis_gcc.h ****  */
 454:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint16_t __LDREXH(volatile uint16_t *addr)
 455:core/inc/cmsis_gcc.h **** {
 456:core/inc/cmsis_gcc.h ****     uint32_t result;
 457:core/inc/cmsis_gcc.h **** 
 458:core/inc/cmsis_gcc.h **** #if (__GNUC__ > 4) || (__GNUC__ == 4 && __GNUC_MINOR__ >= 8)
 459:core/inc/cmsis_gcc.h ****    __ASM volatile ("ldrexh %0, %1" : "=r" (result) : "Q" (*addr) );
 460:core/inc/cmsis_gcc.h **** #else
 461:core/inc/cmsis_gcc.h ****     /* Prior to GCC 4.8, "Q" will be expanded to [rx, #0] which is not
 462:core/inc/cmsis_gcc.h ****        accepted by assembler. So has to use following less efficient pattern.
 463:core/inc/cmsis_gcc.h ****     */
 464:core/inc/cmsis_gcc.h ****    __ASM volatile ("ldrexh %0, [%1]" : "=r" (result) : "r" (addr) : "memory" );
 465:core/inc/cmsis_gcc.h **** #endif
 466:core/inc/cmsis_gcc.h ****    return ((uint16_t) result);    /* Add explicit type cast here */
 467:core/inc/cmsis_gcc.h **** }
 468:core/inc/cmsis_gcc.h **** 
 469:core/inc/cmsis_gcc.h **** 
 470:core/inc/cmsis_gcc.h **** /**
 471:core/inc/cmsis_gcc.h ****   \brief   LDR Exclusive (32 bit)
 472:core/inc/cmsis_gcc.h ****   \details Executes a exclusive LDR instruction for 32 bit values.
 473:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 474:core/inc/cmsis_gcc.h ****   \return        value of type uint32_t at (*ptr)
 475:core/inc/cmsis_gcc.h ****  */
 476:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __LDREXW(volatile uint32_t *addr)
 477:core/inc/cmsis_gcc.h **** {
 478:core/inc/cmsis_gcc.h ****     uint32_t result;
 479:core/inc/cmsis_gcc.h **** 
 480:core/inc/cmsis_gcc.h ****    __ASM volatile ("ldrex %0, %1" : "=r" (result) : "Q" (*addr) );
 481:core/inc/cmsis_gcc.h ****    return(result);
 482:core/inc/cmsis_gcc.h **** }
 483:core/inc/cmsis_gcc.h **** 
 484:core/inc/cmsis_gcc.h **** 
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 46


 485:core/inc/cmsis_gcc.h **** /**
 486:core/inc/cmsis_gcc.h ****   \brief   STR Exclusive (8 bit)
 487:core/inc/cmsis_gcc.h ****   \details Executes a exclusive STR instruction for 8 bit values.
 488:core/inc/cmsis_gcc.h ****   \param [in]  value  Value to store
 489:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 490:core/inc/cmsis_gcc.h ****   \return          0  Function succeeded
 491:core/inc/cmsis_gcc.h ****   \return          1  Function failed
 492:core/inc/cmsis_gcc.h ****  */
 493:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __STREXB(uint8_t value, volatile uint8_t *addr)
 494:core/inc/cmsis_gcc.h **** {
 495:core/inc/cmsis_gcc.h ****    uint32_t result;
 496:core/inc/cmsis_gcc.h **** 
 497:core/inc/cmsis_gcc.h ****    __ASM volatile ("strexb %0, %2, %1" : "=&r" (result), "=Q" (*addr) : "r" ((uint32_t)value) );
 498:core/inc/cmsis_gcc.h ****    return(result);
 499:core/inc/cmsis_gcc.h **** }
 500:core/inc/cmsis_gcc.h **** 
 501:core/inc/cmsis_gcc.h **** 
 502:core/inc/cmsis_gcc.h **** /**
 503:core/inc/cmsis_gcc.h ****   \brief   STR Exclusive (16 bit)
 504:core/inc/cmsis_gcc.h ****   \details Executes a exclusive STR instruction for 16 bit values.
 505:core/inc/cmsis_gcc.h ****   \param [in]  value  Value to store
 506:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 507:core/inc/cmsis_gcc.h ****   \return          0  Function succeeded
 508:core/inc/cmsis_gcc.h ****   \return          1  Function failed
 509:core/inc/cmsis_gcc.h ****  */
 510:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __STREXH(uint16_t value, volatile uint16_t *addr)
 511:core/inc/cmsis_gcc.h **** {
 512:core/inc/cmsis_gcc.h ****    uint32_t result;
 513:core/inc/cmsis_gcc.h **** 
 514:core/inc/cmsis_gcc.h ****    __ASM volatile ("strexh %0, %2, %1" : "=&r" (result), "=Q" (*addr) : "r" ((uint32_t)value) );
 515:core/inc/cmsis_gcc.h ****    return(result);
 516:core/inc/cmsis_gcc.h **** }
 517:core/inc/cmsis_gcc.h **** 
 518:core/inc/cmsis_gcc.h **** 
 519:core/inc/cmsis_gcc.h **** /**
 520:core/inc/cmsis_gcc.h ****   \brief   STR Exclusive (32 bit)
 521:core/inc/cmsis_gcc.h ****   \details Executes a exclusive STR instruction for 32 bit values.
 522:core/inc/cmsis_gcc.h ****   \param [in]  value  Value to store
 523:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 524:core/inc/cmsis_gcc.h ****   \return          0  Function succeeded
 525:core/inc/cmsis_gcc.h ****   \return          1  Function failed
 526:core/inc/cmsis_gcc.h ****  */
 527:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __STREXW(uint32_t value, volatile uint32_t *addr)
 528:core/inc/cmsis_gcc.h **** {
 529:core/inc/cmsis_gcc.h ****    uint32_t result;
 530:core/inc/cmsis_gcc.h **** 
 531:core/inc/cmsis_gcc.h ****    __ASM volatile ("strex %0, %2, %1" : "=&r" (result), "=Q" (*addr) : "r" (value) );
 532:core/inc/cmsis_gcc.h ****    return(result);
 533:core/inc/cmsis_gcc.h **** }
 534:core/inc/cmsis_gcc.h **** 
 535:core/inc/cmsis_gcc.h **** 
 536:core/inc/cmsis_gcc.h **** /**
 537:core/inc/cmsis_gcc.h ****   \brief   Remove the exclusive lock
 538:core/inc/cmsis_gcc.h ****   \details Removes the exclusive lock which is created by LDREX.
 539:core/inc/cmsis_gcc.h ****  */
 540:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __CLREX(void)
 541:core/inc/cmsis_gcc.h **** {
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 47


 542:core/inc/cmsis_gcc.h ****   __ASM volatile ("clrex" ::: "memory");
 543:core/inc/cmsis_gcc.h **** }
 544:core/inc/cmsis_gcc.h **** 
 545:core/inc/cmsis_gcc.h **** #endif /* ((defined (__ARM_ARCH_7M__      ) && (__ARM_ARCH_7M__      == 1)) || \
 546:core/inc/cmsis_gcc.h ****            (defined (__ARM_ARCH_7EM__     ) && (__ARM_ARCH_7EM__     == 1)) || \
 547:core/inc/cmsis_gcc.h ****            (defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)) || \
 548:core/inc/cmsis_gcc.h ****            (defined (__ARM_ARCH_8M_BASE__ ) && (__ARM_ARCH_8M_BASE__ == 1))    ) */
 549:core/inc/cmsis_gcc.h **** 
 550:core/inc/cmsis_gcc.h **** 
 551:core/inc/cmsis_gcc.h **** #if ((defined (__ARM_ARCH_7M__      ) && (__ARM_ARCH_7M__      == 1)) || \
 552:core/inc/cmsis_gcc.h ****      (defined (__ARM_ARCH_7EM__     ) && (__ARM_ARCH_7EM__     == 1)) || \
 553:core/inc/cmsis_gcc.h ****      (defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1))    )
 554:core/inc/cmsis_gcc.h **** /**
 555:core/inc/cmsis_gcc.h ****   \brief   Signed Saturate
 556:core/inc/cmsis_gcc.h ****   \details Saturates a signed value.
 557:core/inc/cmsis_gcc.h ****   \param [in]  ARG1  Value to be saturated
 558:core/inc/cmsis_gcc.h ****   \param [in]  ARG2  Bit position to saturate to (1..32)
 559:core/inc/cmsis_gcc.h ****   \return             Saturated value
 560:core/inc/cmsis_gcc.h ****  */
 561:core/inc/cmsis_gcc.h **** #define __SSAT(ARG1, ARG2) \
 562:core/inc/cmsis_gcc.h **** __extension__ \
 563:core/inc/cmsis_gcc.h **** ({                          \
 564:core/inc/cmsis_gcc.h ****   int32_t __RES, __ARG1 = (ARG1); \
 565:core/inc/cmsis_gcc.h ****   __ASM volatile ("ssat %0, %1, %2" : "=r" (__RES) :  "I" (ARG2), "r" (__ARG1) : "cc" ); \
 566:core/inc/cmsis_gcc.h ****   __RES; \
 567:core/inc/cmsis_gcc.h ****  })
 568:core/inc/cmsis_gcc.h **** 
 569:core/inc/cmsis_gcc.h **** 
 570:core/inc/cmsis_gcc.h **** /**
 571:core/inc/cmsis_gcc.h ****   \brief   Unsigned Saturate
 572:core/inc/cmsis_gcc.h ****   \details Saturates an unsigned value.
 573:core/inc/cmsis_gcc.h ****   \param [in]  ARG1  Value to be saturated
 574:core/inc/cmsis_gcc.h ****   \param [in]  ARG2  Bit position to saturate to (0..31)
 575:core/inc/cmsis_gcc.h ****   \return             Saturated value
 576:core/inc/cmsis_gcc.h ****  */
 577:core/inc/cmsis_gcc.h **** #define __USAT(ARG1, ARG2) \
 578:core/inc/cmsis_gcc.h **** __extension__ \
 579:core/inc/cmsis_gcc.h **** ({                          \
 580:core/inc/cmsis_gcc.h ****   uint32_t __RES, __ARG1 = (ARG1); \
 581:core/inc/cmsis_gcc.h ****   __ASM volatile ("usat %0, %1, %2" : "=r" (__RES) :  "I" (ARG2), "r" (__ARG1) : "cc" ); \
 582:core/inc/cmsis_gcc.h ****   __RES; \
 583:core/inc/cmsis_gcc.h ****  })
 584:core/inc/cmsis_gcc.h **** 
 585:core/inc/cmsis_gcc.h **** 
 586:core/inc/cmsis_gcc.h **** /**
 587:core/inc/cmsis_gcc.h ****   \brief   Rotate Right with Extend (32 bit)
 588:core/inc/cmsis_gcc.h ****   \details Moves each bit of a bitstring right by one bit.
 589:core/inc/cmsis_gcc.h ****            The carry input is shifted in at the left end of the bitstring.
 590:core/inc/cmsis_gcc.h ****   \param [in]    value  Value to rotate
 591:core/inc/cmsis_gcc.h ****   \return               Rotated value
 592:core/inc/cmsis_gcc.h ****  */
 593:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __RRX(uint32_t value)
 594:core/inc/cmsis_gcc.h **** {
 595:core/inc/cmsis_gcc.h ****   uint32_t result;
 596:core/inc/cmsis_gcc.h **** 
 597:core/inc/cmsis_gcc.h ****   __ASM volatile ("rrx %0, %1" : __CMSIS_GCC_OUT_REG (result) : __CMSIS_GCC_USE_REG (value) );
 598:core/inc/cmsis_gcc.h ****   return(result);
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 48


 599:core/inc/cmsis_gcc.h **** }
 600:core/inc/cmsis_gcc.h **** 
 601:core/inc/cmsis_gcc.h **** 
 602:core/inc/cmsis_gcc.h **** /**
 603:core/inc/cmsis_gcc.h ****   \brief   LDRT Unprivileged (8 bit)
 604:core/inc/cmsis_gcc.h ****   \details Executes a Unprivileged LDRT instruction for 8 bit value.
 605:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 606:core/inc/cmsis_gcc.h ****   \return             value of type uint8_t at (*ptr)
 607:core/inc/cmsis_gcc.h ****  */
 608:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint8_t __LDRBT(volatile uint8_t *ptr)
 609:core/inc/cmsis_gcc.h **** {
 610:core/inc/cmsis_gcc.h ****     uint32_t result;
 611:core/inc/cmsis_gcc.h **** 
 612:core/inc/cmsis_gcc.h **** #if (__GNUC__ > 4) || (__GNUC__ == 4 && __GNUC_MINOR__ >= 8)
 613:core/inc/cmsis_gcc.h ****    __ASM volatile ("ldrbt %0, %1" : "=r" (result) : "Q" (*ptr) );
 614:core/inc/cmsis_gcc.h **** #else
 615:core/inc/cmsis_gcc.h ****     /* Prior to GCC 4.8, "Q" will be expanded to [rx, #0] which is not
 616:core/inc/cmsis_gcc.h ****        accepted by assembler. So has to use following less efficient pattern.
 617:core/inc/cmsis_gcc.h ****     */
 618:core/inc/cmsis_gcc.h ****    __ASM volatile ("ldrbt %0, [%1]" : "=r" (result) : "r" (ptr) : "memory" );
 619:core/inc/cmsis_gcc.h **** #endif
 620:core/inc/cmsis_gcc.h ****    return ((uint8_t) result);    /* Add explicit type cast here */
 621:core/inc/cmsis_gcc.h **** }
 622:core/inc/cmsis_gcc.h **** 
 623:core/inc/cmsis_gcc.h **** 
 624:core/inc/cmsis_gcc.h **** /**
 625:core/inc/cmsis_gcc.h ****   \brief   LDRT Unprivileged (16 bit)
 626:core/inc/cmsis_gcc.h ****   \details Executes a Unprivileged LDRT instruction for 16 bit values.
 627:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 628:core/inc/cmsis_gcc.h ****   \return        value of type uint16_t at (*ptr)
 629:core/inc/cmsis_gcc.h ****  */
 630:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint16_t __LDRHT(volatile uint16_t *ptr)
 631:core/inc/cmsis_gcc.h **** {
 632:core/inc/cmsis_gcc.h ****     uint32_t result;
 633:core/inc/cmsis_gcc.h **** 
 634:core/inc/cmsis_gcc.h **** #if (__GNUC__ > 4) || (__GNUC__ == 4 && __GNUC_MINOR__ >= 8)
 635:core/inc/cmsis_gcc.h ****    __ASM volatile ("ldrht %0, %1" : "=r" (result) : "Q" (*ptr) );
 636:core/inc/cmsis_gcc.h **** #else
 637:core/inc/cmsis_gcc.h ****     /* Prior to GCC 4.8, "Q" will be expanded to [rx, #0] which is not
 638:core/inc/cmsis_gcc.h ****        accepted by assembler. So has to use following less efficient pattern.
 639:core/inc/cmsis_gcc.h ****     */
 640:core/inc/cmsis_gcc.h ****    __ASM volatile ("ldrht %0, [%1]" : "=r" (result) : "r" (ptr) : "memory" );
 641:core/inc/cmsis_gcc.h **** #endif
 642:core/inc/cmsis_gcc.h ****    return ((uint16_t) result);    /* Add explicit type cast here */
 643:core/inc/cmsis_gcc.h **** }
 644:core/inc/cmsis_gcc.h **** 
 645:core/inc/cmsis_gcc.h **** 
 646:core/inc/cmsis_gcc.h **** /**
 647:core/inc/cmsis_gcc.h ****   \brief   LDRT Unprivileged (32 bit)
 648:core/inc/cmsis_gcc.h ****   \details Executes a Unprivileged LDRT instruction for 32 bit values.
 649:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 650:core/inc/cmsis_gcc.h ****   \return        value of type uint32_t at (*ptr)
 651:core/inc/cmsis_gcc.h ****  */
 652:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __LDRT(volatile uint32_t *ptr)
 653:core/inc/cmsis_gcc.h **** {
 654:core/inc/cmsis_gcc.h ****     uint32_t result;
 655:core/inc/cmsis_gcc.h **** 
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 49


 656:core/inc/cmsis_gcc.h ****    __ASM volatile ("ldrt %0, %1" : "=r" (result) : "Q" (*ptr) );
 657:core/inc/cmsis_gcc.h ****    return(result);
 658:core/inc/cmsis_gcc.h **** }
 659:core/inc/cmsis_gcc.h **** 
 660:core/inc/cmsis_gcc.h **** 
 661:core/inc/cmsis_gcc.h **** /**
 662:core/inc/cmsis_gcc.h ****   \brief   STRT Unprivileged (8 bit)
 663:core/inc/cmsis_gcc.h ****   \details Executes a Unprivileged STRT instruction for 8 bit values.
 664:core/inc/cmsis_gcc.h ****   \param [in]  value  Value to store
 665:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 666:core/inc/cmsis_gcc.h ****  */
 667:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __STRBT(uint8_t value, volatile uint8_t *ptr)
 668:core/inc/cmsis_gcc.h **** {
 669:core/inc/cmsis_gcc.h ****    __ASM volatile ("strbt %1, %0" : "=Q" (*ptr) : "r" ((uint32_t)value) );
 670:core/inc/cmsis_gcc.h **** }
 671:core/inc/cmsis_gcc.h **** 
 672:core/inc/cmsis_gcc.h **** 
 673:core/inc/cmsis_gcc.h **** /**
 674:core/inc/cmsis_gcc.h ****   \brief   STRT Unprivileged (16 bit)
 675:core/inc/cmsis_gcc.h ****   \details Executes a Unprivileged STRT instruction for 16 bit values.
 676:core/inc/cmsis_gcc.h ****   \param [in]  value  Value to store
 677:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 678:core/inc/cmsis_gcc.h ****  */
 679:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __STRHT(uint16_t value, volatile uint16_t *ptr)
 680:core/inc/cmsis_gcc.h **** {
 681:core/inc/cmsis_gcc.h ****    __ASM volatile ("strht %1, %0" : "=Q" (*ptr) : "r" ((uint32_t)value) );
 682:core/inc/cmsis_gcc.h **** }
 683:core/inc/cmsis_gcc.h **** 
 684:core/inc/cmsis_gcc.h **** 
 685:core/inc/cmsis_gcc.h **** /**
 686:core/inc/cmsis_gcc.h ****   \brief   STRT Unprivileged (32 bit)
 687:core/inc/cmsis_gcc.h ****   \details Executes a Unprivileged STRT instruction for 32 bit values.
 688:core/inc/cmsis_gcc.h ****   \param [in]  value  Value to store
 689:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 690:core/inc/cmsis_gcc.h ****  */
 691:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __STRT(uint32_t value, volatile uint32_t *ptr)
 692:core/inc/cmsis_gcc.h **** {
 693:core/inc/cmsis_gcc.h ****    __ASM volatile ("strt %1, %0" : "=Q" (*ptr) : "r" (value) );
 694:core/inc/cmsis_gcc.h **** }
 695:core/inc/cmsis_gcc.h **** 
 696:core/inc/cmsis_gcc.h **** #else  /* ((defined (__ARM_ARCH_7M__      ) && (__ARM_ARCH_7M__      == 1)) || \
 697:core/inc/cmsis_gcc.h ****            (defined (__ARM_ARCH_7EM__     ) && (__ARM_ARCH_7EM__     == 1)) || \
 698:core/inc/cmsis_gcc.h ****            (defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1))    ) */
 699:core/inc/cmsis_gcc.h **** 
 700:core/inc/cmsis_gcc.h **** /**
 701:core/inc/cmsis_gcc.h ****   \brief   Signed Saturate
 702:core/inc/cmsis_gcc.h ****   \details Saturates a signed value.
 703:core/inc/cmsis_gcc.h ****   \param [in]  value  Value to be saturated
 704:core/inc/cmsis_gcc.h ****   \param [in]    sat  Bit position to saturate to (1..32)
 705:core/inc/cmsis_gcc.h ****   \return             Saturated value
 706:core/inc/cmsis_gcc.h ****  */
 707:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE int32_t __SSAT(int32_t val, uint32_t sat)
 708:core/inc/cmsis_gcc.h **** {
 709:core/inc/cmsis_gcc.h ****   if ((sat >= 1U) && (sat <= 32U))
 710:core/inc/cmsis_gcc.h ****   {
 711:core/inc/cmsis_gcc.h ****     const int32_t max = (int32_t)((1U << (sat - 1U)) - 1U);
 712:core/inc/cmsis_gcc.h ****     const int32_t min = -1 - max ;
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 50


 713:core/inc/cmsis_gcc.h ****     if (val > max)
 714:core/inc/cmsis_gcc.h ****     {
 715:core/inc/cmsis_gcc.h ****       return max;
 716:core/inc/cmsis_gcc.h ****     }
 717:core/inc/cmsis_gcc.h ****     else if (val < min)
 718:core/inc/cmsis_gcc.h ****     {
 719:core/inc/cmsis_gcc.h ****       return min;
 720:core/inc/cmsis_gcc.h ****     }
 721:core/inc/cmsis_gcc.h ****   }
 722:core/inc/cmsis_gcc.h ****   return val;
 723:core/inc/cmsis_gcc.h **** }
 724:core/inc/cmsis_gcc.h **** 
 725:core/inc/cmsis_gcc.h **** /**
 726:core/inc/cmsis_gcc.h ****   \brief   Unsigned Saturate
 727:core/inc/cmsis_gcc.h ****   \details Saturates an unsigned value.
 728:core/inc/cmsis_gcc.h ****   \param [in]  value  Value to be saturated
 729:core/inc/cmsis_gcc.h ****   \param [in]    sat  Bit position to saturate to (0..31)
 730:core/inc/cmsis_gcc.h ****   \return             Saturated value
 731:core/inc/cmsis_gcc.h ****  */
 732:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __USAT(int32_t val, uint32_t sat)
 733:core/inc/cmsis_gcc.h **** {
 734:core/inc/cmsis_gcc.h ****   if (sat <= 31U)
 735:core/inc/cmsis_gcc.h ****   {
 736:core/inc/cmsis_gcc.h ****     const uint32_t max = ((1U << sat) - 1U);
 737:core/inc/cmsis_gcc.h ****     if (val > (int32_t)max)
 738:core/inc/cmsis_gcc.h ****     {
 739:core/inc/cmsis_gcc.h ****       return max;
 740:core/inc/cmsis_gcc.h ****     }
 741:core/inc/cmsis_gcc.h ****     else if (val < 0)
 742:core/inc/cmsis_gcc.h ****     {
 743:core/inc/cmsis_gcc.h ****       return 0U;
 744:core/inc/cmsis_gcc.h ****     }
 745:core/inc/cmsis_gcc.h ****   }
 746:core/inc/cmsis_gcc.h ****   return (uint32_t)val;
 747:core/inc/cmsis_gcc.h **** }
 748:core/inc/cmsis_gcc.h **** 
 749:core/inc/cmsis_gcc.h **** #endif /* ((defined (__ARM_ARCH_7M__      ) && (__ARM_ARCH_7M__      == 1)) || \
 750:core/inc/cmsis_gcc.h ****            (defined (__ARM_ARCH_7EM__     ) && (__ARM_ARCH_7EM__     == 1)) || \
 751:core/inc/cmsis_gcc.h ****            (defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1))    ) */
 752:core/inc/cmsis_gcc.h **** 
 753:core/inc/cmsis_gcc.h **** 
 754:core/inc/cmsis_gcc.h **** #if ((defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)) || \
 755:core/inc/cmsis_gcc.h ****      (defined (__ARM_ARCH_8M_BASE__ ) && (__ARM_ARCH_8M_BASE__ == 1))    )
 756:core/inc/cmsis_gcc.h **** /**
 757:core/inc/cmsis_gcc.h ****   \brief   Load-Acquire (8 bit)
 758:core/inc/cmsis_gcc.h ****   \details Executes a LDAB instruction for 8 bit value.
 759:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 760:core/inc/cmsis_gcc.h ****   \return             value of type uint8_t at (*ptr)
 761:core/inc/cmsis_gcc.h ****  */
 762:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint8_t __LDAB(volatile uint8_t *ptr)
 763:core/inc/cmsis_gcc.h **** {
 764:core/inc/cmsis_gcc.h ****     uint32_t result;
 765:core/inc/cmsis_gcc.h **** 
 766:core/inc/cmsis_gcc.h ****    __ASM volatile ("ldab %0, %1" : "=r" (result) : "Q" (*ptr) : "memory" );
 767:core/inc/cmsis_gcc.h ****    return ((uint8_t) result);
 768:core/inc/cmsis_gcc.h **** }
 769:core/inc/cmsis_gcc.h **** 
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 51


 770:core/inc/cmsis_gcc.h **** 
 771:core/inc/cmsis_gcc.h **** /**
 772:core/inc/cmsis_gcc.h ****   \brief   Load-Acquire (16 bit)
 773:core/inc/cmsis_gcc.h ****   \details Executes a LDAH instruction for 16 bit values.
 774:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 775:core/inc/cmsis_gcc.h ****   \return        value of type uint16_t at (*ptr)
 776:core/inc/cmsis_gcc.h ****  */
 777:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint16_t __LDAH(volatile uint16_t *ptr)
 778:core/inc/cmsis_gcc.h **** {
 779:core/inc/cmsis_gcc.h ****     uint32_t result;
 780:core/inc/cmsis_gcc.h **** 
 781:core/inc/cmsis_gcc.h ****    __ASM volatile ("ldah %0, %1" : "=r" (result) : "Q" (*ptr) : "memory" );
 782:core/inc/cmsis_gcc.h ****    return ((uint16_t) result);
 783:core/inc/cmsis_gcc.h **** }
 784:core/inc/cmsis_gcc.h **** 
 785:core/inc/cmsis_gcc.h **** 
 786:core/inc/cmsis_gcc.h **** /**
 787:core/inc/cmsis_gcc.h ****   \brief   Load-Acquire (32 bit)
 788:core/inc/cmsis_gcc.h ****   \details Executes a LDA instruction for 32 bit values.
 789:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 790:core/inc/cmsis_gcc.h ****   \return        value of type uint32_t at (*ptr)
 791:core/inc/cmsis_gcc.h ****  */
 792:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __LDA(volatile uint32_t *ptr)
 793:core/inc/cmsis_gcc.h **** {
 794:core/inc/cmsis_gcc.h ****     uint32_t result;
 795:core/inc/cmsis_gcc.h **** 
 796:core/inc/cmsis_gcc.h ****    __ASM volatile ("lda %0, %1" : "=r" (result) : "Q" (*ptr) : "memory" );
 797:core/inc/cmsis_gcc.h ****    return(result);
 798:core/inc/cmsis_gcc.h **** }
 799:core/inc/cmsis_gcc.h **** 
 800:core/inc/cmsis_gcc.h **** 
 801:core/inc/cmsis_gcc.h **** /**
 802:core/inc/cmsis_gcc.h ****   \brief   Store-Release (8 bit)
 803:core/inc/cmsis_gcc.h ****   \details Executes a STLB instruction for 8 bit values.
 804:core/inc/cmsis_gcc.h ****   \param [in]  value  Value to store
 805:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 806:core/inc/cmsis_gcc.h ****  */
 807:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __STLB(uint8_t value, volatile uint8_t *ptr)
 808:core/inc/cmsis_gcc.h **** {
 809:core/inc/cmsis_gcc.h ****    __ASM volatile ("stlb %1, %0" : "=Q" (*ptr) : "r" ((uint32_t)value) : "memory" );
 810:core/inc/cmsis_gcc.h **** }
 811:core/inc/cmsis_gcc.h **** 
 812:core/inc/cmsis_gcc.h **** 
 813:core/inc/cmsis_gcc.h **** /**
 814:core/inc/cmsis_gcc.h ****   \brief   Store-Release (16 bit)
 815:core/inc/cmsis_gcc.h ****   \details Executes a STLH instruction for 16 bit values.
 816:core/inc/cmsis_gcc.h ****   \param [in]  value  Value to store
 817:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 818:core/inc/cmsis_gcc.h ****  */
 819:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __STLH(uint16_t value, volatile uint16_t *ptr)
 820:core/inc/cmsis_gcc.h **** {
 821:core/inc/cmsis_gcc.h ****    __ASM volatile ("stlh %1, %0" : "=Q" (*ptr) : "r" ((uint32_t)value) : "memory" );
 822:core/inc/cmsis_gcc.h **** }
 823:core/inc/cmsis_gcc.h **** 
 824:core/inc/cmsis_gcc.h **** 
 825:core/inc/cmsis_gcc.h **** /**
 826:core/inc/cmsis_gcc.h ****   \brief   Store-Release (32 bit)
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 52


 827:core/inc/cmsis_gcc.h ****   \details Executes a STL instruction for 32 bit values.
 828:core/inc/cmsis_gcc.h ****   \param [in]  value  Value to store
 829:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 830:core/inc/cmsis_gcc.h ****  */
 831:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __STL(uint32_t value, volatile uint32_t *ptr)
 832:core/inc/cmsis_gcc.h **** {
 833:core/inc/cmsis_gcc.h ****    __ASM volatile ("stl %1, %0" : "=Q" (*ptr) : "r" ((uint32_t)value) : "memory" );
 834:core/inc/cmsis_gcc.h **** }
 835:core/inc/cmsis_gcc.h **** 
 836:core/inc/cmsis_gcc.h **** 
 837:core/inc/cmsis_gcc.h **** /**
 838:core/inc/cmsis_gcc.h ****   \brief   Load-Acquire Exclusive (8 bit)
 839:core/inc/cmsis_gcc.h ****   \details Executes a LDAB exclusive instruction for 8 bit value.
 840:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 841:core/inc/cmsis_gcc.h ****   \return             value of type uint8_t at (*ptr)
 842:core/inc/cmsis_gcc.h ****  */
 843:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint8_t __LDAEXB(volatile uint8_t *ptr)
 844:core/inc/cmsis_gcc.h **** {
 845:core/inc/cmsis_gcc.h ****     uint32_t result;
 846:core/inc/cmsis_gcc.h **** 
 847:core/inc/cmsis_gcc.h ****    __ASM volatile ("ldaexb %0, %1" : "=r" (result) : "Q" (*ptr) : "memory" );
 848:core/inc/cmsis_gcc.h ****    return ((uint8_t) result);
 849:core/inc/cmsis_gcc.h **** }
 850:core/inc/cmsis_gcc.h **** 
 851:core/inc/cmsis_gcc.h **** 
 852:core/inc/cmsis_gcc.h **** /**
 853:core/inc/cmsis_gcc.h ****   \brief   Load-Acquire Exclusive (16 bit)
 854:core/inc/cmsis_gcc.h ****   \details Executes a LDAH exclusive instruction for 16 bit values.
 855:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 856:core/inc/cmsis_gcc.h ****   \return        value of type uint16_t at (*ptr)
 857:core/inc/cmsis_gcc.h ****  */
 858:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint16_t __LDAEXH(volatile uint16_t *ptr)
 859:core/inc/cmsis_gcc.h **** {
 860:core/inc/cmsis_gcc.h ****     uint32_t result;
 861:core/inc/cmsis_gcc.h **** 
 862:core/inc/cmsis_gcc.h ****    __ASM volatile ("ldaexh %0, %1" : "=r" (result) : "Q" (*ptr) : "memory" );
 863:core/inc/cmsis_gcc.h ****    return ((uint16_t) result);
 864:core/inc/cmsis_gcc.h **** }
 865:core/inc/cmsis_gcc.h **** 
 866:core/inc/cmsis_gcc.h **** 
 867:core/inc/cmsis_gcc.h **** /**
 868:core/inc/cmsis_gcc.h ****   \brief   Load-Acquire Exclusive (32 bit)
 869:core/inc/cmsis_gcc.h ****   \details Executes a LDA exclusive instruction for 32 bit values.
 870:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to data
 871:core/inc/cmsis_gcc.h ****   \return        value of type uint32_t at (*ptr)
 872:core/inc/cmsis_gcc.h ****  */
 873:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __LDAEX(volatile uint32_t *ptr)
 874:core/inc/cmsis_gcc.h **** {
 875:core/inc/cmsis_gcc.h ****     uint32_t result;
 876:core/inc/cmsis_gcc.h **** 
 877:core/inc/cmsis_gcc.h ****    __ASM volatile ("ldaex %0, %1" : "=r" (result) : "Q" (*ptr) : "memory" );
 878:core/inc/cmsis_gcc.h ****    return(result);
 879:core/inc/cmsis_gcc.h **** }
 880:core/inc/cmsis_gcc.h **** 
 881:core/inc/cmsis_gcc.h **** 
 882:core/inc/cmsis_gcc.h **** /**
 883:core/inc/cmsis_gcc.h ****   \brief   Store-Release Exclusive (8 bit)
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 53


 884:core/inc/cmsis_gcc.h ****   \details Executes a STLB exclusive instruction for 8 bit values.
 885:core/inc/cmsis_gcc.h ****   \param [in]  value  Value to store
 886:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 887:core/inc/cmsis_gcc.h ****   \return          0  Function succeeded
 888:core/inc/cmsis_gcc.h ****   \return          1  Function failed
 889:core/inc/cmsis_gcc.h ****  */
 890:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __STLEXB(uint8_t value, volatile uint8_t *ptr)
 891:core/inc/cmsis_gcc.h **** {
 892:core/inc/cmsis_gcc.h ****    uint32_t result;
 893:core/inc/cmsis_gcc.h **** 
 894:core/inc/cmsis_gcc.h ****    __ASM volatile ("stlexb %0, %2, %1" : "=&r" (result), "=Q" (*ptr) : "r" ((uint32_t)value) : "mem
 895:core/inc/cmsis_gcc.h ****    return(result);
 896:core/inc/cmsis_gcc.h **** }
 897:core/inc/cmsis_gcc.h **** 
 898:core/inc/cmsis_gcc.h **** 
 899:core/inc/cmsis_gcc.h **** /**
 900:core/inc/cmsis_gcc.h ****   \brief   Store-Release Exclusive (16 bit)
 901:core/inc/cmsis_gcc.h ****   \details Executes a STLH exclusive instruction for 16 bit values.
 902:core/inc/cmsis_gcc.h ****   \param [in]  value  Value to store
 903:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 904:core/inc/cmsis_gcc.h ****   \return          0  Function succeeded
 905:core/inc/cmsis_gcc.h ****   \return          1  Function failed
 906:core/inc/cmsis_gcc.h ****  */
 907:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __STLEXH(uint16_t value, volatile uint16_t *ptr)
 908:core/inc/cmsis_gcc.h **** {
 909:core/inc/cmsis_gcc.h ****    uint32_t result;
 910:core/inc/cmsis_gcc.h **** 
 911:core/inc/cmsis_gcc.h ****    __ASM volatile ("stlexh %0, %2, %1" : "=&r" (result), "=Q" (*ptr) : "r" ((uint32_t)value) : "mem
 912:core/inc/cmsis_gcc.h ****    return(result);
 913:core/inc/cmsis_gcc.h **** }
 914:core/inc/cmsis_gcc.h **** 
 915:core/inc/cmsis_gcc.h **** 
 916:core/inc/cmsis_gcc.h **** /**
 917:core/inc/cmsis_gcc.h ****   \brief   Store-Release Exclusive (32 bit)
 918:core/inc/cmsis_gcc.h ****   \details Executes a STL exclusive instruction for 32 bit values.
 919:core/inc/cmsis_gcc.h ****   \param [in]  value  Value to store
 920:core/inc/cmsis_gcc.h ****   \param [in]    ptr  Pointer to location
 921:core/inc/cmsis_gcc.h ****   \return          0  Function succeeded
 922:core/inc/cmsis_gcc.h ****   \return          1  Function failed
 923:core/inc/cmsis_gcc.h ****  */
 924:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __STLEX(uint32_t value, volatile uint32_t *ptr)
 925:core/inc/cmsis_gcc.h **** {
 926:core/inc/cmsis_gcc.h ****    uint32_t result;
 927:core/inc/cmsis_gcc.h **** 
 928:core/inc/cmsis_gcc.h ****    __ASM volatile ("stlex %0, %2, %1" : "=&r" (result), "=Q" (*ptr) : "r" ((uint32_t)value) : "memo
 929:core/inc/cmsis_gcc.h ****    return(result);
 930:core/inc/cmsis_gcc.h **** }
 931:core/inc/cmsis_gcc.h **** 
 932:core/inc/cmsis_gcc.h **** #endif /* ((defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1)) || \
 933:core/inc/cmsis_gcc.h ****            (defined (__ARM_ARCH_8M_BASE__ ) && (__ARM_ARCH_8M_BASE__ == 1))    ) */
 934:core/inc/cmsis_gcc.h **** 
 935:core/inc/cmsis_gcc.h **** /*@}*/ /* end of group CMSIS_Core_InstructionInterface */
 936:core/inc/cmsis_gcc.h **** 
 937:core/inc/cmsis_gcc.h **** 
 938:core/inc/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 939:core/inc/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 940:core/inc/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 54


 941:core/inc/cmsis_gcc.h ****   @{
 942:core/inc/cmsis_gcc.h ****  */
 943:core/inc/cmsis_gcc.h **** 
 944:core/inc/cmsis_gcc.h **** /**
 945:core/inc/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 946:core/inc/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing special-purpose register PRIMASK.
 947:core/inc/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 948:core/inc/cmsis_gcc.h ****  */
 949:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 950:core/inc/cmsis_gcc.h **** {
 951:core/inc/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 952:core/inc/cmsis_gcc.h **** }
 953:core/inc/cmsis_gcc.h **** 
 954:core/inc/cmsis_gcc.h **** 
 955:core/inc/cmsis_gcc.h **** /**
 956:core/inc/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 957:core/inc/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting special-purpose register PRIMASK.
 958:core/inc/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 959:core/inc/cmsis_gcc.h ****  */
 960:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 961:core/inc/cmsis_gcc.h **** {
 962:core/inc/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 963:core/inc/cmsis_gcc.h **** }
 964:core/inc/cmsis_gcc.h **** 
 965:core/inc/cmsis_gcc.h **** 
 966:core/inc/cmsis_gcc.h **** /**
 967:core/inc/cmsis_gcc.h ****   \brief   Get Control Register
 968:core/inc/cmsis_gcc.h ****   \details Returns the content of the Control Register.
 969:core/inc/cmsis_gcc.h ****   \return               Control Register value
 970:core/inc/cmsis_gcc.h ****  */
 971:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_CONTROL(void)
 972:core/inc/cmsis_gcc.h **** {
 973:core/inc/cmsis_gcc.h ****   uint32_t result;
 974:core/inc/cmsis_gcc.h **** 
 975:core/inc/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control" : "=r" (result) );
 976:core/inc/cmsis_gcc.h ****   return(result);
 977:core/inc/cmsis_gcc.h **** }
 978:core/inc/cmsis_gcc.h **** 
 979:core/inc/cmsis_gcc.h **** 
 980:core/inc/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 981:core/inc/cmsis_gcc.h **** /**
 982:core/inc/cmsis_gcc.h ****   \brief   Get Control Register (non-secure)
 983:core/inc/cmsis_gcc.h ****   \details Returns the content of the non-secure Control Register when in secure mode.
 984:core/inc/cmsis_gcc.h ****   \return               non-secure Control Register value
 985:core/inc/cmsis_gcc.h ****  */
 986:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_CONTROL_NS(void)
 987:core/inc/cmsis_gcc.h **** {
 988:core/inc/cmsis_gcc.h ****   uint32_t result;
 989:core/inc/cmsis_gcc.h **** 
 990:core/inc/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control_ns" : "=r" (result) );
 991:core/inc/cmsis_gcc.h ****   return(result);
 992:core/inc/cmsis_gcc.h **** }
 993:core/inc/cmsis_gcc.h **** #endif
 994:core/inc/cmsis_gcc.h **** 
 995:core/inc/cmsis_gcc.h **** 
 996:core/inc/cmsis_gcc.h **** /**
 997:core/inc/cmsis_gcc.h ****   \brief   Set Control Register
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 55


 998:core/inc/cmsis_gcc.h ****   \details Writes the given value to the Control Register.
 999:core/inc/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
1000:core/inc/cmsis_gcc.h ****  */
1001:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_CONTROL(uint32_t control)
1002:core/inc/cmsis_gcc.h **** {
1003:core/inc/cmsis_gcc.h ****   __ASM volatile ("MSR control, %0" : : "r" (control) : "memory");
1004:core/inc/cmsis_gcc.h ****   __ISB();
1005:core/inc/cmsis_gcc.h **** }
1006:core/inc/cmsis_gcc.h **** 
1007:core/inc/cmsis_gcc.h **** 
1008:core/inc/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
1009:core/inc/cmsis_gcc.h **** /**
1010:core/inc/cmsis_gcc.h ****   \brief   Set Control Register (non-secure)
1011:core/inc/cmsis_gcc.h ****   \details Writes the given value to the non-secure Control Register when in secure state.
1012:core/inc/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
1013:core/inc/cmsis_gcc.h ****  */
1014:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_CONTROL_NS(uint32_t control)
1015:core/inc/cmsis_gcc.h **** {
1016:core/inc/cmsis_gcc.h ****   __ASM volatile ("MSR control_ns, %0" : : "r" (control) : "memory");
1017:core/inc/cmsis_gcc.h ****   __ISB();
1018:core/inc/cmsis_gcc.h **** }
1019:core/inc/cmsis_gcc.h **** #endif
1020:core/inc/cmsis_gcc.h **** 
1021:core/inc/cmsis_gcc.h **** 
1022:core/inc/cmsis_gcc.h **** /**
1023:core/inc/cmsis_gcc.h ****   \brief   Get IPSR Register
1024:core/inc/cmsis_gcc.h ****   \details Returns the content of the IPSR Register.
1025:core/inc/cmsis_gcc.h ****   \return               IPSR Register value
1026:core/inc/cmsis_gcc.h ****  */
1027:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_IPSR(void)
1028:core/inc/cmsis_gcc.h **** {
1029:core/inc/cmsis_gcc.h ****   uint32_t result;
1030:core/inc/cmsis_gcc.h **** 
1031:core/inc/cmsis_gcc.h ****   __ASM volatile ("MRS %0, ipsr" : "=r" (result) );
1032:core/inc/cmsis_gcc.h ****   return(result);
1033:core/inc/cmsis_gcc.h **** }
1034:core/inc/cmsis_gcc.h **** 
1035:core/inc/cmsis_gcc.h **** 
1036:core/inc/cmsis_gcc.h **** /**
1037:core/inc/cmsis_gcc.h ****   \brief   Get APSR Register
1038:core/inc/cmsis_gcc.h ****   \details Returns the content of the APSR Register.
1039:core/inc/cmsis_gcc.h ****   \return               APSR Register value
1040:core/inc/cmsis_gcc.h ****  */
1041:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_APSR(void)
1042:core/inc/cmsis_gcc.h **** {
1043:core/inc/cmsis_gcc.h ****   uint32_t result;
1044:core/inc/cmsis_gcc.h **** 
1045:core/inc/cmsis_gcc.h ****   __ASM volatile ("MRS %0, apsr" : "=r" (result) );
1046:core/inc/cmsis_gcc.h ****   return(result);
1047:core/inc/cmsis_gcc.h **** }
1048:core/inc/cmsis_gcc.h **** 
1049:core/inc/cmsis_gcc.h **** 
1050:core/inc/cmsis_gcc.h **** /**
1051:core/inc/cmsis_gcc.h ****   \brief   Get xPSR Register
1052:core/inc/cmsis_gcc.h ****   \details Returns the content of the xPSR Register.
1053:core/inc/cmsis_gcc.h ****   \return               xPSR Register value
1054:core/inc/cmsis_gcc.h ****  */
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 56


1055:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_xPSR(void)
1056:core/inc/cmsis_gcc.h **** {
1057:core/inc/cmsis_gcc.h ****   uint32_t result;
1058:core/inc/cmsis_gcc.h **** 
1059:core/inc/cmsis_gcc.h ****   __ASM volatile ("MRS %0, xpsr" : "=r" (result) );
1060:core/inc/cmsis_gcc.h ****   return(result);
1061:core/inc/cmsis_gcc.h **** }
1062:core/inc/cmsis_gcc.h **** 
1063:core/inc/cmsis_gcc.h **** 
1064:core/inc/cmsis_gcc.h **** /**
1065:core/inc/cmsis_gcc.h ****   \brief   Get Process Stack Pointer
1066:core/inc/cmsis_gcc.h ****   \details Returns the current value of the Process Stack Pointer (PSP).
1067:core/inc/cmsis_gcc.h ****   \return               PSP Register value
1068:core/inc/cmsis_gcc.h ****  */
1069:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_PSP(void)
1070:core/inc/cmsis_gcc.h **** {
1071:core/inc/cmsis_gcc.h ****   uint32_t result;
1072:core/inc/cmsis_gcc.h **** 
1073:core/inc/cmsis_gcc.h ****   __ASM volatile ("MRS %0, psp"  : "=r" (result) );
1074:core/inc/cmsis_gcc.h ****   return(result);
1075:core/inc/cmsis_gcc.h **** }
1076:core/inc/cmsis_gcc.h **** 
1077:core/inc/cmsis_gcc.h **** 
1078:core/inc/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
1079:core/inc/cmsis_gcc.h **** /**
1080:core/inc/cmsis_gcc.h ****   \brief   Get Process Stack Pointer (non-secure)
1081:core/inc/cmsis_gcc.h ****   \details Returns the current value of the non-secure Process Stack Pointer (PSP) when in secure s
1082:core/inc/cmsis_gcc.h ****   \return               PSP Register value
1083:core/inc/cmsis_gcc.h ****  */
1084:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_PSP_NS(void)
1085:core/inc/cmsis_gcc.h **** {
1086:core/inc/cmsis_gcc.h ****   uint32_t result;
1087:core/inc/cmsis_gcc.h **** 
1088:core/inc/cmsis_gcc.h ****   __ASM volatile ("MRS %0, psp_ns"  : "=r" (result) );
1089:core/inc/cmsis_gcc.h ****   return(result);
1090:core/inc/cmsis_gcc.h **** }
1091:core/inc/cmsis_gcc.h **** #endif
1092:core/inc/cmsis_gcc.h **** 
1093:core/inc/cmsis_gcc.h **** 
1094:core/inc/cmsis_gcc.h **** /**
1095:core/inc/cmsis_gcc.h ****   \brief   Set Process Stack Pointer
1096:core/inc/cmsis_gcc.h ****   \details Assigns the given value to the Process Stack Pointer (PSP).
1097:core/inc/cmsis_gcc.h ****   \param [in]    topOfProcStack  Process Stack Pointer value to set
1098:core/inc/cmsis_gcc.h ****  */
1099:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_PSP(uint32_t topOfProcStack)
1100:core/inc/cmsis_gcc.h **** {
1101:core/inc/cmsis_gcc.h ****   __ASM volatile ("MSR psp, %0" : : "r" (topOfProcStack) : );
1102:core/inc/cmsis_gcc.h **** }
1103:core/inc/cmsis_gcc.h **** 
1104:core/inc/cmsis_gcc.h **** 
1105:core/inc/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
1106:core/inc/cmsis_gcc.h **** /**
1107:core/inc/cmsis_gcc.h ****   \brief   Set Process Stack Pointer (non-secure)
1108:core/inc/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Process Stack Pointer (PSP) when in secure sta
1109:core/inc/cmsis_gcc.h ****   \param [in]    topOfProcStack  Process Stack Pointer value to set
1110:core/inc/cmsis_gcc.h ****  */
1111:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_PSP_NS(uint32_t topOfProcStack)
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 57


1112:core/inc/cmsis_gcc.h **** {
1113:core/inc/cmsis_gcc.h ****   __ASM volatile ("MSR psp_ns, %0" : : "r" (topOfProcStack) : );
1114:core/inc/cmsis_gcc.h **** }
1115:core/inc/cmsis_gcc.h **** #endif
1116:core/inc/cmsis_gcc.h **** 
1117:core/inc/cmsis_gcc.h **** 
1118:core/inc/cmsis_gcc.h **** /**
1119:core/inc/cmsis_gcc.h ****   \brief   Get Main Stack Pointer
1120:core/inc/cmsis_gcc.h ****   \details Returns the current value of the Main Stack Pointer (MSP).
1121:core/inc/cmsis_gcc.h ****   \return               MSP Register value
1122:core/inc/cmsis_gcc.h ****  */
1123:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_MSP(void)
1124:core/inc/cmsis_gcc.h **** {
1125:core/inc/cmsis_gcc.h ****   uint32_t result;
1126:core/inc/cmsis_gcc.h **** 
1127:core/inc/cmsis_gcc.h ****   __ASM volatile ("MRS %0, msp" : "=r" (result) );
1128:core/inc/cmsis_gcc.h ****   return(result);
1129:core/inc/cmsis_gcc.h **** }
1130:core/inc/cmsis_gcc.h **** 
1131:core/inc/cmsis_gcc.h **** 
1132:core/inc/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
1133:core/inc/cmsis_gcc.h **** /**
1134:core/inc/cmsis_gcc.h ****   \brief   Get Main Stack Pointer (non-secure)
1135:core/inc/cmsis_gcc.h ****   \details Returns the current value of the non-secure Main Stack Pointer (MSP) when in secure stat
1136:core/inc/cmsis_gcc.h ****   \return               MSP Register value
1137:core/inc/cmsis_gcc.h ****  */
1138:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_MSP_NS(void)
1139:core/inc/cmsis_gcc.h **** {
1140:core/inc/cmsis_gcc.h ****   uint32_t result;
1141:core/inc/cmsis_gcc.h **** 
1142:core/inc/cmsis_gcc.h ****   __ASM volatile ("MRS %0, msp_ns" : "=r" (result) );
1143:core/inc/cmsis_gcc.h ****   return(result);
1144:core/inc/cmsis_gcc.h **** }
1145:core/inc/cmsis_gcc.h **** #endif
1146:core/inc/cmsis_gcc.h **** 
1147:core/inc/cmsis_gcc.h **** 
1148:core/inc/cmsis_gcc.h **** /**
1149:core/inc/cmsis_gcc.h ****   \brief   Set Main Stack Pointer
1150:core/inc/cmsis_gcc.h ****   \details Assigns the given value to the Main Stack Pointer (MSP).
1151:core/inc/cmsis_gcc.h ****   \param [in]    topOfMainStack  Main Stack Pointer value to set
1152:core/inc/cmsis_gcc.h ****  */
1153:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_MSP(uint32_t topOfMainStack)
1154:core/inc/cmsis_gcc.h **** {
1155:core/inc/cmsis_gcc.h ****   __ASM volatile ("MSR msp, %0" : : "r" (topOfMainStack) : );
1156:core/inc/cmsis_gcc.h **** }
1157:core/inc/cmsis_gcc.h **** 
1158:core/inc/cmsis_gcc.h **** 
1159:core/inc/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
1160:core/inc/cmsis_gcc.h **** /**
1161:core/inc/cmsis_gcc.h ****   \brief   Set Main Stack Pointer (non-secure)
1162:core/inc/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Main Stack Pointer (MSP) when in secure state.
1163:core/inc/cmsis_gcc.h ****   \param [in]    topOfMainStack  Main Stack Pointer value to set
1164:core/inc/cmsis_gcc.h ****  */
1165:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_MSP_NS(uint32_t topOfMainStack)
1166:core/inc/cmsis_gcc.h **** {
1167:core/inc/cmsis_gcc.h ****   __ASM volatile ("MSR msp_ns, %0" : : "r" (topOfMainStack) : );
1168:core/inc/cmsis_gcc.h **** }
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 58


1169:core/inc/cmsis_gcc.h **** #endif
1170:core/inc/cmsis_gcc.h **** 
1171:core/inc/cmsis_gcc.h **** 
1172:core/inc/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
1173:core/inc/cmsis_gcc.h **** /**
1174:core/inc/cmsis_gcc.h ****   \brief   Get Stack Pointer (non-secure)
1175:core/inc/cmsis_gcc.h ****   \details Returns the current value of the non-secure Stack Pointer (SP) when in secure state.
1176:core/inc/cmsis_gcc.h ****   \return               SP Register value
1177:core/inc/cmsis_gcc.h ****  */
1178:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_SP_NS(void)
1179:core/inc/cmsis_gcc.h **** {
1180:core/inc/cmsis_gcc.h ****   uint32_t result;
1181:core/inc/cmsis_gcc.h **** 
1182:core/inc/cmsis_gcc.h ****   __ASM volatile ("MRS %0, sp_ns" : "=r" (result) );
1183:core/inc/cmsis_gcc.h ****   return(result);
1184:core/inc/cmsis_gcc.h **** }
1185:core/inc/cmsis_gcc.h **** 
1186:core/inc/cmsis_gcc.h **** 
1187:core/inc/cmsis_gcc.h **** /**
1188:core/inc/cmsis_gcc.h ****   \brief   Set Stack Pointer (non-secure)
1189:core/inc/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Stack Pointer (SP) when in secure state.
1190:core/inc/cmsis_gcc.h ****   \param [in]    topOfStack  Stack Pointer value to set
1191:core/inc/cmsis_gcc.h ****  */
1192:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_SP_NS(uint32_t topOfStack)
1193:core/inc/cmsis_gcc.h **** {
1194:core/inc/cmsis_gcc.h ****   __ASM volatile ("MSR sp_ns, %0" : : "r" (topOfStack) : );
1195:core/inc/cmsis_gcc.h **** }
1196:core/inc/cmsis_gcc.h **** #endif
1197:core/inc/cmsis_gcc.h **** 
1198:core/inc/cmsis_gcc.h **** 
1199:core/inc/cmsis_gcc.h **** /**
1200:core/inc/cmsis_gcc.h ****   \brief   Get Priority Mask
1201:core/inc/cmsis_gcc.h ****   \details Returns the current state of the priority mask bit from the Priority Mask Register.
1202:core/inc/cmsis_gcc.h ****   \return               Priority Mask value
1203:core/inc/cmsis_gcc.h ****  */
1204:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_PRIMASK(void)
 1267              		.loc 3 1204 31 view .LVU375
 1268              	.LBB38:
1205:core/inc/cmsis_gcc.h **** {
1206:core/inc/cmsis_gcc.h ****   uint32_t result;
 1269              		.loc 3 1206 3 view .LVU376
1207:core/inc/cmsis_gcc.h **** 
1208:core/inc/cmsis_gcc.h ****   __ASM volatile ("MRS %0, primask" : "=r" (result) );
 1270              		.loc 3 1208 3 view .LVU377
 1271              		.syntax unified
 1272              	@ 1208 "core/inc/cmsis_gcc.h" 1
 1273 0004 EFF31080 		MRS r0, primask
 1274              	@ 0 "" 2
 1275              	.LVL111:
1209:core/inc/cmsis_gcc.h ****   return(result);
 1276              		.loc 3 1209 3 view .LVU378
 1277              		.loc 3 1209 3 is_stmt 0 view .LVU379
 1278              		.thumb
 1279              		.syntax unified
 1280              	.LBE38:
 1281              	.LBE37:
 364:arch/armv7m/kernel/src/ksch.c **** 	{
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 59


 1282              		.loc 1 364 2 is_stmt 1 view .LVU380
 364:arch/armv7m/kernel/src/ksch.c **** 	{
 1283              		.loc 1 364 5 is_stmt 0 view .LVU381
 1284 0008 10B1     		cbz	r0, .L99
 372:arch/armv7m/kernel/src/ksch.c **** 	return (crState);
 1285              		.loc 1 372 2 is_stmt 1 view .LVU382
 1286              		.syntax unified
 1287              	@ 372 "arch/armv7m/kernel/src/ksch.c" 1
 1288 000a BFF34F8F 		DSB
 1289              	@ 0 "" 2
 373:arch/armv7m/kernel/src/ksch.c **** }
 1290              		.loc 1 373 2 view .LVU383
 374:arch/armv7m/kernel/src/ksch.c **** 
 1291              		.loc 1 374 1 is_stmt 0 view .LVU384
 1292              		.thumb
 1293              		.syntax unified
 1294 000e 7047     		bx	lr
 1295              	.L99:
 366:arch/armv7m/kernel/src/ksch.c **** 		asm volatile ("CPSID I");
 1296              		.loc 1 366 3 is_stmt 1 view .LVU385
 1297              		.syntax unified
 1298              	@ 366 "arch/armv7m/kernel/src/ksch.c" 1
 1299 0010 BFF34F8F 		DSB
 1300              	@ 0 "" 2
 367:arch/armv7m/kernel/src/ksch.c **** 		asm volatile("ISB");
 1301              		.loc 1 367 3 view .LVU386
 1302              	@ 367 "arch/armv7m/kernel/src/ksch.c" 1
 1303 0014 72B6     		CPSID I
 1304              	@ 0 "" 2
 368:arch/armv7m/kernel/src/ksch.c **** 
 1305              		.loc 1 368 3 view .LVU387
 1306              	@ 368 "arch/armv7m/kernel/src/ksch.c" 1
 1307 0016 BFF36F8F 		ISB
 1308              	@ 0 "" 2
 370:arch/armv7m/kernel/src/ksch.c **** 	}
 1309              		.loc 1 370 3 view .LVU388
 370:arch/armv7m/kernel/src/ksch.c **** 	}
 1310              		.loc 1 370 10 is_stmt 0 view .LVU389
 1311              		.thumb
 1312              		.syntax unified
 1313 001a 7047     		bx	lr
 1314              		.cfi_endproc
 1315              	.LFE66:
 1317              		.section	.text.kExitCR,"ax",%progbits
 1318              		.align	1
 1319              		.global	kExitCR
 1320              		.syntax unified
 1321              		.thumb
 1322              		.thumb_func
 1324              	kExitCR:
 1325              	.LVL112:
 1326              	.LFB67:
 377:arch/armv7m/kernel/src/ksch.c **** 	asm volatile("DSB");
 1327              		.loc 1 377 1 is_stmt 1 view -0
 1328              		.cfi_startproc
 1329              		@ args = 0, pretend = 0, frame = 0
 1330              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 60


 1331              		@ link register save eliminated.
 378:arch/armv7m/kernel/src/ksch.c **** 	__set_PRIMASK( crState);
 1332              		.loc 1 378 2 view .LVU391
 1333              		.syntax unified
 1334              	@ 378 "arch/armv7m/kernel/src/ksch.c" 1
 1335 0000 BFF34F8F 		DSB
 1336              	@ 0 "" 2
 379:arch/armv7m/kernel/src/ksch.c **** 	asm volatile ("ISB");
 1337              		.loc 1 379 2 view .LVU392
 1338              	.LVL113:
 1339              		.thumb
 1340              		.syntax unified
 1341              	.LBB39:
 1342              	.LBI39:
1210:core/inc/cmsis_gcc.h **** }
1211:core/inc/cmsis_gcc.h **** 
1212:core/inc/cmsis_gcc.h **** 
1213:core/inc/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
1214:core/inc/cmsis_gcc.h **** /**
1215:core/inc/cmsis_gcc.h ****   \brief   Get Priority Mask (non-secure)
1216:core/inc/cmsis_gcc.h ****   \details Returns the current state of the non-secure priority mask bit from the Priority Mask Reg
1217:core/inc/cmsis_gcc.h ****   \return               Priority Mask value
1218:core/inc/cmsis_gcc.h ****  */
1219:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_PRIMASK_NS(void)
1220:core/inc/cmsis_gcc.h **** {
1221:core/inc/cmsis_gcc.h ****   uint32_t result;
1222:core/inc/cmsis_gcc.h **** 
1223:core/inc/cmsis_gcc.h ****   __ASM volatile ("MRS %0, primask_ns" : "=r" (result) );
1224:core/inc/cmsis_gcc.h ****   return(result);
1225:core/inc/cmsis_gcc.h **** }
1226:core/inc/cmsis_gcc.h **** #endif
1227:core/inc/cmsis_gcc.h **** 
1228:core/inc/cmsis_gcc.h **** 
1229:core/inc/cmsis_gcc.h **** /**
1230:core/inc/cmsis_gcc.h ****   \brief   Set Priority Mask
1231:core/inc/cmsis_gcc.h ****   \details Assigns the given value to the Priority Mask Register.
1232:core/inc/cmsis_gcc.h ****   \param [in]    priMask  Priority Mask
1233:core/inc/cmsis_gcc.h ****  */
1234:core/inc/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_PRIMASK(uint32_t priMask)
 1343              		.loc 3 1234 27 view .LVU393
 1344              	.LBB40:
1235:core/inc/cmsis_gcc.h **** {
1236:core/inc/cmsis_gcc.h ****   __ASM volatile ("MSR primask, %0" : : "r" (priMask) : "memory");
 1345              		.loc 3 1236 3 view .LVU394
 1346              		.syntax unified
 1347              	@ 1236 "core/inc/cmsis_gcc.h" 1
 1348 0004 80F31088 		MSR primask, r0
 1349              	@ 0 "" 2
 1350              	.LVL114:
 1351              		.loc 3 1236 3 is_stmt 0 view .LVU395
 1352              		.thumb
 1353              		.syntax unified
 1354              	.LBE40:
 1355              	.LBE39:
 380:arch/armv7m/kernel/src/ksch.c **** 
 1356              		.loc 1 380 2 is_stmt 1 view .LVU396
 1357              		.syntax unified
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 61


 1358              	@ 380 "arch/armv7m/kernel/src/ksch.c" 1
 1359 0008 BFF36F8F 		ISB
 1360              	@ 0 "" 2
 382:arch/armv7m/kernel/src/ksch.c **** 
 1361              		.loc 1 382 1 is_stmt 0 view .LVU397
 1362              		.thumb
 1363              		.syntax unified
 1364 000c 7047     		bx	lr
 1365              		.cfi_endproc
 1366              	.LFE67:
 1368              		.section	.text.kTCBQEnq,"ax",%progbits
 1369              		.align	1
 1370              		.global	kTCBQEnq
 1371              		.syntax unified
 1372              		.thumb
 1373              		.thumb_func
 1375              	kTCBQEnq:
 1376              	.LVL115:
 1377              	.LFB56:
  78:arch/armv7m/kernel/src/ksch.c **** 
 1378              		.loc 1 78 1 is_stmt 1 view -0
 1379              		.cfi_startproc
 1380              		@ args = 0, pretend = 0, frame = 0
 1381              		@ frame_needed = 0, uses_anonymous_args = 0
  78:arch/armv7m/kernel/src/ksch.c **** 
 1382              		.loc 1 78 1 is_stmt 0 view .LVU399
 1383 0000 70B5     		push	{r4, r5, r6, lr}
 1384              		.cfi_def_cfa_offset 16
 1385              		.cfi_offset 4, -16
 1386              		.cfi_offset 5, -12
 1387              		.cfi_offset 6, -8
 1388              		.cfi_offset 14, -4
 1389 0002 0446     		mov	r4, r0
 1390 0004 0D46     		mov	r5, r1
  80:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_ENTER
 1391              		.loc 1 80 2 is_stmt 1 view .LVU400
  81:arch/armv7m/kernel/src/ksch.c **** 	if (kobj == NULL || tcbPtr == NULL)
 1392              		.loc 1 81 2 view .LVU401
 1393 0006 FFF7FEFF 		bl	kEnterCR
 1394              	.LVL116:
  81:arch/armv7m/kernel/src/ksch.c **** 	if (kobj == NULL || tcbPtr == NULL)
 1395              		.loc 1 81 2 is_stmt 0 view .LVU402
 1396 000a 0646     		mov	r6, r0
 1397              	.LVL117:
  82:arch/armv7m/kernel/src/ksch.c **** 	{
 1398              		.loc 1 82 2 is_stmt 1 view .LVU403
  82:arch/armv7m/kernel/src/ksch.c **** 	{
 1399              		.loc 1 82 5 is_stmt 0 view .LVU404
 1400 000c E4B1     		cbz	r4, .L102
  82:arch/armv7m/kernel/src/ksch.c **** 	{
 1401              		.loc 1 82 19 discriminator 1 view .LVU405
 1402 000e DDB1     		cbz	r5, .L102
  86:arch/armv7m/kernel/src/ksch.c **** 	if (err == 0)
 1403              		.loc 1 86 2 is_stmt 1 view .LVU406
  86:arch/armv7m/kernel/src/ksch.c **** 	if (err == 0)
 1404              		.loc 1 86 35 is_stmt 0 view .LVU407
 1405 0010 05F15C02 		add	r2, r5, #92
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 62


 1406              	.LVL118:
 1407              	.LBB41:
 1408              	.LBI41:
 124:arch/armv7m/kernel/inc/ksch.h **** }
 125:arch/armv7m/kernel/inc/ksch.h **** __attribute__((always_inline))    static inline RK_ERR kListAddTail(
 1409              		.loc 2 125 56 is_stmt 1 view .LVU408
 1410              	.LBB42:
 126:arch/armv7m/kernel/inc/ksch.h ****         RK_LIST* const kobj, RK_NODE* const newNodePtr)
 127:arch/armv7m/kernel/inc/ksch.h **** {
 128:arch/armv7m/kernel/inc/ksch.h ****     return (kListInsertAfter(kobj, kobj->listDummy.prevPtr, newNodePtr));
 1411              		.loc 2 128 5 view .LVU409
 1412              		.loc 2 128 51 is_stmt 0 view .LVU410
 1413 0014 6368     		ldr	r3, [r4, #4]
 1414              	.LVL119:
 1415              	.LBB43:
 1416              	.LBI43:
  75:arch/armv7m/kernel/inc/ksch.h ****         RK_LIST* const kobj, RK_NODE* const refNodePtr,
 1417              		.loc 2 75 56 is_stmt 1 view .LVU411
 1418              	.LBB44:
  79:arch/armv7m/kernel/inc/ksch.h ****     {
 1419              		.loc 2 79 5 view .LVU412
 1420              	.L103:
  79:arch/armv7m/kernel/inc/ksch.h ****     {
 1421              		.loc 2 79 44 is_stmt 0 view .LVU413
 1422 0016 3BB3     		cbz	r3, .L105
  83:arch/armv7m/kernel/inc/ksch.h ****     refNodePtr->nextPtr->prevPtr = newNodePtr;
 1423              		.loc 2 83 5 is_stmt 1 view .LVU414
  83:arch/armv7m/kernel/inc/ksch.h ****     refNodePtr->nextPtr->prevPtr = newNodePtr;
 1424              		.loc 2 83 37 is_stmt 0 view .LVU415
 1425 0018 1968     		ldr	r1, [r3]
  83:arch/armv7m/kernel/inc/ksch.h ****     refNodePtr->nextPtr->prevPtr = newNodePtr;
 1426              		.loc 2 83 25 view .LVU416
 1427 001a E965     		str	r1, [r5, #92]
  84:arch/armv7m/kernel/inc/ksch.h ****     newNodePtr->prevPtr = refNodePtr;
 1428              		.loc 2 84 5 is_stmt 1 view .LVU417
  84:arch/armv7m/kernel/inc/ksch.h ****     newNodePtr->prevPtr = refNodePtr;
 1429              		.loc 2 84 34 is_stmt 0 view .LVU418
 1430 001c 4A60     		str	r2, [r1, #4]
  85:arch/armv7m/kernel/inc/ksch.h ****     refNodePtr->nextPtr = newNodePtr;
 1431              		.loc 2 85 5 is_stmt 1 view .LVU419
  85:arch/armv7m/kernel/inc/ksch.h ****     refNodePtr->nextPtr = newNodePtr;
 1432              		.loc 2 85 25 is_stmt 0 view .LVU420
 1433 001e 2B66     		str	r3, [r5, #96]
  86:arch/armv7m/kernel/inc/ksch.h ****     kobj->size += 1U;
 1434              		.loc 2 86 5 is_stmt 1 view .LVU421
  86:arch/armv7m/kernel/inc/ksch.h ****     kobj->size += 1U;
 1435              		.loc 2 86 25 is_stmt 0 view .LVU422
 1436 0020 1A60     		str	r2, [r3]
  87:arch/armv7m/kernel/inc/ksch.h **** 
 1437              		.loc 2 87 5 is_stmt 1 view .LVU423
  87:arch/armv7m/kernel/inc/ksch.h **** 
 1438              		.loc 2 87 9 is_stmt 0 view .LVU424
 1439 0022 E368     		ldr	r3, [r4, #12]
 1440              	.LVL120:
  87:arch/armv7m/kernel/inc/ksch.h **** 
 1441              		.loc 2 87 16 view .LVU425
 1442 0024 0133     		adds	r3, r3, #1
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 63


 1443 0026 E360     		str	r3, [r4, #12]
  89:arch/armv7m/kernel/inc/ksch.h ****     return (RK_SUCCESS);
 1444              		.loc 2 89 5 is_stmt 1 view .LVU426
 1445              		.syntax unified
 1446              	@ 89 "arch/armv7m/kernel/inc/ksch.h" 1
 1447 0028 BFF35F8F 		dmb 0xF
 1448              	@ 0 "" 2
  90:arch/armv7m/kernel/inc/ksch.h **** }
 1449              		.loc 2 90 5 view .LVU427
 1450              	.LVL121:
  90:arch/armv7m/kernel/inc/ksch.h **** }
 1451              		.loc 2 90 5 is_stmt 0 view .LVU428
 1452              		.thumb
 1453              		.syntax unified
 1454              	.LBE44:
 1455              	.LBE43:
 1456              	.LBE42:
 1457              	.LBE41:
  87:arch/armv7m/kernel/src/ksch.c **** 	{
 1458              		.loc 1 87 2 is_stmt 1 view .LVU429
  89:arch/armv7m/kernel/src/ksch.c **** 			readyQBitMask |= 1 << tcbPtr->priority;
 1459              		.loc 1 89 3 view .LVU430
  89:arch/armv7m/kernel/src/ksch.c **** 			readyQBitMask |= 1 << tcbPtr->priority;
 1460              		.loc 1 89 33 is_stmt 0 view .LVU431
 1461 002c 6A7F     		ldrb	r2, [r5, #29]	@ zero_extendqisi2
  89:arch/armv7m/kernel/src/ksch.c **** 			readyQBitMask |= 1 << tcbPtr->priority;
 1462              		.loc 1 89 15 view .LVU432
 1463 002e 02EB8201 		add	r1, r2, r2, lsl #2
 1464 0032 0F4B     		ldr	r3, .L109
 1465 0034 03EB8103 		add	r3, r3, r1, lsl #2
  89:arch/armv7m/kernel/src/ksch.c **** 			readyQBitMask |= 1 << tcbPtr->priority;
 1466              		.loc 1 89 6 view .LVU433
 1467 0038 A342     		cmp	r3, r4
 1468 003a 0DD0     		beq	.L108
 1469              	.LBB54:
 1470              	.LBB51:
 1471              	.LBB48:
 1472              	.LBB45:
  90:arch/armv7m/kernel/inc/ksch.h **** }
 1473              		.loc 2 90 12 view .LVU434
 1474 003c 0024     		movs	r4, #0
 1475              	.LVL122:
 1476              	.L104:
  90:arch/armv7m/kernel/inc/ksch.h **** }
 1477              		.loc 2 90 12 view .LVU435
 1478              	.LBE45:
 1479              	.LBE48:
 1480              	.LBE51:
 1481              	.LBE54:
  92:arch/armv7m/kernel/src/ksch.c **** 	return (err);
 1482              		.loc 1 92 2 is_stmt 1 view .LVU436
 1483 003e 3046     		mov	r0, r6
 1484 0040 FFF7FEFF 		bl	kExitCR
 1485              	.LVL123:
  93:arch/armv7m/kernel/src/ksch.c **** }
 1486              		.loc 1 93 2 view .LVU437
  94:arch/armv7m/kernel/src/ksch.c **** 
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 64


 1487              		.loc 1 94 1 is_stmt 0 view .LVU438
 1488 0044 2046     		mov	r0, r4
 1489 0046 70BD     		pop	{r4, r5, r6, pc}
 1490              	.LVL124:
 1491              	.L102:
  84:arch/armv7m/kernel/src/ksch.c **** 	}
 1492              		.loc 1 84 3 is_stmt 1 view .LVU439
 1493 0048 6FF06300 		mvn	r0, #99
 1494              	.LVL125:
  84:arch/armv7m/kernel/src/ksch.c **** 	}
 1495              		.loc 1 84 3 is_stmt 0 view .LVU440
 1496 004c FFF7FEFF 		bl	kErrHandler
 1497              	.LVL126:
  86:arch/armv7m/kernel/src/ksch.c **** 	if (err == 0)
 1498              		.loc 1 86 2 is_stmt 1 view .LVU441
  86:arch/armv7m/kernel/src/ksch.c **** 	if (err == 0)
 1499              		.loc 1 86 35 is_stmt 0 view .LVU442
 1500 0050 05F15C02 		add	r2, r5, #92
 1501              	.LVL127:
 1502              	.LBB55:
 125:arch/armv7m/kernel/inc/ksch.h ****         RK_LIST* const kobj, RK_NODE* const newNodePtr)
 1503              		.loc 2 125 56 is_stmt 1 view .LVU443
 1504              	.LBB52:
 1505              		.loc 2 128 5 view .LVU444
 1506              		.loc 2 128 51 is_stmt 0 view .LVU445
 1507 0054 6368     		ldr	r3, [r4, #4]
 1508              	.LVL128:
 1509              	.LBB49:
  75:arch/armv7m/kernel/inc/ksch.h ****         RK_LIST* const kobj, RK_NODE* const refNodePtr,
 1510              		.loc 2 75 56 is_stmt 1 view .LVU446
 1511              	.LBB46:
  79:arch/armv7m/kernel/inc/ksch.h ****     {
 1512              		.loc 2 79 5 view .LVU447
 1513 0056 DEE7     		b	.L103
 1514              	.LVL129:
 1515              	.L108:
  79:arch/armv7m/kernel/inc/ksch.h ****     {
 1516              		.loc 2 79 5 is_stmt 0 view .LVU448
 1517              	.LBE46:
 1518              	.LBE49:
 1519              	.LBE52:
 1520              	.LBE55:
  90:arch/armv7m/kernel/src/ksch.c **** 	}
 1521              		.loc 1 90 4 is_stmt 1 view .LVU449
  90:arch/armv7m/kernel/src/ksch.c **** 	}
 1522              		.loc 1 90 23 is_stmt 0 view .LVU450
 1523 0058 0123     		movs	r3, #1
 1524 005a 9340     		lsls	r3, r3, r2
  90:arch/armv7m/kernel/src/ksch.c **** 	}
 1525              		.loc 1 90 18 view .LVU451
 1526 005c 054A     		ldr	r2, .L109+4
 1527 005e 1168     		ldr	r1, [r2]
 1528 0060 0B43     		orrs	r3, r3, r1
 1529 0062 1360     		str	r3, [r2]
 1530              	.LBB56:
 1531              	.LBB53:
 1532              	.LBB50:
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 65


 1533              	.LBB47:
  90:arch/armv7m/kernel/inc/ksch.h **** }
 1534              		.loc 2 90 12 view .LVU452
 1535 0064 0024     		movs	r4, #0
 1536              	.LVL130:
  90:arch/armv7m/kernel/inc/ksch.h **** }
 1537              		.loc 2 90 12 view .LVU453
 1538 0066 EAE7     		b	.L104
 1539              	.LVL131:
 1540              	.L105:
  81:arch/armv7m/kernel/inc/ksch.h ****     }
 1541              		.loc 2 81 16 view .LVU454
 1542 0068 6FF06304 		mvn	r4, #99
 1543              	.LVL132:
  81:arch/armv7m/kernel/inc/ksch.h ****     }
 1544              		.loc 2 81 16 view .LVU455
 1545 006c E7E7     		b	.L104
 1546              	.L110:
 1547 006e 00BF     		.align	2
 1548              	.L109:
 1549 0070 00000000 		.word	readyQueue
 1550 0074 00000000 		.word	readyQBitMask
 1551              	.LBE47:
 1552              	.LBE50:
 1553              	.LBE53:
 1554              	.LBE56:
 1555              		.cfi_endproc
 1556              	.LFE56:
 1558              		.section	.text.kReadyRunningTask_,"ax",%progbits
 1559              		.align	1
 1560              		.syntax unified
 1561              		.thumb
 1562              		.thumb_func
 1564              	kReadyRunningTask_:
 1565              	.LFB73:
 478:arch/armv7m/kernel/src/ksch.c **** 
 479:arch/armv7m/kernel/src/ksch.c **** VOID kSchSwtch( VOID)
 480:arch/armv7m/kernel/src/ksch.c **** {
 481:arch/armv7m/kernel/src/ksch.c **** 
 482:arch/armv7m/kernel/src/ksch.c **** 	RK_TCB *nextRunPtr = NULL;
 483:arch/armv7m/kernel/src/ksch.c **** 	RK_TCB *prevRunPtr = runPtr;
 484:arch/armv7m/kernel/src/ksch.c **** 	if (runPtr->status == RK_RUNNING)
 485:arch/armv7m/kernel/src/ksch.c **** 	{
 486:arch/armv7m/kernel/src/ksch.c **** 
 487:arch/armv7m/kernel/src/ksch.c **** 		kReadyRunningTask_();
 488:arch/armv7m/kernel/src/ksch.c **** 	}
 489:arch/armv7m/kernel/src/ksch.c **** 	nextTaskPrio = kCalcNextTaskPrio_();/* get the next task priority */
 490:arch/armv7m/kernel/src/ksch.c **** 	kTCBQDeq( &readyQueue[nextTaskPrio], &nextRunPtr);
 491:arch/armv7m/kernel/src/ksch.c **** 	if (nextRunPtr == NULL)
 492:arch/armv7m/kernel/src/ksch.c **** 	{
 493:arch/armv7m/kernel/src/ksch.c **** 		kErrHandler( RK_FAULT_OBJ_NULL);
 494:arch/armv7m/kernel/src/ksch.c **** 	}
 495:arch/armv7m/kernel/src/ksch.c **** 	runPtr = nextRunPtr;
 496:arch/armv7m/kernel/src/ksch.c **** 	if (nextRunPtr->pid != prevRunPtr->pid)
 497:arch/armv7m/kernel/src/ksch.c **** 	{
 498:arch/armv7m/kernel/src/ksch.c **** 		runPtr->nPreempted += 1U;
 499:arch/armv7m/kernel/src/ksch.c **** 		prevRunPtr->preemptedBy = runPtr->pid;
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 66


 500:arch/armv7m/kernel/src/ksch.c **** 	}
 501:arch/armv7m/kernel/src/ksch.c **** 	_RK_DSB
 502:arch/armv7m/kernel/src/ksch.c **** }
 503:arch/armv7m/kernel/src/ksch.c **** 
 504:arch/armv7m/kernel/src/ksch.c **** /*******************************************************************************
 505:arch/armv7m/kernel/src/ksch.c ****  *  TICK MANAGEMENT
 506:arch/armv7m/kernel/src/ksch.c ****  *******************************************************************************/
 507:arch/armv7m/kernel/src/ksch.c **** static inline VOID kReadyRunningTask_( VOID)
 508:arch/armv7m/kernel/src/ksch.c **** {
 1566              		.loc 1 508 1 is_stmt 1 view -0
 1567              		.cfi_startproc
 1568              		@ args = 0, pretend = 0, frame = 0
 1569              		@ frame_needed = 0, uses_anonymous_args = 0
 1570 0000 08B5     		push	{r3, lr}
 1571              		.cfi_def_cfa_offset 8
 1572              		.cfi_offset 3, -8
 1573              		.cfi_offset 14, -4
 509:arch/armv7m/kernel/src/ksch.c **** 	if (runPtr->status == RK_RUNNING)
 1574              		.loc 1 509 2 view .LVU457
 1575              		.loc 1 509 12 is_stmt 0 view .LVU458
 1576 0002 0C4B     		ldr	r3, .L117
 1577 0004 1968     		ldr	r1, [r3]
 1578 0006 4B68     		ldr	r3, [r1, #4]
 1579              		.loc 1 509 5 view .LVU459
 1580 0008 202B     		cmp	r3, #32
 1581 000a 00D0     		beq	.L115
 1582              	.L111:
 510:arch/armv7m/kernel/src/ksch.c **** 	{
 511:arch/armv7m/kernel/src/ksch.c **** 
 512:arch/armv7m/kernel/src/ksch.c **** 		kassert(
 513:arch/armv7m/kernel/src/ksch.c **** 				(kTCBQEnq( &readyQueue[runPtr->priority], runPtr) == (RK_SUCCESS)));
 514:arch/armv7m/kernel/src/ksch.c **** 		runPtr->status = RK_READY;
 515:arch/armv7m/kernel/src/ksch.c **** #if (RK_CONF_SCH_TSLICE==ON)
 516:arch/armv7m/kernel/src/ksch.c ****          /* reset time-slice */
 517:arch/armv7m/kernel/src/ksch.c ****          (runPtr->timeSliceCnt=0UL);
 518:arch/armv7m/kernel/src/ksch.c ****  #endif
 519:arch/armv7m/kernel/src/ksch.c **** 	}
 520:arch/armv7m/kernel/src/ksch.c **** }
 1583              		.loc 1 520 1 view .LVU460
 1584 000c 08BD     		pop	{r3, pc}
 1585              	.L115:
 512:arch/armv7m/kernel/src/ksch.c **** 				(kTCBQEnq( &readyQueue[runPtr->priority], runPtr) == (RK_SUCCESS)));
 1586              		.loc 1 512 3 is_stmt 1 view .LVU461
 1587 000e 487F     		ldrb	r0, [r1, #29]	@ zero_extendqisi2
 1588 0010 00EB8000 		add	r0, r0, r0, lsl #2
 1589 0014 084B     		ldr	r3, .L117+4
 1590 0016 03EB8000 		add	r0, r3, r0, lsl #2
 1591 001a FFF7FEFF 		bl	kTCBQEnq
 1592              	.LVL133:
 1593 001e 20B9     		cbnz	r0, .L116
 1594              	.L113:
 514:arch/armv7m/kernel/src/ksch.c **** #if (RK_CONF_SCH_TSLICE==ON)
 1595              		.loc 1 514 3 view .LVU462
 514:arch/armv7m/kernel/src/ksch.c **** #if (RK_CONF_SCH_TSLICE==ON)
 1596              		.loc 1 514 9 is_stmt 0 view .LVU463
 1597 0020 044B     		ldr	r3, .L117
 1598 0022 1B68     		ldr	r3, [r3]
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 67


 514:arch/armv7m/kernel/src/ksch.c **** #if (RK_CONF_SCH_TSLICE==ON)
 1599              		.loc 1 514 18 view .LVU464
 1600 0024 1022     		movs	r2, #16
 1601 0026 5A60     		str	r2, [r3, #4]
 1602              		.loc 1 520 1 view .LVU465
 1603 0028 F0E7     		b	.L111
 1604              	.L116:
 512:arch/armv7m/kernel/src/ksch.c **** 				(kTCBQEnq( &readyQueue[runPtr->priority], runPtr) == (RK_SUCCESS)));
 1605              		.loc 1 512 3 discriminator 1 view .LVU466
 1606 002a 0020     		movs	r0, #0
 1607 002c FFF7FEFF 		bl	kErrHandler
 1608              	.LVL134:
 1609 0030 F6E7     		b	.L113
 1610              	.L118:
 1611 0032 00BF     		.align	2
 1612              	.L117:
 1613 0034 00000000 		.word	runPtr
 1614 0038 00000000 		.word	readyQueue
 1615              		.cfi_endproc
 1616              	.LFE73:
 1618              		.section	.text.kTCBQEnqByPrio,"ax",%progbits
 1619              		.align	1
 1620              		.global	kTCBQEnqByPrio
 1621              		.syntax unified
 1622              		.thumb
 1623              		.thumb_func
 1625              	kTCBQEnqByPrio:
 1626              	.LVL135:
 1627              	.LFB60:
 158:arch/armv7m/kernel/src/ksch.c **** 	RK_ERR err;
 1628              		.loc 1 158 1 is_stmt 1 view -0
 1629              		.cfi_startproc
 1630              		@ args = 0, pretend = 0, frame = 0
 1631              		@ frame_needed = 0, uses_anonymous_args = 0
 158:arch/armv7m/kernel/src/ksch.c **** 	RK_ERR err;
 1632              		.loc 1 158 1 is_stmt 0 view .LVU468
 1633 0000 38B5     		push	{r3, r4, r5, lr}
 1634              		.cfi_def_cfa_offset 16
 1635              		.cfi_offset 3, -16
 1636              		.cfi_offset 4, -12
 1637              		.cfi_offset 5, -8
 1638              		.cfi_offset 14, -4
 1639 0002 0C46     		mov	r4, r1
 159:arch/armv7m/kernel/src/ksch.c **** 	if (kobj == NULL || tcbPtr == NULL)
 1640              		.loc 1 159 2 is_stmt 1 view .LVU469
 160:arch/armv7m/kernel/src/ksch.c **** 	{
 1641              		.loc 1 160 2 view .LVU470
 160:arch/armv7m/kernel/src/ksch.c **** 	{
 1642              		.loc 1 160 5 is_stmt 0 view .LVU471
 1643 0004 0546     		mov	r5, r0
 1644 0006 78B1     		cbz	r0, .L120
 160:arch/armv7m/kernel/src/ksch.c **** 	{
 1645              		.loc 1 160 19 discriminator 1 view .LVU472
 1646 0008 71B1     		cbz	r1, .L120
 1647              	.LVL136:
 1648              	.L121:
 164:arch/armv7m/kernel/src/ksch.c **** 	{
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 68


 1649              		.loc 1 164 2 is_stmt 1 view .LVU473
 164:arch/armv7m/kernel/src/ksch.c **** 	{
 1650              		.loc 1 164 10 is_stmt 0 view .LVU474
 1651 000a EB68     		ldr	r3, [r5, #12]
 164:arch/armv7m/kernel/src/ksch.c **** 	{
 1652              		.loc 1 164 5 view .LVU475
 1653 000c 8BB1     		cbz	r3, .L129
 172:arch/armv7m/kernel/src/ksch.c **** 	RK_TCB *currTcbPtr = RK_LIST_GET_TCB_NODE( currNodePtr, RK_TCB);
 1654              		.loc 1 172 2 is_stmt 1 view .LVU476
 172:arch/armv7m/kernel/src/ksch.c **** 	RK_TCB *currTcbPtr = RK_LIST_GET_TCB_NODE( currNodePtr, RK_TCB);
 1655              		.loc 1 172 11 is_stmt 0 view .LVU477
 1656 000e 6B68     		ldr	r3, [r5, #4]
 1657              	.LVL137:
 173:arch/armv7m/kernel/src/ksch.c **** 	while (currTcbPtr->priority >= tcbPtr->priority)
 1658              		.loc 1 173 2 is_stmt 1 view .LVU478
 173:arch/armv7m/kernel/src/ksch.c **** 	while (currTcbPtr->priority >= tcbPtr->priority)
 1659              		.loc 1 173 10 is_stmt 0 view .LVU479
 1660 0010 A3F15C02 		sub	r2, r3, #92
 1661              	.LVL138:
 174:arch/armv7m/kernel/src/ksch.c **** 	{
 1662              		.loc 1 174 2 is_stmt 1 view .LVU480
 1663              	.L124:
 174:arch/armv7m/kernel/src/ksch.c **** 	{
 1664              		.loc 1 174 30 view .LVU481
 174:arch/armv7m/kernel/src/ksch.c **** 	{
 1665              		.loc 1 174 19 is_stmt 0 view .LVU482
 1666 0014 507F     		ldrb	r0, [r2, #29]	@ zero_extendqisi2
 174:arch/armv7m/kernel/src/ksch.c **** 	{
 1667              		.loc 1 174 39 view .LVU483
 1668 0016 627F     		ldrb	r2, [r4, #29]	@ zero_extendqisi2
 1669              	.LVL139:
 174:arch/armv7m/kernel/src/ksch.c **** 	{
 1670              		.loc 1 174 30 view .LVU484
 1671 0018 9042     		cmp	r0, r2
 1672 001a 0FD3     		bcc	.L125
 176:arch/armv7m/kernel/src/ksch.c **** 		/* list end */
 1673              		.loc 1 176 3 is_stmt 1 view .LVU485
 176:arch/armv7m/kernel/src/ksch.c **** 		/* list end */
 1674              		.loc 1 176 15 is_stmt 0 view .LVU486
 1675 001c 1B68     		ldr	r3, [r3]
 1676              	.LVL140:
 178:arch/armv7m/kernel/src/ksch.c **** 		{
 1677              		.loc 1 178 3 is_stmt 1 view .LVU487
 178:arch/armv7m/kernel/src/ksch.c **** 		{
 1678              		.loc 1 178 6 is_stmt 0 view .LVU488
 1679 001e 9D42     		cmp	r5, r3
 1680 0020 0CD0     		beq	.L125
 182:arch/armv7m/kernel/src/ksch.c **** 	}
 1681              		.loc 1 182 3 is_stmt 1 view .LVU489
 182:arch/armv7m/kernel/src/ksch.c **** 	}
 1682              		.loc 1 182 14 is_stmt 0 view .LVU490
 1683 0022 A3F15C02 		sub	r2, r3, #92
 1684              	.LVL141:
 182:arch/armv7m/kernel/src/ksch.c **** 	}
 1685              		.loc 1 182 14 view .LVU491
 1686 0026 F5E7     		b	.L124
 1687              	.LVL142:
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 69


 1688              	.L120:
 162:arch/armv7m/kernel/src/ksch.c **** 	}
 1689              		.loc 1 162 3 is_stmt 1 view .LVU492
 1690 0028 6FF06300 		mvn	r0, #99
 1691              	.LVL143:
 162:arch/armv7m/kernel/src/ksch.c **** 	}
 1692              		.loc 1 162 3 is_stmt 0 view .LVU493
 1693 002c FFF7FEFF 		bl	kErrHandler
 1694              	.LVL144:
 162:arch/armv7m/kernel/src/ksch.c **** 	}
 1695              		.loc 1 162 3 view .LVU494
 1696 0030 EBE7     		b	.L121
 1697              	.L129:
 167:arch/armv7m/kernel/src/ksch.c **** 		return (err);
 1698              		.loc 1 167 3 is_stmt 1 view .LVU495
 167:arch/armv7m/kernel/src/ksch.c **** 		return (err);
 1699              		.loc 1 167 9 is_stmt 0 view .LVU496
 1700 0032 2146     		mov	r1, r4
 1701 0034 2846     		mov	r0, r5
 1702 0036 FFF7FEFF 		bl	kTCBQEnq
 1703              	.LVL145:
 168:arch/armv7m/kernel/src/ksch.c **** 	}
 1704              		.loc 1 168 3 is_stmt 1 view .LVU497
 168:arch/armv7m/kernel/src/ksch.c **** 	}
 1705              		.loc 1 168 10 is_stmt 0 view .LVU498
 1706 003a 0EE0     		b	.L119
 1707              	.LVL146:
 1708              	.L125:
 184:arch/armv7m/kernel/src/ksch.c **** 	kassert( err == 0);
 1709              		.loc 1 184 2 is_stmt 1 view .LVU499
 184:arch/armv7m/kernel/src/ksch.c **** 	kassert( err == 0);
 1710              		.loc 1 184 45 is_stmt 0 view .LVU500
 1711 003c 04F15C02 		add	r2, r4, #92
 1712              	.LVL147:
 1713              	.LBB57:
 1714              	.LBI57:
  75:arch/armv7m/kernel/inc/ksch.h ****         RK_LIST* const kobj, RK_NODE* const refNodePtr,
 1715              		.loc 2 75 56 is_stmt 1 view .LVU501
 1716              	.LBB58:
  79:arch/armv7m/kernel/inc/ksch.h ****     {
 1717              		.loc 2 79 5 view .LVU502
  79:arch/armv7m/kernel/inc/ksch.h ****     {
 1718              		.loc 2 79 8 is_stmt 0 view .LVU503
 1719 0040 65B1     		cbz	r5, .L127
  79:arch/armv7m/kernel/inc/ksch.h ****     {
 1720              		.loc 2 79 44 view .LVU504
 1721 0042 5BB1     		cbz	r3, .L127
  83:arch/armv7m/kernel/inc/ksch.h ****     refNodePtr->nextPtr->prevPtr = newNodePtr;
 1722              		.loc 2 83 5 is_stmt 1 view .LVU505
  83:arch/armv7m/kernel/inc/ksch.h ****     refNodePtr->nextPtr->prevPtr = newNodePtr;
 1723              		.loc 2 83 37 is_stmt 0 view .LVU506
 1724 0044 1968     		ldr	r1, [r3]
  83:arch/armv7m/kernel/inc/ksch.h ****     refNodePtr->nextPtr->prevPtr = newNodePtr;
 1725              		.loc 2 83 25 view .LVU507
 1726 0046 E165     		str	r1, [r4, #92]
  84:arch/armv7m/kernel/inc/ksch.h ****     newNodePtr->prevPtr = refNodePtr;
 1727              		.loc 2 84 5 is_stmt 1 view .LVU508
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 70


  84:arch/armv7m/kernel/inc/ksch.h ****     newNodePtr->prevPtr = refNodePtr;
 1728              		.loc 2 84 34 is_stmt 0 view .LVU509
 1729 0048 4A60     		str	r2, [r1, #4]
  85:arch/armv7m/kernel/inc/ksch.h ****     refNodePtr->nextPtr = newNodePtr;
 1730              		.loc 2 85 5 is_stmt 1 view .LVU510
  85:arch/armv7m/kernel/inc/ksch.h ****     refNodePtr->nextPtr = newNodePtr;
 1731              		.loc 2 85 25 is_stmt 0 view .LVU511
 1732 004a 2366     		str	r3, [r4, #96]
  86:arch/armv7m/kernel/inc/ksch.h ****     kobj->size += 1U;
 1733              		.loc 2 86 5 is_stmt 1 view .LVU512
  86:arch/armv7m/kernel/inc/ksch.h ****     kobj->size += 1U;
 1734              		.loc 2 86 25 is_stmt 0 view .LVU513
 1735 004c 1A60     		str	r2, [r3]
  87:arch/armv7m/kernel/inc/ksch.h **** 
 1736              		.loc 2 87 5 is_stmt 1 view .LVU514
  87:arch/armv7m/kernel/inc/ksch.h **** 
 1737              		.loc 2 87 9 is_stmt 0 view .LVU515
 1738 004e EB68     		ldr	r3, [r5, #12]
 1739              	.LVL148:
  87:arch/armv7m/kernel/inc/ksch.h **** 
 1740              		.loc 2 87 16 view .LVU516
 1741 0050 0133     		adds	r3, r3, #1
 1742 0052 EB60     		str	r3, [r5, #12]
  89:arch/armv7m/kernel/inc/ksch.h ****     return (RK_SUCCESS);
 1743              		.loc 2 89 5 is_stmt 1 view .LVU517
 1744              		.syntax unified
 1745              	@ 89 "arch/armv7m/kernel/inc/ksch.h" 1
 1746 0054 BFF35F8F 		dmb 0xF
 1747              	@ 0 "" 2
  90:arch/armv7m/kernel/inc/ksch.h **** }
 1748              		.loc 2 90 5 view .LVU518
 1749              	.LVL149:
  90:arch/armv7m/kernel/inc/ksch.h **** }
 1750              		.loc 2 90 5 is_stmt 0 view .LVU519
 1751              		.thumb
 1752              		.syntax unified
 1753              	.LBE58:
 1754              	.LBE57:
 185:arch/armv7m/kernel/src/ksch.c **** 	return (err);
 1755              		.loc 1 185 2 is_stmt 1 view .LVU520
 1756              	.LBB60:
 1757              	.LBB59:
  90:arch/armv7m/kernel/inc/ksch.h **** }
 1758              		.loc 2 90 12 is_stmt 0 view .LVU521
 1759 0058 0020     		movs	r0, #0
 1760              	.LVL150:
 1761              	.L119:
  90:arch/armv7m/kernel/inc/ksch.h **** }
 1762              		.loc 2 90 12 view .LVU522
 1763              	.LBE59:
 1764              	.LBE60:
 187:arch/armv7m/kernel/src/ksch.c **** 
 1765              		.loc 1 187 1 view .LVU523
 1766 005a 38BD     		pop	{r3, r4, r5, pc}
 1767              	.LVL151:
 1768              	.L127:
 185:arch/armv7m/kernel/src/ksch.c **** 	return (err);
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 71


 1769              		.loc 1 185 2 discriminator 1 view .LVU524
 1770 005c 0020     		movs	r0, #0
 1771 005e FFF7FEFF 		bl	kErrHandler
 1772              	.LVL152:
 185:arch/armv7m/kernel/src/ksch.c **** 	return (err);
 1773              		.loc 1 185 2 discriminator 1 view .LVU525
 1774 0062 6FF06300 		mvn	r0, #99
 1775 0066 F8E7     		b	.L119
 1776              		.cfi_endproc
 1777              	.LFE60:
 1779              		.section	.text.kYield,"ax",%progbits
 1780              		.align	1
 1781              		.global	kYield
 1782              		.syntax unified
 1783              		.thumb
 1784              		.thumb_func
 1786              	kYield:
 1787              	.LFB54:
  54:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_AREA
 1788              		.loc 1 54 1 is_stmt 1 view -0
 1789              		.cfi_startproc
 1790              		@ args = 0, pretend = 0, frame = 0
 1791              		@ frame_needed = 0, uses_anonymous_args = 0
 1792 0000 10B5     		push	{r4, lr}
 1793              		.cfi_def_cfa_offset 8
 1794              		.cfi_offset 4, -8
 1795              		.cfi_offset 14, -4
  55:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_ENTER
 1796              		.loc 1 55 2 view .LVU527
  56:arch/armv7m/kernel/src/ksch.c **** 	kReadyRunningTask_();
 1797              		.loc 1 56 2 view .LVU528
 1798 0002 FFF7FEFF 		bl	kEnterCR
 1799              	.LVL153:
 1800 0006 0446     		mov	r4, r0
 1801              	.LVL154:
  57:arch/armv7m/kernel/src/ksch.c **** 	RK_PEND_CTXTSWTCH
 1802              		.loc 1 57 2 view .LVU529
 1803 0008 FFF7FEFF 		bl	kReadyRunningTask_
 1804              	.LVL155:
  58:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_EXIT
 1805              		.loc 1 58 2 view .LVU530
 1806 000c 064A     		ldr	r2, .L132
 1807 000e 5368     		ldr	r3, [r2, #4]
 1808 0010 43F08053 		orr	r3, r3, #268435456
 1809 0014 5360     		str	r3, [r2, #4]
  58:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_EXIT
 1810              		.loc 1 58 2 view .LVU531
 1811              		.syntax unified
 1812              	@ 58 "arch/armv7m/kernel/src/ksch.c" 1
 1813 0016 BFF34F8F 		dsb 0xF
 1814              	@ 0 "" 2
  58:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_EXIT
 1815              		.loc 1 58 2 view .LVU532
 1816              	@ 58 "arch/armv7m/kernel/src/ksch.c" 1
 1817 001a BFF36F8F 		isb 0xF
 1818              	@ 0 "" 2
  59:arch/armv7m/kernel/src/ksch.c **** 
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 72


 1819              		.loc 1 59 2 view .LVU533
 1820              		.thumb
 1821              		.syntax unified
 1822 001e 2046     		mov	r0, r4
 1823 0020 FFF7FEFF 		bl	kExitCR
 1824              	.LVL156:
  61:arch/armv7m/kernel/src/ksch.c **** 
 1825              		.loc 1 61 1 is_stmt 0 view .LVU534
 1826 0024 10BD     		pop	{r4, pc}
 1827              	.LVL157:
 1828              	.L133:
  61:arch/armv7m/kernel/src/ksch.c **** 
 1829              		.loc 1 61 1 view .LVU535
 1830 0026 00BF     		.align	2
 1831              	.L132:
 1832 0028 00ED00E0 		.word	-536810240
 1833              		.cfi_endproc
 1834              	.LFE54:
 1836              		.section	.text.kReadyCtxtSwtch,"ax",%progbits
 1837              		.align	1
 1838              		.global	kReadyCtxtSwtch
 1839              		.syntax unified
 1840              		.thumb
 1841              		.thumb_func
 1843              	kReadyCtxtSwtch:
 1844              	.LVL158:
 1845              	.LFB61:
 192:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_AREA
 1846              		.loc 1 192 1 is_stmt 1 view -0
 1847              		.cfi_startproc
 1848              		@ args = 0, pretend = 0, frame = 0
 1849              		@ frame_needed = 0, uses_anonymous_args = 0
 192:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_AREA
 1850              		.loc 1 192 1 is_stmt 0 view .LVU537
 1851 0000 38B5     		push	{r3, r4, r5, lr}
 1852              		.cfi_def_cfa_offset 16
 1853              		.cfi_offset 3, -16
 1854              		.cfi_offset 4, -12
 1855              		.cfi_offset 5, -8
 1856              		.cfi_offset 14, -4
 1857 0002 0446     		mov	r4, r0
 193:arch/armv7m/kernel/src/ksch.c **** 	RK_CR_ENTER
 1858              		.loc 1 193 2 is_stmt 1 view .LVU538
 194:arch/armv7m/kernel/src/ksch.c **** 	if (RK_IS_NULL_PTR( tcbPtr))
 1859              		.loc 1 194 2 view .LVU539
 1860 0004 FFF7FEFF 		bl	kEnterCR
 1861              	.LVL159:
 194:arch/armv7m/kernel/src/ksch.c **** 	if (RK_IS_NULL_PTR( tcbPtr))
 1862              		.loc 1 194 2 is_stmt 0 view .LVU540
 1863 0008 0546     		mov	r5, r0
 1864              	.LVL160:
 195:arch/armv7m/kernel/src/ksch.c **** 	{
 1865              		.loc 1 195 2 is_stmt 1 view .LVU541
 195:arch/armv7m/kernel/src/ksch.c **** 	{
 1866              		.loc 1 195 5 is_stmt 0 view .LVU542
 1867 000a ACB1     		cbz	r4, .L140
 201:arch/armv7m/kernel/src/ksch.c **** 	{
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 73


 1868              		.loc 1 201 2 is_stmt 1 view .LVU543
 201:arch/armv7m/kernel/src/ksch.c **** 	{
 1869              		.loc 1 201 34 is_stmt 0 view .LVU544
 1870 000c 637F     		ldrb	r3, [r4, #29]	@ zero_extendqisi2
 201:arch/armv7m/kernel/src/ksch.c **** 	{
 1871              		.loc 1 201 16 view .LVU545
 1872 000e 03EB8303 		add	r3, r3, r3, lsl #2
 201:arch/armv7m/kernel/src/ksch.c **** 	{
 1873              		.loc 1 201 6 view .LVU546
 1874 0012 2146     		mov	r1, r4
 1875 0014 1C48     		ldr	r0, .L143
 1876              	.LVL161:
 201:arch/armv7m/kernel/src/ksch.c **** 	{
 1877              		.loc 1 201 6 view .LVU547
 1878 0016 00EB8300 		add	r0, r0, r3, lsl #2
 1879 001a FFF7FEFF 		bl	kTCBQEnq
 1880              	.LVL162:
 201:arch/armv7m/kernel/src/ksch.c **** 	{
 1881              		.loc 1 201 5 view .LVU548
 1882 001e 30B9     		cbnz	r0, .L137
 203:arch/armv7m/kernel/src/ksch.c **** #ifdef INSTANT_PREEMPT_LOWER_PRIO
 1883              		.loc 1 203 3 is_stmt 1 view .LVU549
 203:arch/armv7m/kernel/src/ksch.c **** #ifdef INSTANT_PREEMPT_LOWER_PRIO
 1884              		.loc 1 203 18 is_stmt 0 view .LVU550
 1885 0020 1023     		movs	r3, #16
 1886 0022 6360     		str	r3, [r4, #4]
 205:arch/armv7m/kernel/src/ksch.c **** 		{
 1887              		.loc 1 205 3 is_stmt 1 view .LVU551
 205:arch/armv7m/kernel/src/ksch.c **** 		{
 1888              		.loc 1 205 7 is_stmt 0 view .LVU552
 1889 0024 627F     		ldrb	r2, [r4, #29]	@ zero_extendqisi2
 1890 0026 194B     		ldr	r3, .L143+4
 1891 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 205:arch/armv7m/kernel/src/ksch.c **** 		{
 1892              		.loc 1 205 6 view .LVU553
 1893 002a 9A42     		cmp	r2, r3
 1894 002c 0ED3     		bcc	.L141
 1895              	.L137:
 213:arch/armv7m/kernel/src/ksch.c **** 	return (RK_SUCCESS);
 1896              		.loc 1 213 2 is_stmt 1 view .LVU554
 1897 002e 2846     		mov	r0, r5
 1898 0030 FFF7FEFF 		bl	kExitCR
 1899              	.LVL163:
 214:arch/armv7m/kernel/src/ksch.c **** }
 1900              		.loc 1 214 2 view .LVU555
 214:arch/armv7m/kernel/src/ksch.c **** }
 1901              		.loc 1 214 9 is_stmt 0 view .LVU556
 1902 0034 0020     		movs	r0, #0
 1903              	.L134:
 215:arch/armv7m/kernel/src/ksch.c **** 
 1904              		.loc 1 215 1 view .LVU557
 1905 0036 38BD     		pop	{r3, r4, r5, pc}
 1906              	.LVL164:
 1907              	.L140:
 197:arch/armv7m/kernel/src/ksch.c **** 		RK_CR_EXIT
 1908              		.loc 1 197 3 is_stmt 1 view .LVU558
 1909 0038 6FF06300 		mvn	r0, #99
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 74


 1910              	.LVL165:
 197:arch/armv7m/kernel/src/ksch.c **** 		RK_CR_EXIT
 1911              		.loc 1 197 3 is_stmt 0 view .LVU559
 1912 003c FFF7FEFF 		bl	kErrHandler
 1913              	.LVL166:
 198:arch/armv7m/kernel/src/ksch.c **** 		return (RK_ERR_OBJ_NULL);
 1914              		.loc 1 198 3 is_stmt 1 view .LVU560
 1915 0040 2846     		mov	r0, r5
 1916 0042 FFF7FEFF 		bl	kExitCR
 1917              	.LVL167:
 199:arch/armv7m/kernel/src/ksch.c **** 	}
 1918              		.loc 1 199 3 view .LVU561
 199:arch/armv7m/kernel/src/ksch.c **** 	}
 1919              		.loc 1 199 10 is_stmt 0 view .LVU562
 1920 0046 6FF06300 		mvn	r0, #99
 1921 004a F4E7     		b	.L134
 1922              	.L141:
 207:arch/armv7m/kernel/src/ksch.c **** 			runPtr->status = RK_READY;
 1923              		.loc 1 207 4 is_stmt 1 view .LVU563
 1924 004c 104B     		ldr	r3, .L143+8
 1925 004e 1968     		ldr	r1, [r3]
 1926 0050 487F     		ldrb	r0, [r1, #29]	@ zero_extendqisi2
 1927 0052 00EB8000 		add	r0, r0, r0, lsl #2
 1928 0056 0C4B     		ldr	r3, .L143
 1929 0058 03EB8000 		add	r0, r3, r0, lsl #2
 1930 005c FFF7FEFF 		bl	kTCBQEnq
 1931              	.LVL168:
 1932 0060 68B9     		cbnz	r0, .L142
 1933              	.L138:
 208:arch/armv7m/kernel/src/ksch.c **** 			RK_PEND_CTXTSWTCH
 1934              		.loc 1 208 4 view .LVU564
 208:arch/armv7m/kernel/src/ksch.c **** 			RK_PEND_CTXTSWTCH
 1935              		.loc 1 208 10 is_stmt 0 view .LVU565
 1936 0062 0B4B     		ldr	r3, .L143+8
 1937 0064 1B68     		ldr	r3, [r3]
 208:arch/armv7m/kernel/src/ksch.c **** 			RK_PEND_CTXTSWTCH
 1938              		.loc 1 208 19 view .LVU566
 1939 0066 1022     		movs	r2, #16
 1940 0068 5A60     		str	r2, [r3, #4]
 209:arch/armv7m/kernel/src/ksch.c **** 		}
 1941              		.loc 1 209 4 is_stmt 1 view .LVU567
 1942 006a 0A4A     		ldr	r2, .L143+12
 1943 006c 5368     		ldr	r3, [r2, #4]
 1944 006e 43F08053 		orr	r3, r3, #268435456
 1945 0072 5360     		str	r3, [r2, #4]
 209:arch/armv7m/kernel/src/ksch.c **** 		}
 1946              		.loc 1 209 4 view .LVU568
 1947              		.syntax unified
 1948              	@ 209 "arch/armv7m/kernel/src/ksch.c" 1
 1949 0074 BFF34F8F 		dsb 0xF
 1950              	@ 0 "" 2
 209:arch/armv7m/kernel/src/ksch.c **** 		}
 1951              		.loc 1 209 4 view .LVU569
 1952              	@ 209 "arch/armv7m/kernel/src/ksch.c" 1
 1953 0078 BFF36F8F 		isb 0xF
 1954              	@ 0 "" 2
 1955              		.thumb
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 75


 1956              		.syntax unified
 1957 007c D7E7     		b	.L137
 1958              	.L142:
 207:arch/armv7m/kernel/src/ksch.c **** 			runPtr->status = RK_READY;
 1959              		.loc 1 207 4 is_stmt 0 discriminator 1 view .LVU570
 1960 007e 0020     		movs	r0, #0
 1961 0080 FFF7FEFF 		bl	kErrHandler
 1962              	.LVL169:
 1963 0084 EDE7     		b	.L138
 1964              	.L144:
 1965 0086 00BF     		.align	2
 1966              	.L143:
 1967 0088 00000000 		.word	readyQueue
 1968 008c 00000000 		.word	nextTaskPrio
 1969 0090 00000000 		.word	runPtr
 1970 0094 00ED00E0 		.word	-536810240
 1971              		.cfi_endproc
 1972              	.LFE61:
 1974              		.section	.text.kInit,"ax",%progbits
 1975              		.align	1
 1976              		.global	kInit
 1977              		.syntax unified
 1978              		.thumb
 1979              		.thumb_func
 1981              	kInit:
 1982              	.LFB70:
 429:arch/armv7m/kernel/src/ksch.c **** 
 1983              		.loc 1 429 1 is_stmt 1 view -0
 1984              		.cfi_startproc
 1985              		@ args = 0, pretend = 0, frame = 0
 1986              		@ frame_needed = 0, uses_anonymous_args = 0
 1987 0000 10B5     		push	{r4, lr}
 1988              		.cfi_def_cfa_offset 8
 1989              		.cfi_offset 4, -8
 1990              		.cfi_offset 14, -4
 431:arch/armv7m/kernel/src/ksch.c **** 	if (version != RK_VALID_VERSION)
 1991              		.loc 1 431 2 view .LVU572
 431:arch/armv7m/kernel/src/ksch.c **** 	if (version != RK_VALID_VERSION)
 1992              		.loc 1 431 12 is_stmt 0 view .LVU573
 1993 0002 FFF7FEFF 		bl	kGetVersion
 1994              	.LVL170:
 431:arch/armv7m/kernel/src/ksch.c **** 	if (version != RK_VALID_VERSION)
 1995              		.loc 1 431 10 view .LVU574
 1996 0006 2D49     		ldr	r1, .L160
 1997 0008 0860     		str	r0, [r1]
 432:arch/armv7m/kernel/src/ksch.c **** 		kErrHandler( RK_FAULT_KERNEL_VERSION);
 1998              		.loc 1 432 2 is_stmt 1 view .LVU575
 432:arch/armv7m/kernel/src/ksch.c **** 		kErrHandler( RK_FAULT_KERNEL_VERSION);
 1999              		.loc 1 432 17 is_stmt 0 view .LVU576
 2000 000a 2D4A     		ldr	r2, .L160+4
 2001 000c 1078     		ldrb	r0, [r2]	@ zero_extendqisi2
 2002 000e 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 2003 0010 1B02     		lsls	r3, r3, #8
 2004 0012 43EA0043 		orr	r3, r3, r0, lsl #16
 2005 0016 9278     		ldrb	r2, [r2, #2]	@ zero_extendqisi2
 2006 0018 1343     		orrs	r3, r3, r2
 432:arch/armv7m/kernel/src/ksch.c **** 		kErrHandler( RK_FAULT_KERNEL_VERSION);
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 76


 2007              		.loc 1 432 14 view .LVU577
 2008 001a 0A68     		ldr	r2, [r1]
 432:arch/armv7m/kernel/src/ksch.c **** 		kErrHandler( RK_FAULT_KERNEL_VERSION);
 2009              		.loc 1 432 5 view .LVU578
 2010 001c 9342     		cmp	r3, r2
 2011 001e 09D1     		bne	.L156
 2012              	.L146:
 434:arch/armv7m/kernel/src/ksch.c **** 	kInitRunTime_();
 2013              		.loc 1 434 2 is_stmt 1 view .LVU579
 2014 0020 FFF7FEFF 		bl	kInitQueues_
 2015              	.LVL171:
 435:arch/armv7m/kernel/src/ksch.c **** 	highestPrio = tcbs[0].priority;
 2016              		.loc 1 435 2 view .LVU580
 2017 0024 FFF7FEFF 		bl	kInitRunTime_
 2018              	.LVL172:
 436:arch/armv7m/kernel/src/ksch.c **** 	for (ULONG i = 0; i < RK_NTHREADS; i++)
 2019              		.loc 1 436 2 view .LVU581
 436:arch/armv7m/kernel/src/ksch.c **** 	for (ULONG i = 0; i < RK_NTHREADS; i++)
 2020              		.loc 1 436 23 is_stmt 0 view .LVU582
 2021 0028 264B     		ldr	r3, .L160+8
 2022 002a 5A7F     		ldrb	r2, [r3, #29]	@ zero_extendqisi2
 436:arch/armv7m/kernel/src/ksch.c **** 	for (ULONG i = 0; i < RK_NTHREADS; i++)
 2023              		.loc 1 436 14 view .LVU583
 2024 002c 264B     		ldr	r3, .L160+12
 2025 002e 1A70     		strb	r2, [r3]
 437:arch/armv7m/kernel/src/ksch.c **** 	{
 2026              		.loc 1 437 2 is_stmt 1 view .LVU584
 2027              	.LBB61:
 437:arch/armv7m/kernel/src/ksch.c **** 	{
 2028              		.loc 1 437 7 view .LVU585
 2029              	.LVL173:
 437:arch/armv7m/kernel/src/ksch.c **** 	{
 2030              		.loc 1 437 13 is_stmt 0 view .LVU586
 2031 0030 0023     		movs	r3, #0
 437:arch/armv7m/kernel/src/ksch.c **** 	{
 2032              		.loc 1 437 2 view .LVU587
 2033 0032 05E0     		b	.L147
 2034              	.LVL174:
 2035              	.L156:
 437:arch/armv7m/kernel/src/ksch.c **** 	{
 2036              		.loc 1 437 2 view .LVU588
 2037              	.LBE61:
 433:arch/armv7m/kernel/src/ksch.c **** 	kInitQueues_();
 2038              		.loc 1 433 3 is_stmt 1 view .LVU589
 2039 0034 6FF06A00 		mvn	r0, #106
 2040 0038 FFF7FEFF 		bl	kErrHandler
 2041              	.LVL175:
 2042 003c F0E7     		b	.L146
 2043              	.LVL176:
 2044              	.L148:
 2045              	.LBB62:
 437:arch/armv7m/kernel/src/ksch.c **** 	{
 2046              		.loc 1 437 38 discriminator 2 view .LVU590
 2047 003e 0133     		adds	r3, r3, #1
 2048              	.LVL177:
 2049              	.L147:
 437:arch/armv7m/kernel/src/ksch.c **** 	{
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 77


 2050              		.loc 1 437 22 discriminator 1 view .LVU591
 2051 0040 042B     		cmp	r3, #4
 2052 0042 0BD8     		bhi	.L157
 439:arch/armv7m/kernel/src/ksch.c **** 		{
 2053              		.loc 1 439 3 view .LVU592
 439:arch/armv7m/kernel/src/ksch.c **** 		{
 2054              		.loc 1 439 14 is_stmt 0 view .LVU593
 2055 0044 1F4A     		ldr	r2, .L160+8
 2056 0046 6421     		movs	r1, #100
 2057 0048 01FB0322 		mla	r2, r1, r3, r2
 2058 004c 527F     		ldrb	r2, [r2, #29]	@ zero_extendqisi2
 439:arch/armv7m/kernel/src/ksch.c **** 		{
 2059              		.loc 1 439 24 view .LVU594
 2060 004e 1E49     		ldr	r1, .L160+12
 2061 0050 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 439:arch/armv7m/kernel/src/ksch.c **** 		{
 2062              		.loc 1 439 6 view .LVU595
 2063 0052 8A42     		cmp	r2, r1
 2064 0054 F3D2     		bcs	.L148
 441:arch/armv7m/kernel/src/ksch.c **** 		}
 2065              		.loc 1 441 4 is_stmt 1 view .LVU596
 441:arch/armv7m/kernel/src/ksch.c **** 		}
 2066              		.loc 1 441 16 is_stmt 0 view .LVU597
 2067 0056 1C49     		ldr	r1, .L160+12
 2068 0058 0A70     		strb	r2, [r1]
 2069 005a F0E7     		b	.L148
 2070              	.L157:
 2071              	.LBE62:
 2072              	.LBB63:
 445:arch/armv7m/kernel/src/ksch.c **** 	{
 2073              		.loc 1 445 13 view .LVU598
 2074 005c 0024     		movs	r4, #0
 2075 005e 0CE0     		b	.L150
 2076              	.LVL178:
 2077              	.L151:
 447:arch/armv7m/kernel/src/ksch.c **** 	}
 2078              		.loc 1 447 3 is_stmt 1 discriminator 3 view .LVU599
 447:arch/armv7m/kernel/src/ksch.c **** 	}
 2079              		.loc 1 447 32 is_stmt 0 discriminator 3 view .LVU600
 2080 0060 1849     		ldr	r1, .L160+8
 2081 0062 6423     		movs	r3, #100
 2082 0064 03FB0411 		mla	r1, r3, r4, r1
 2083 0068 487F     		ldrb	r0, [r1, #29]	@ zero_extendqisi2
 447:arch/armv7m/kernel/src/ksch.c **** 	}
 2084              		.loc 1 447 13 discriminator 3 view .LVU601
 2085 006a 00EB8000 		add	r0, r0, r0, lsl #2
 447:arch/armv7m/kernel/src/ksch.c **** 	}
 2086              		.loc 1 447 3 discriminator 3 view .LVU602
 2087 006e 174B     		ldr	r3, .L160+16
 2088 0070 03EB8000 		add	r0, r3, r0, lsl #2
 2089 0074 FFF7FEFF 		bl	kTCBQEnq
 2090              	.LVL179:
 445:arch/armv7m/kernel/src/ksch.c **** 	{
 2091              		.loc 1 445 38 is_stmt 1 discriminator 3 view .LVU603
 2092 0078 0134     		adds	r4, r4, #1
 2093              	.LVL180:
 2094              	.L150:
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 78


 445:arch/armv7m/kernel/src/ksch.c **** 	{
 2095              		.loc 1 445 22 discriminator 1 view .LVU604
 2096 007a 042C     		cmp	r4, #4
 2097 007c F0D9     		bls	.L151
 2098              	.LBE63:
 450:arch/armv7m/kernel/src/ksch.c **** 	kassert( runPtr->status == RK_READY);
 2099              		.loc 1 450 2 view .LVU605
 2100 007e 144C     		ldr	r4, .L160+20
 2101              	.LVL181:
 450:arch/armv7m/kernel/src/ksch.c **** 	kassert( runPtr->status == RK_READY);
 2102              		.loc 1 450 2 is_stmt 0 view .LVU606
 2103 0080 114B     		ldr	r3, .L160+12
 2104 0082 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 2105 0084 2046     		mov	r0, r4
 2106 0086 FFF7FEFF 		bl	kReadyQDeq
 2107              	.LVL182:
 451:arch/armv7m/kernel/src/ksch.c **** 	kassert( tcbs[RK_IDLETASK_ID].priority == lowestPrio+1);
 2108              		.loc 1 451 2 is_stmt 1 view .LVU607
 2109 008a 2368     		ldr	r3, [r4]
 2110 008c 5B68     		ldr	r3, [r3, #4]
 2111 008e 102B     		cmp	r3, #16
 2112 0090 0CD1     		bne	.L158
 2113              	.L152:
 452:arch/armv7m/kernel/src/ksch.c **** 	kApplicationInit();
 2114              		.loc 1 452 2 view .LVU608
 2115 0092 0C4B     		ldr	r3, .L160+8
 2116 0094 5B7F     		ldrb	r3, [r3, #29]	@ zero_extendqisi2
 2117 0096 022B     		cmp	r3, #2
 2118 0098 0CD1     		bne	.L159
 2119              	.L153:
 453:arch/armv7m/kernel/src/ksch.c **** 	_RK_DSB
 2120              		.loc 1 453 2 view .LVU609
 2121 009a FFF7FEFF 		bl	kApplicationInit
 2122              	.LVL183:
 454:arch/armv7m/kernel/src/ksch.c **** 	__enable_irq();
 2123              		.loc 1 454 2 view .LVU610
 2124              		.syntax unified
 2125              	@ 454 "arch/armv7m/kernel/src/ksch.c" 1
 2126 009e BFF34F8F 		dsb 0xF
 2127              	@ 0 "" 2
 455:arch/armv7m/kernel/src/ksch.c **** 	_RK_ISB
 2128              		.loc 1 455 2 view .LVU611
 2129              		.thumb
 2130              		.syntax unified
 2131              	.LBB64:
 2132              	.LBI64:
 949:core/inc/cmsis_gcc.h **** {
 2133              		.loc 3 949 27 view .LVU612
 2134              	.LBB65:
 951:core/inc/cmsis_gcc.h **** }
 2135              		.loc 3 951 3 view .LVU613
 2136              		.syntax unified
 2137              	@ 951 "core/inc/cmsis_gcc.h" 1
 2138 00a2 62B6     		cpsie i
 2139              	@ 0 "" 2
 2140              		.thumb
 2141              		.syntax unified
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 79


 2142              	.LBE65:
 2143              	.LBE64:
 456:arch/armv7m/kernel/src/ksch.c **** 	/* calls low-level scheduler for start-up */
 2144              		.loc 1 456 2 view .LVU614
 2145              		.syntax unified
 2146              	@ 456 "arch/armv7m/kernel/src/ksch.c" 1
 2147 00a4 BFF36F8F 		isb 0xF
 2148              	@ 0 "" 2
 458:arch/armv7m/kernel/src/ksch.c **** 	while (1)
 2149              		.loc 1 458 2 view .LVU615
 2150              	@ 458 "arch/armv7m/kernel/src/ksch.c" 1
 2151 00a8 AADF     		svc #0xAA
 2152              	@ 0 "" 2
 2153              		.thumb
 2154              		.syntax unified
 2155              	.L154:
 459:arch/armv7m/kernel/src/ksch.c **** 		;
 2156              		.loc 1 459 2 discriminator 1 view .LVU616
 459:arch/armv7m/kernel/src/ksch.c **** 		;
 2157              		.loc 1 459 8 discriminator 1 view .LVU617
 2158 00aa FEE7     		b	.L154
 2159              	.L158:
 451:arch/armv7m/kernel/src/ksch.c **** 	kassert( tcbs[RK_IDLETASK_ID].priority == lowestPrio+1);
 2160              		.loc 1 451 2 is_stmt 0 discriminator 1 view .LVU618
 2161 00ac 0020     		movs	r0, #0
 2162 00ae FFF7FEFF 		bl	kErrHandler
 2163              	.LVL184:
 2164 00b2 EEE7     		b	.L152
 2165              	.L159:
 452:arch/armv7m/kernel/src/ksch.c **** 	kApplicationInit();
 2166              		.loc 1 452 2 discriminator 1 view .LVU619
 2167 00b4 0020     		movs	r0, #0
 2168 00b6 FFF7FEFF 		bl	kErrHandler
 2169              	.LVL185:
 2170 00ba EEE7     		b	.L153
 2171              	.L161:
 2172              		.align	2
 2173              	.L160:
 2174 00bc 00000000 		.word	version
 2175 00c0 00000000 		.word	KVERSION
 2176 00c4 00000000 		.word	tcbs
 2177 00c8 00000000 		.word	highestPrio
 2178 00cc 00000000 		.word	readyQueue
 2179 00d0 00000000 		.word	runPtr
 2180              		.cfi_endproc
 2181              	.LFE70:
 2183              		.section	.text.kSchSwtch,"ax",%progbits
 2184              		.align	1
 2185              		.global	kSchSwtch
 2186              		.syntax unified
 2187              		.thumb
 2188              		.thumb_func
 2190              	kSchSwtch:
 2191              	.LFB72:
 480:arch/armv7m/kernel/src/ksch.c **** 
 2192              		.loc 1 480 1 is_stmt 1 view -0
 2193              		.cfi_startproc
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 80


 2194              		@ args = 0, pretend = 0, frame = 8
 2195              		@ frame_needed = 0, uses_anonymous_args = 0
 2196 0000 10B5     		push	{r4, lr}
 2197              		.cfi_def_cfa_offset 8
 2198              		.cfi_offset 4, -8
 2199              		.cfi_offset 14, -4
 2200 0002 82B0     		sub	sp, sp, #8
 2201              		.cfi_def_cfa_offset 16
 482:arch/armv7m/kernel/src/ksch.c **** 	RK_TCB *prevRunPtr = runPtr;
 2202              		.loc 1 482 2 view .LVU621
 482:arch/armv7m/kernel/src/ksch.c **** 	RK_TCB *prevRunPtr = runPtr;
 2203              		.loc 1 482 10 is_stmt 0 view .LVU622
 2204 0004 0023     		movs	r3, #0
 2205 0006 0193     		str	r3, [sp, #4]
 483:arch/armv7m/kernel/src/ksch.c **** 	if (runPtr->status == RK_RUNNING)
 2206              		.loc 1 483 2 is_stmt 1 view .LVU623
 483:arch/armv7m/kernel/src/ksch.c **** 	if (runPtr->status == RK_RUNNING)
 2207              		.loc 1 483 10 is_stmt 0 view .LVU624
 2208 0008 154B     		ldr	r3, .L169
 2209 000a 1C68     		ldr	r4, [r3]
 2210              	.LVL186:
 484:arch/armv7m/kernel/src/ksch.c **** 	{
 2211              		.loc 1 484 2 is_stmt 1 view .LVU625
 484:arch/armv7m/kernel/src/ksch.c **** 	{
 2212              		.loc 1 484 12 is_stmt 0 view .LVU626
 2213 000c 6368     		ldr	r3, [r4, #4]
 484:arch/armv7m/kernel/src/ksch.c **** 	{
 2214              		.loc 1 484 5 view .LVU627
 2215 000e 202B     		cmp	r3, #32
 2216 0010 1DD0     		beq	.L167
 2217              	.L163:
 489:arch/armv7m/kernel/src/ksch.c **** 	kTCBQDeq( &readyQueue[nextTaskPrio], &nextRunPtr);
 2218              		.loc 1 489 2 is_stmt 1 view .LVU628
 489:arch/armv7m/kernel/src/ksch.c **** 	kTCBQDeq( &readyQueue[nextTaskPrio], &nextRunPtr);
 2219              		.loc 1 489 17 is_stmt 0 view .LVU629
 2220 0012 FFF7FEFF 		bl	kCalcNextTaskPrio_
 2221              	.LVL187:
 489:arch/armv7m/kernel/src/ksch.c **** 	kTCBQDeq( &readyQueue[nextTaskPrio], &nextRunPtr);
 2222              		.loc 1 489 15 view .LVU630
 2223 0016 134B     		ldr	r3, .L169+4
 2224 0018 1870     		strb	r0, [r3]
 490:arch/armv7m/kernel/src/ksch.c **** 	if (nextRunPtr == NULL)
 2225              		.loc 1 490 2 is_stmt 1 view .LVU631
 2226 001a 00EB8000 		add	r0, r0, r0, lsl #2
 2227 001e 01A9     		add	r1, sp, #4
 2228 0020 114B     		ldr	r3, .L169+8
 2229 0022 03EB8000 		add	r0, r3, r0, lsl #2
 2230 0026 FFF7FEFF 		bl	kTCBQDeq
 2231              	.LVL188:
 491:arch/armv7m/kernel/src/ksch.c **** 	{
 2232              		.loc 1 491 2 view .LVU632
 491:arch/armv7m/kernel/src/ksch.c **** 	{
 2233              		.loc 1 491 17 is_stmt 0 view .LVU633
 2234 002a 019B     		ldr	r3, [sp, #4]
 491:arch/armv7m/kernel/src/ksch.c **** 	{
 2235              		.loc 1 491 5 view .LVU634
 2236 002c 93B1     		cbz	r3, .L168
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 81


 2237              	.L164:
 495:arch/armv7m/kernel/src/ksch.c **** 	if (nextRunPtr->pid != prevRunPtr->pid)
 2238              		.loc 1 495 2 is_stmt 1 view .LVU635
 495:arch/armv7m/kernel/src/ksch.c **** 	if (nextRunPtr->pid != prevRunPtr->pid)
 2239              		.loc 1 495 9 is_stmt 0 view .LVU636
 2240 002e 019B     		ldr	r3, [sp, #4]
 2241 0030 0B4A     		ldr	r2, .L169
 2242 0032 1360     		str	r3, [r2]
 496:arch/armv7m/kernel/src/ksch.c **** 	{
 2243              		.loc 1 496 2 is_stmt 1 view .LVU637
 496:arch/armv7m/kernel/src/ksch.c **** 	{
 2244              		.loc 1 496 16 is_stmt 0 view .LVU638
 2245 0034 1A7F     		ldrb	r2, [r3, #28]	@ zero_extendqisi2
 496:arch/armv7m/kernel/src/ksch.c **** 	{
 2246              		.loc 1 496 35 view .LVU639
 2247 0036 217F     		ldrb	r1, [r4, #28]	@ zero_extendqisi2
 496:arch/armv7m/kernel/src/ksch.c **** 	{
 2248              		.loc 1 496 5 view .LVU640
 2249 0038 8A42     		cmp	r2, r1
 2250 003a 04D0     		beq	.L165
 498:arch/armv7m/kernel/src/ksch.c **** 		prevRunPtr->preemptedBy = runPtr->pid;
 2251              		.loc 1 498 3 is_stmt 1 view .LVU641
 498:arch/armv7m/kernel/src/ksch.c **** 		prevRunPtr->preemptedBy = runPtr->pid;
 2252              		.loc 1 498 9 is_stmt 0 view .LVU642
 2253 003c D96B     		ldr	r1, [r3, #60]
 498:arch/armv7m/kernel/src/ksch.c **** 		prevRunPtr->preemptedBy = runPtr->pid;
 2254              		.loc 1 498 22 view .LVU643
 2255 003e 0131     		adds	r1, r1, #1
 2256 0040 D963     		str	r1, [r3, #60]
 499:arch/armv7m/kernel/src/ksch.c **** 	}
 2257              		.loc 1 499 3 is_stmt 1 view .LVU644
 499:arch/armv7m/kernel/src/ksch.c **** 	}
 2258              		.loc 1 499 27 is_stmt 0 view .LVU645
 2259 0042 84F84020 		strb	r2, [r4, #64]
 2260              	.L165:
 501:arch/armv7m/kernel/src/ksch.c **** }
 2261              		.loc 1 501 2 is_stmt 1 view .LVU646
 2262              		.syntax unified
 2263              	@ 501 "arch/armv7m/kernel/src/ksch.c" 1
 2264 0046 BFF34F8F 		dsb 0xF
 2265              	@ 0 "" 2
 502:arch/armv7m/kernel/src/ksch.c **** 
 2266              		.loc 1 502 1 is_stmt 0 view .LVU647
 2267              		.thumb
 2268              		.syntax unified
 2269 004a 02B0     		add	sp, sp, #8
 2270              		.cfi_remember_state
 2271              		.cfi_def_cfa_offset 8
 2272              		@ sp needed
 2273 004c 10BD     		pop	{r4, pc}
 2274              	.LVL189:
 2275              	.L167:
 2276              		.cfi_restore_state
 487:arch/armv7m/kernel/src/ksch.c **** 	}
 2277              		.loc 1 487 3 is_stmt 1 view .LVU648
 2278 004e FFF7FEFF 		bl	kReadyRunningTask_
 2279              	.LVL190:
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 82


 2280 0052 DEE7     		b	.L163
 2281              	.L168:
 493:arch/armv7m/kernel/src/ksch.c **** 	}
 2282              		.loc 1 493 3 view .LVU649
 2283 0054 6FF06300 		mvn	r0, #99
 2284 0058 FFF7FEFF 		bl	kErrHandler
 2285              	.LVL191:
 2286 005c E7E7     		b	.L164
 2287              	.L170:
 2288 005e 00BF     		.align	2
 2289              	.L169:
 2290 0060 00000000 		.word	runPtr
 2291 0064 00000000 		.word	nextTaskPrio
 2292 0068 00000000 		.word	readyQueue
 2293              		.cfi_endproc
 2294              	.LFE72:
 2296              		.section	.text.kTickHandler,"ax",%progbits
 2297              		.align	1
 2298              		.global	kTickHandler
 2299              		.syntax unified
 2300              		.thumb
 2301              		.thumb_func
 2303              	kTickHandler:
 2304              	.LFB74:
 521:arch/armv7m/kernel/src/ksch.c **** 
 522:arch/armv7m/kernel/src/ksch.c **** #if (RK_CONF_SCH_TSLICE == ON)
 523:arch/armv7m/kernel/src/ksch.c ****  static inline BOOL kIncTimeSlice_( VOID)
 524:arch/armv7m/kernel/src/ksch.c ****  {
 525:arch/armv7m/kernel/src/ksch.c ****      if ((runPtr->status == RK_RUNNING) && (runPtr->runToCompl == FALSE ) && \
 526:arch/armv7m/kernel/src/ksch.c ****              (runPtr->pid == RK_IDLETASK_ID))
 527:arch/armv7m/kernel/src/ksch.c ****      {
 528:arch/armv7m/kernel/src/ksch.c ****  
 529:arch/armv7m/kernel/src/ksch.c ****          runPtr->timeSliceCnt += 1UL;
 530:arch/armv7m/kernel/src/ksch.c ****          if (runPtr->busyWaitTime > 0)
 531:arch/armv7m/kernel/src/ksch.c ****          {
 532:arch/armv7m/kernel/src/ksch.c ****              runPtr->busyWaitTime -= 1U;
 533:arch/armv7m/kernel/src/ksch.c ****          }
 534:arch/armv7m/kernel/src/ksch.c ****          return (runPtr->timeSliceCnt == runPtr->timeSlice);
 535:arch/armv7m/kernel/src/ksch.c ****      }
 536:arch/armv7m/kernel/src/ksch.c ****      return (FALSE );
 537:arch/armv7m/kernel/src/ksch.c ****  }
 538:arch/armv7m/kernel/src/ksch.c ****  #endif
 539:arch/armv7m/kernel/src/ksch.c **** volatile RK_TIMEOUT_NODE *timeOutListHeadPtr = NULL;
 540:arch/armv7m/kernel/src/ksch.c **** volatile RK_TIMEOUT_NODE *timerListHeadPtr = NULL;
 541:arch/armv7m/kernel/src/ksch.c **** volatile RK_TIMER *headTimPtr;
 542:arch/armv7m/kernel/src/ksch.c **** volatile RK_TIMEOUT_NODE *timerListHeadPtrSaved = NULL;
 543:arch/armv7m/kernel/src/ksch.c **** 
 544:arch/armv7m/kernel/src/ksch.c **** BOOL kTickHandler( VOID)
 545:arch/armv7m/kernel/src/ksch.c **** {
 2305              		.loc 1 545 1 view -0
 2306              		.cfi_startproc
 2307              		@ args = 0, pretend = 0, frame = 0
 2308              		@ frame_needed = 0, uses_anonymous_args = 0
 2309 0000 38B5     		push	{r3, r4, r5, lr}
 2310              		.cfi_def_cfa_offset 16
 2311              		.cfi_offset 3, -16
 2312              		.cfi_offset 4, -12
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 83


 2313              		.cfi_offset 5, -8
 2314              		.cfi_offset 14, -4
 546:arch/armv7m/kernel/src/ksch.c **** 	/* return is short-circuit to !runToCompl & */
 547:arch/armv7m/kernel/src/ksch.c **** 	BOOL runToCompl = FALSE;
 2315              		.loc 1 547 2 view .LVU651
 2316              	.LVL192:
 548:arch/armv7m/kernel/src/ksch.c **** 	BOOL timeOutTask = FALSE;
 2317              		.loc 1 548 2 view .LVU652
 549:arch/armv7m/kernel/src/ksch.c **** 	BOOL ret = FALSE;
 2318              		.loc 1 549 2 view .LVU653
 550:arch/armv7m/kernel/src/ksch.c **** 
 551:arch/armv7m/kernel/src/ksch.c **** 	runTime.globalTick += 1U;
 2319              		.loc 1 551 2 view .LVU654
 2320              		.loc 1 551 9 is_stmt 0 view .LVU655
 2321 0002 344A     		ldr	r2, .L188
 2322 0004 1368     		ldr	r3, [r2]
 2323              		.loc 1 551 21 view .LVU656
 2324 0006 0133     		adds	r3, r3, #1
 2325 0008 1360     		str	r3, [r2]
 552:arch/armv7m/kernel/src/ksch.c **** 
 553:arch/armv7m/kernel/src/ksch.c **** #if (RK_CONF_SCH_TSLICE!=ON)
 554:arch/armv7m/kernel/src/ksch.c **** 	if (runPtr->busyWaitTime > 0)
 2326              		.loc 1 554 2 is_stmt 1 view .LVU657
 2327              		.loc 1 554 12 is_stmt 0 view .LVU658
 2328 000a 334A     		ldr	r2, .L188+4
 2329 000c 1168     		ldr	r1, [r2]
 2330 000e CA6A     		ldr	r2, [r1, #44]
 2331              		.loc 1 554 5 view .LVU659
 2332 0010 002A     		cmp	r2, #0
 2333 0012 01DD     		ble	.L172
 555:arch/armv7m/kernel/src/ksch.c **** 	{
 556:arch/armv7m/kernel/src/ksch.c **** 		runPtr->busyWaitTime -= 1U;
 2334              		.loc 1 556 3 is_stmt 1 view .LVU660
 2335              		.loc 1 556 24 is_stmt 0 view .LVU661
 2336 0014 013A     		subs	r2, r2, #1
 2337 0016 CA62     		str	r2, [r1, #44]
 2338              	.L172:
 557:arch/armv7m/kernel/src/ksch.c **** 	}
 558:arch/armv7m/kernel/src/ksch.c **** #endif
 559:arch/armv7m/kernel/src/ksch.c **** 	if (runTime.globalTick == RK_TICK_TYPE_MAX)
 2339              		.loc 1 559 2 is_stmt 1 view .LVU662
 2340              		.loc 1 559 5 is_stmt 0 view .LVU663
 2341 0018 6FF00042 		mvn	r2, #-2147483648
 2342 001c 9342     		cmp	r3, r2
 2343 001e 30D0     		beq	.L184
 2344              	.L173:
 560:arch/armv7m/kernel/src/ksch.c **** 	{
 561:arch/armv7m/kernel/src/ksch.c **** 		runTime.globalTick = 0U;
 562:arch/armv7m/kernel/src/ksch.c **** 		runTime.nWraps += 1U;
 563:arch/armv7m/kernel/src/ksch.c **** 	}
 564:arch/armv7m/kernel/src/ksch.c **** 
 565:arch/armv7m/kernel/src/ksch.c **** 	/* handle time out and sleeping list */
 566:arch/armv7m/kernel/src/ksch.c **** 	/* the list is not empty, decrement only the head  */
 567:arch/armv7m/kernel/src/ksch.c **** 	if (timeOutListHeadPtr != NULL)
 2345              		.loc 1 567 2 is_stmt 1 view .LVU664
 2346              		.loc 1 567 25 is_stmt 0 view .LVU665
 2347 0020 2E4B     		ldr	r3, .L188+8
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 84


 2348 0022 1B68     		ldr	r3, [r3]
 2349              		.loc 1 567 5 view .LVU666
 2350 0024 002B     		cmp	r3, #0
 2351 0026 33D0     		beq	.L180
 568:arch/armv7m/kernel/src/ksch.c **** 	{
 569:arch/armv7m/kernel/src/ksch.c **** 		timeOutTask = kHandleTimeoutList();
 2352              		.loc 1 569 3 is_stmt 1 view .LVU667
 2353              		.loc 1 569 17 is_stmt 0 view .LVU668
 2354 0028 FFF7FEFF 		bl	kHandleTimeoutList
 2355              	.LVL193:
 2356 002c 0446     		mov	r4, r0
 2357              	.LVL194:
 2358              	.L174:
 570:arch/armv7m/kernel/src/ksch.c **** 	}
 571:arch/armv7m/kernel/src/ksch.c **** 	/* a run-to-completion task is a first-class citizen not prone to tick
 572:arch/armv7m/kernel/src/ksch.c **** 	 truculence.*/
 573:arch/armv7m/kernel/src/ksch.c **** 	if (runPtr->runToCompl && (runPtr->status == RK_RUNNING)
 2359              		.loc 1 573 2 is_stmt 1 view .LVU669
 2360              		.loc 1 573 12 is_stmt 0 view .LVU670
 2361 002e 2A4B     		ldr	r3, .L188+4
 2362 0030 1B68     		ldr	r3, [r3]
 2363 0032 5D6B     		ldr	r5, [r3, #52]
 2364              		.loc 1 573 5 view .LVU671
 2365 0034 1DB1     		cbz	r5, .L175
 2366              		.loc 1 573 35 discriminator 1 view .LVU672
 2367 0036 5A68     		ldr	r2, [r3, #4]
 2368              		.loc 1 573 25 discriminator 1 view .LVU673
 2369 0038 202A     		cmp	r2, #32
 2370 003a 2BD0     		beq	.L185
 547:arch/armv7m/kernel/src/ksch.c **** 	BOOL timeOutTask = FALSE;
 2371              		.loc 1 547 7 view .LVU674
 2372 003c 0025     		movs	r5, #0
 2373              	.L175:
 2374              	.LVL195:
 574:arch/armv7m/kernel/src/ksch.c **** 			&& (runPtr->pid != RK_IDLETASK_ID))
 575:arch/armv7m/kernel/src/ksch.c **** 	{
 576:arch/armv7m/kernel/src/ksch.c **** 		/* this flag toggles, short-circuiting the */
 577:arch/armv7m/kernel/src/ksch.c **** 		/* return value  to FALSE                  */
 578:arch/armv7m/kernel/src/ksch.c **** 		runToCompl = TRUE;
 579:arch/armv7m/kernel/src/ksch.c **** 	}
 580:arch/armv7m/kernel/src/ksch.c **** 	/* if time-slice is enabled, decrease the time-slice. */
 581:arch/armv7m/kernel/src/ksch.c **** #if (RK_CONF_SCH_TSLICE==ON)
 582:arch/armv7m/kernel/src/ksch.c ****      BOOL tsliceDue = FALSE;
 583:arch/armv7m/kernel/src/ksch.c ****      tsliceDue = kIncTimeSlice_();
 584:arch/armv7m/kernel/src/ksch.c ****      if (tsliceDue)
 585:arch/armv7m/kernel/src/ksch.c ****      {
 586:arch/armv7m/kernel/src/ksch.c ****          kReadyRunningTask_();
 587:arch/armv7m/kernel/src/ksch.c ****          runPtr->timeSliceCnt = 0UL;
 588:arch/armv7m/kernel/src/ksch.c ****      }
 589:arch/armv7m/kernel/src/ksch.c ****  #endif
 590:arch/armv7m/kernel/src/ksch.c **** #if (RK_CONF_CALLOUT_TIMER==ON)
 591:arch/armv7m/kernel/src/ksch.c **** 	RK_TIMER *headTimPtr = RK_GET_CONTAINER_ADDR( timerListHeadPtr, RK_TIMER,
 2375              		.loc 1 591 2 is_stmt 1 view .LVU675
 2376              		.loc 1 591 25 is_stmt 0 view .LVU676
 2377 003e 284B     		ldr	r3, .L188+12
 2378 0040 1B68     		ldr	r3, [r3]
 2379              	.LVL196:
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 85


 592:arch/armv7m/kernel/src/ksch.c **** 			timeoutNode);
 593:arch/armv7m/kernel/src/ksch.c **** 
 594:arch/armv7m/kernel/src/ksch.c **** 	if (timerListHeadPtr != NULL)
 2380              		.loc 1 594 2 is_stmt 1 view .LVU677
 2381              		.loc 1 594 5 is_stmt 0 view .LVU678
 2382 0042 33B1     		cbz	r3, .L176
 595:arch/armv7m/kernel/src/ksch.c **** 	{
 596:arch/armv7m/kernel/src/ksch.c **** 
 597:arch/armv7m/kernel/src/ksch.c **** 		if (headTimPtr->phase > 0)
 2383              		.loc 1 597 3 is_stmt 1 view .LVU679
 2384              		.loc 1 597 17 is_stmt 0 view .LVU680
 2385 0044 53F80C2C 		ldr	r2, [r3, #-12]
 2386              		.loc 1 597 6 view .LVU681
 2387 0048 002A     		cmp	r2, #0
 2388 004a 29DD     		ble	.L177
 598:arch/armv7m/kernel/src/ksch.c **** 		{
 599:arch/armv7m/kernel/src/ksch.c **** 			headTimPtr->phase--;
 2389              		.loc 1 599 4 is_stmt 1 view .LVU682
 2390              		.loc 1 599 21 is_stmt 0 view .LVU683
 2391 004c 013A     		subs	r2, r2, #1
 2392 004e 43F80C2C 		str	r2, [r3, #-12]
 2393              	.L176:
 600:arch/armv7m/kernel/src/ksch.c **** 		}
 601:arch/armv7m/kernel/src/ksch.c **** 		else
 602:arch/armv7m/kernel/src/ksch.c **** 		{
 603:arch/armv7m/kernel/src/ksch.c **** 			if (timerListHeadPtr->dtick > 0)
 604:arch/armv7m/kernel/src/ksch.c **** 				((RK_TIMEOUT_NODE*) timerListHeadPtr)->dtick--;
 605:arch/armv7m/kernel/src/ksch.c **** 		}
 606:arch/armv7m/kernel/src/ksch.c **** 	}
 607:arch/armv7m/kernel/src/ksch.c **** 	if (timerListHeadPtr != NULL && timerListHeadPtr->dtick == 0)
 2394              		.loc 1 607 2 is_stmt 1 view .LVU684
 2395              		.loc 1 607 23 is_stmt 0 view .LVU685
 2396 0052 234B     		ldr	r3, .L188+12
 2397              	.LVL197:
 2398              		.loc 1 607 23 view .LVU686
 2399 0054 1B68     		ldr	r3, [r3]
 2400              		.loc 1 607 5 view .LVU687
 2401 0056 0BB1     		cbz	r3, .L178
 2402              		.loc 1 607 50 discriminator 1 view .LVU688
 2403 0058 1A69     		ldr	r2, [r3, #16]
 2404              		.loc 1 607 31 discriminator 1 view .LVU689
 2405 005a 42B3     		cbz	r2, .L186
 2406              	.LVL198:
 2407              	.L178:
 608:arch/armv7m/kernel/src/ksch.c **** 	{
 609:arch/armv7m/kernel/src/ksch.c **** 		timerListHeadPtrSaved = timerListHeadPtr;
 610:arch/armv7m/kernel/src/ksch.c **** 		kSignalSet(timTaskHandle, RK_SIG_TIMER);
 611:arch/armv7m/kernel/src/ksch.c **** 		timeOutTask = TRUE;
 612:arch/armv7m/kernel/src/ksch.c **** 	}
 613:arch/armv7m/kernel/src/ksch.c **** #endif
 614:arch/armv7m/kernel/src/ksch.c **** 
 615:arch/armv7m/kernel/src/ksch.c **** 	/* finally we check for any higher priority ready tasks */
 616:arch/armv7m/kernel/src/ksch.c **** 	/* if the current is not ready */
 617:arch/armv7m/kernel/src/ksch.c **** 	if (runPtr->status == RK_RUNNING)
 2408              		.loc 1 617 2 is_stmt 1 view .LVU690
 2409              		.loc 1 617 12 is_stmt 0 view .LVU691
 2410 005c 1E4B     		ldr	r3, .L188+4
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 86


 2411 005e 1B68     		ldr	r3, [r3]
 2412 0060 5B68     		ldr	r3, [r3, #4]
 2413              		.loc 1 617 5 view .LVU692
 2414 0062 202B     		cmp	r3, #32
 2415 0064 2CD0     		beq	.L187
 2416              	.L179:
 618:arch/armv7m/kernel/src/ksch.c **** 	{
 619:arch/armv7m/kernel/src/ksch.c **** 		RK_PRIO highestReadyPrio = kCalcNextTaskPrio_();
 620:arch/armv7m/kernel/src/ksch.c **** 		if (highestReadyPrio < runPtr->priority)
 621:arch/armv7m/kernel/src/ksch.c **** 		{
 622:arch/armv7m/kernel/src/ksch.c **** 			kReadyRunningTask_();
 623:arch/armv7m/kernel/src/ksch.c **** 		}
 624:arch/armv7m/kernel/src/ksch.c **** 	}
 625:arch/armv7m/kernel/src/ksch.c **** 	ret = ((!runToCompl) & ((runPtr->status == RK_READY) | timeOutTask));
 2417              		.loc 1 625 2 is_stmt 1 view .LVU693
 2418              		.loc 1 625 33 is_stmt 0 view .LVU694
 2419 0066 1C4B     		ldr	r3, .L188+4
 2420 0068 1B68     		ldr	r3, [r3]
 2421 006a 5B68     		ldr	r3, [r3, #4]
 2422              		.loc 1 625 55 view .LVU695
 2423 006c 102B     		cmp	r3, #16
 2424 006e 14BF     		ite	ne
 2425 0070 2046     		movne	r0, r4
 2426 0072 44F00100 		orreq	r0, r4, #1
 2427              	.LVL199:
 626:arch/armv7m/kernel/src/ksch.c **** 
 627:arch/armv7m/kernel/src/ksch.c **** 	return (ret);
 2428              		.loc 1 627 2 is_stmt 1 view .LVU696
 628:arch/armv7m/kernel/src/ksch.c **** }
 2429              		.loc 1 628 1 is_stmt 0 view .LVU697
 2430 0076 002D     		cmp	r5, #0
 2431 0078 14BF     		ite	ne
 2432 007a 0020     		movne	r0, #0
 2433 007c 00F00100 		andeq	r0, r0, #1
 2434              	.LVL200:
 2435              		.loc 1 628 1 view .LVU698
 2436 0080 38BD     		pop	{r3, r4, r5, pc}
 2437              	.LVL201:
 2438              	.L184:
 561:arch/armv7m/kernel/src/ksch.c **** 		runTime.nWraps += 1U;
 2439              		.loc 1 561 3 is_stmt 1 view .LVU699
 561:arch/armv7m/kernel/src/ksch.c **** 		runTime.nWraps += 1U;
 2440              		.loc 1 561 22 is_stmt 0 view .LVU700
 2441 0082 144B     		ldr	r3, .L188
 2442 0084 0022     		movs	r2, #0
 2443 0086 1A60     		str	r2, [r3]
 562:arch/armv7m/kernel/src/ksch.c **** 	}
 2444              		.loc 1 562 3 is_stmt 1 view .LVU701
 562:arch/armv7m/kernel/src/ksch.c **** 	}
 2445              		.loc 1 562 10 is_stmt 0 view .LVU702
 2446 0088 5A68     		ldr	r2, [r3, #4]
 562:arch/armv7m/kernel/src/ksch.c **** 	}
 2447              		.loc 1 562 18 view .LVU703
 2448 008a 0132     		adds	r2, r2, #1
 2449 008c 5A60     		str	r2, [r3, #4]
 2450 008e C7E7     		b	.L173
 2451              	.L180:
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 87


 548:arch/armv7m/kernel/src/ksch.c **** 	BOOL ret = FALSE;
 2452              		.loc 1 548 7 view .LVU704
 2453 0090 0024     		movs	r4, #0
 2454 0092 CCE7     		b	.L174
 2455              	.LVL202:
 2456              	.L185:
 574:arch/armv7m/kernel/src/ksch.c **** 	{
 2457              		.loc 1 574 14 view .LVU705
 2458 0094 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 574:arch/armv7m/kernel/src/ksch.c **** 	{
 2459              		.loc 1 574 4 view .LVU706
 2460 0096 0BB9     		cbnz	r3, .L182
 547:arch/armv7m/kernel/src/ksch.c **** 	BOOL timeOutTask = FALSE;
 2461              		.loc 1 547 7 view .LVU707
 2462 0098 0025     		movs	r5, #0
 2463 009a D0E7     		b	.L175
 2464              	.L182:
 578:arch/armv7m/kernel/src/ksch.c **** 	}
 2465              		.loc 1 578 14 view .LVU708
 2466 009c 0125     		movs	r5, #1
 2467 009e CEE7     		b	.L175
 2468              	.LVL203:
 2469              	.L177:
 603:arch/armv7m/kernel/src/ksch.c **** 				((RK_TIMEOUT_NODE*) timerListHeadPtr)->dtick--;
 2470              		.loc 1 603 4 is_stmt 1 view .LVU709
 603:arch/armv7m/kernel/src/ksch.c **** 				((RK_TIMEOUT_NODE*) timerListHeadPtr)->dtick--;
 2471              		.loc 1 603 24 is_stmt 0 view .LVU710
 2472 00a0 1A69     		ldr	r2, [r3, #16]
 603:arch/armv7m/kernel/src/ksch.c **** 				((RK_TIMEOUT_NODE*) timerListHeadPtr)->dtick--;
 2473              		.loc 1 603 7 view .LVU711
 2474 00a2 002A     		cmp	r2, #0
 2475 00a4 D5DD     		ble	.L176
 604:arch/armv7m/kernel/src/ksch.c **** 		}
 2476              		.loc 1 604 5 is_stmt 1 view .LVU712
 604:arch/armv7m/kernel/src/ksch.c **** 		}
 2477              		.loc 1 604 42 is_stmt 0 view .LVU713
 2478 00a6 1A69     		ldr	r2, [r3, #16]
 604:arch/armv7m/kernel/src/ksch.c **** 		}
 2479              		.loc 1 604 49 view .LVU714
 2480 00a8 013A     		subs	r2, r2, #1
 2481 00aa 1A61     		str	r2, [r3, #16]
 2482 00ac D1E7     		b	.L176
 2483              	.LVL204:
 2484              	.L186:
 609:arch/armv7m/kernel/src/ksch.c **** 		kSignalSet(timTaskHandle, RK_SIG_TIMER);
 2485              		.loc 1 609 3 is_stmt 1 view .LVU715
 609:arch/armv7m/kernel/src/ksch.c **** 		kSignalSet(timTaskHandle, RK_SIG_TIMER);
 2486              		.loc 1 609 25 is_stmt 0 view .LVU716
 2487 00ae 0D4A     		ldr	r2, .L188+16
 2488 00b0 1360     		str	r3, [r2]
 610:arch/armv7m/kernel/src/ksch.c **** 		timeOutTask = TRUE;
 2489              		.loc 1 610 3 is_stmt 1 view .LVU717
 2490 00b2 0221     		movs	r1, #2
 2491 00b4 0C4B     		ldr	r3, .L188+20
 2492 00b6 1868     		ldr	r0, [r3]
 2493 00b8 FFF7FEFF 		bl	kSignalSet
 2494              	.LVL205:
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 88


 611:arch/armv7m/kernel/src/ksch.c **** 	}
 2495              		.loc 1 611 3 view .LVU718
 611:arch/armv7m/kernel/src/ksch.c **** 	}
 2496              		.loc 1 611 15 is_stmt 0 view .LVU719
 2497 00bc 0124     		movs	r4, #1
 2498 00be CDE7     		b	.L178
 2499              	.LVL206:
 2500              	.L187:
 2501              	.LBB66:
 619:arch/armv7m/kernel/src/ksch.c **** 		if (highestReadyPrio < runPtr->priority)
 2502              		.loc 1 619 3 is_stmt 1 view .LVU720
 619:arch/armv7m/kernel/src/ksch.c **** 		if (highestReadyPrio < runPtr->priority)
 2503              		.loc 1 619 30 is_stmt 0 view .LVU721
 2504 00c0 FFF7FEFF 		bl	kCalcNextTaskPrio_
 2505              	.LVL207:
 620:arch/armv7m/kernel/src/ksch.c **** 		{
 2506              		.loc 1 620 3 is_stmt 1 view .LVU722
 620:arch/armv7m/kernel/src/ksch.c **** 		{
 2507              		.loc 1 620 32 is_stmt 0 view .LVU723
 2508 00c4 044B     		ldr	r3, .L188+4
 2509 00c6 1B68     		ldr	r3, [r3]
 2510 00c8 5B7F     		ldrb	r3, [r3, #29]	@ zero_extendqisi2
 620:arch/armv7m/kernel/src/ksch.c **** 		{
 2511              		.loc 1 620 6 view .LVU724
 2512 00ca 8342     		cmp	r3, r0
 2513 00cc CBD9     		bls	.L179
 622:arch/armv7m/kernel/src/ksch.c **** 		}
 2514              		.loc 1 622 4 is_stmt 1 view .LVU725
 2515 00ce FFF7FEFF 		bl	kReadyRunningTask_
 2516              	.LVL208:
 622:arch/armv7m/kernel/src/ksch.c **** 		}
 2517              		.loc 1 622 4 is_stmt 0 view .LVU726
 2518 00d2 C8E7     		b	.L179
 2519              	.L189:
 2520              		.align	2
 2521              	.L188:
 2522 00d4 00000000 		.word	runTime
 2523 00d8 00000000 		.word	runPtr
 2524 00dc 00000000 		.word	timeOutListHeadPtr
 2525 00e0 00000000 		.word	timerListHeadPtr
 2526 00e4 00000000 		.word	timerListHeadPtrSaved
 2527 00e8 00000000 		.word	timTaskHandle
 2528              	.LBE66:
 2529              		.cfi_endproc
 2530              	.LFE74:
 2532              		.global	timerListHeadPtrSaved
 2533              		.section	.bss.timerListHeadPtrSaved,"aw",%nobits
 2534              		.align	2
 2537              	timerListHeadPtrSaved:
 2538 0000 00000000 		.space	4
 2539              		.global	headTimPtr
 2540              		.section	.bss.headTimPtr,"aw",%nobits
 2541              		.align	2
 2544              	headTimPtr:
 2545 0000 00000000 		.space	4
 2546              		.global	timerListHeadPtr
 2547              		.section	.bss.timerListHeadPtr,"aw",%nobits
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 89


 2548              		.align	2
 2551              	timerListHeadPtr:
 2552 0000 00000000 		.space	4
 2553              		.global	timeOutListHeadPtr
 2554              		.section	.bss.timeOutListHeadPtr,"aw",%nobits
 2555              		.align	2
 2558              	timeOutListHeadPtr:
 2559 0000 00000000 		.space	4
 2560              		.section	.bss.pPid,"aw",%nobits
 2563              	pPid:
 2564 0000 00       		.space	1
 2565              		.section	.bss.version,"aw",%nobits
 2566              		.align	2
 2569              	version:
 2570 0000 00000000 		.space	4
 2571              		.section	.bss.readyQRightMask,"aw",%nobits
 2572              		.align	2
 2575              	readyQRightMask:
 2576 0000 00000000 		.space	4
 2577              		.section	.bss.readyQBitMask,"aw",%nobits
 2578              		.align	2
 2581              	readyQBitMask:
 2582 0000 00000000 		.space	4
 2583              		.section	.bss.nextTaskPrio,"aw",%nobits
 2586              	nextTaskPrio:
 2587 0000 00       		.space	1
 2588              		.section	.bss.highestPrio,"aw",%nobits
 2591              	highestPrio:
 2592 0000 00       		.space	1
 2593              		.global	runTime
 2594              		.section	.bss.runTime,"aw",%nobits
 2595              		.align	2
 2598              	runTime:
 2599 0000 00000000 		.space	8
 2599      00000000 
 2600              		.global	idleTaskHandle
 2601              		.section	.bss.idleTaskHandle,"aw",%nobits
 2602              		.align	2
 2605              	idleTaskHandle:
 2606 0000 00000000 		.space	4
 2607              		.global	timTaskHandle
 2608              		.section	.bss.timTaskHandle,"aw",%nobits
 2609              		.align	2
 2612              	timTaskHandle:
 2613 0000 00000000 		.space	4
 2614              		.global	tcbs
 2615              		.section	.bss.tcbs,"aw",%nobits
 2616              		.align	2
 2619              	tcbs:
 2620 0000 00000000 		.space	500
 2620      00000000 
 2620      00000000 
 2620      00000000 
 2620      00000000 
 2621              		.global	runPtr
 2622              		.section	.bss.runPtr,"aw",%nobits
 2623              		.align	2
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 90


 2626              	runPtr:
 2627 0000 00000000 		.space	4
 2628              		.global	readyQueue
 2629              		.section	.bss.readyQueue,"aw",%nobits
 2630              		.align	2
 2633              	readyQueue:
 2634 0000 00000000 		.space	60
 2634      00000000 
 2634      00000000 
 2634      00000000 
 2634      00000000 
 2635              		.text
 2636              	.Letext0:
 2637              		.file 4 "arch/armv7m/kernel/inc/khal.h"
 2638              		.file 5 "/Applications/STM32CubeIDE.app/Contents/Eclipse/plugins/com.st.stm32cube.ide.mcu.external
 2639              		.file 6 "/Applications/STM32CubeIDE.app/Contents/Eclipse/plugins/com.st.stm32cube.ide.mcu.external
 2640              		.file 7 "arch/armv7m/kernel/inc/kdefs.h"
 2641              		.file 8 "core/inc/kobjs.h"
 2642              		.file 9 "core/inc/kversion.h"
 2643              		.file 10 "core/inc/ktimer.h"
 2644              		.file 11 "core/inc/ksystasks.h"
 2645              		.file 12 "core/inc/kitc.h"
 2646              		.file 13 "core/inc/kerr.h"
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 91


DEFINED SYMBOLS
                            *ABS*:00000000 ksch.c
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:19     .text.kInitStack_:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:24     .text.kInitStack_:00000000 kInitStack_
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:214    .text.kInitStack_:000000f0 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:220    .text.kInitTcb_:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:225    .text.kInitTcb_:00000000 kInitTcb_
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:305    .text.kInitTcb_:0000004c $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2563   .bss.pPid:00000000 pPid
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2619   .bss.tcbs:00000000 tcbs
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:311    .text.kInitRunTime_:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:316    .text.kInitRunTime_:00000000 kInitRunTime_
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:336    .text.kInitRunTime_:0000000c $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2598   .bss.runTime:00000000 runTime
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:341    .text.kCalcNextTaskPrio_:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:346    .text.kCalcNextTaskPrio_:00000000 kCalcNextTaskPrio_
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:393    .text.kCalcNextTaskPrio_:00000024 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2581   .bss.readyQBitMask:00000000 readyQBitMask
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2575   .bss.readyQRightMask:00000000 readyQRightMask
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:399    .text.kTCBQInit:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:405    .text.kTCBQInit:00000000 kTCBQInit
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:479    .rodata.kInitQueues_.str1.4:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:483    .text.kInitQueues_:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:488    .text.kInitQueues_:00000000 kInitQueues_
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:556    .text.kInitQueues_:00000030 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2633   .bss.readyQueue:00000000 readyQueue
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:562    .text.kTCBQDeq:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:568    .text.kTCBQDeq:00000000 kTCBQDeq
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:727    .text.kTCBQDeq:00000080 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:733    .text.kTCBQRem:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:739    .text.kTCBQRem:00000000 kTCBQRem
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:906    .text.kTCBQRem:00000084 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:912    .text.kTCBQPeek:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:918    .text.kTCBQPeek:00000000 kTCBQPeek
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:959    .text.kReadyQDeq:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:965    .text.kReadyQDeq:00000000 kReadyQDeq
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1011   .text.kReadyQDeq:00000024 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1016   .rodata.kCreateTask.str1.4:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1023   .text.kCreateTask:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1029   .text.kCreateTask:00000000 kCreateTask
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1228   .text.kCreateTask:000000e0 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2605   .bss.idleTaskHandle:00000000 idleTaskHandle
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2612   .bss.timTaskHandle:00000000 timTaskHandle
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1242   .text.kEnterCR:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1248   .text.kEnterCR:00000000 kEnterCR
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1318   .text.kExitCR:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1324   .text.kExitCR:00000000 kExitCR
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1369   .text.kTCBQEnq:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1375   .text.kTCBQEnq:00000000 kTCBQEnq
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1549   .text.kTCBQEnq:00000070 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1559   .text.kReadyRunningTask_:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1564   .text.kReadyRunningTask_:00000000 kReadyRunningTask_
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1613   .text.kReadyRunningTask_:00000034 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2626   .bss.runPtr:00000000 runPtr
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1619   .text.kTCBQEnqByPrio:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1625   .text.kTCBQEnqByPrio:00000000 kTCBQEnqByPrio
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1780   .text.kYield:00000000 $t
ARM GAS  /var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s 			page 92


/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1786   .text.kYield:00000000 kYield
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1832   .text.kYield:00000028 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1837   .text.kReadyCtxtSwtch:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1843   .text.kReadyCtxtSwtch:00000000 kReadyCtxtSwtch
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1967   .text.kReadyCtxtSwtch:00000088 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2586   .bss.nextTaskPrio:00000000 nextTaskPrio
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1975   .text.kInit:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:1981   .text.kInit:00000000 kInit
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2174   .text.kInit:000000bc $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2569   .bss.version:00000000 version
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2591   .bss.highestPrio:00000000 highestPrio
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2184   .text.kSchSwtch:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2190   .text.kSchSwtch:00000000 kSchSwtch
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2290   .text.kSchSwtch:00000060 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2297   .text.kTickHandler:00000000 $t
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2303   .text.kTickHandler:00000000 kTickHandler
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2522   .text.kTickHandler:000000d4 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2558   .bss.timeOutListHeadPtr:00000000 timeOutListHeadPtr
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2551   .bss.timerListHeadPtr:00000000 timerListHeadPtr
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2537   .bss.timerListHeadPtrSaved:00000000 timerListHeadPtrSaved
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2534   .bss.timerListHeadPtrSaved:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2544   .bss.headTimPtr:00000000 headTimPtr
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2541   .bss.headTimPtr:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2548   .bss.timerListHeadPtr:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2555   .bss.timeOutListHeadPtr:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2564   .bss.pPid:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2566   .bss.version:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2572   .bss.readyQRightMask:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2578   .bss.readyQBitMask:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2587   .bss.nextTaskPrio:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2592   .bss.highestPrio:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2595   .bss.runTime:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2602   .bss.idleTaskHandle:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2609   .bss.timTaskHandle:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2616   .bss.tcbs:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2623   .bss.runPtr:00000000 $d
/var/folders/fg/4fzv35n91mbcgx4z5jzqdsl40000gn/T//ccmOwD7R.s:2630   .bss.readyQueue:00000000 $d

UNDEFINED SYMBOLS
__getReadyPrio
kErrHandler
idleStack
IdleTask
timerHandlerStack
TimerHandlerTask
kGetVersion
kApplicationInit
KVERSION
kHandleTimeoutList
kSignalSet
